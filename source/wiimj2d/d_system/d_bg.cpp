// d_bg.cpp
// NSMBW .text: 0x80076FD0 - 0x8007E180

#include "d_bg.h"

#include "d_player/d_a_player.h"
#include "d_system/d_a_player_manager.h"

[[nsmbw_data(0x8042A0B0)]]
dBg_c* dBg_c::m_bg_p;

[[nsmbw(0x80077520)]]
u16* dBg_c::UNDEF_80077520(u16, u16, u8, int*, bool);

[[nsmbw(0x80077860)]]
void dBg_c::BgUnitChange(u16, u16, int, u16);

[[nsmbw(0x80078520)]]
dPanelObjMgr_c* dBg_c::getPanelObjMgr(int);

[[nsmbw(0x800785E0)]]
bool dBg_c::UNDEF_800785E0()
{
    u8 mask = daPyMng_c::getActScrollInfo();

    for (int i = 0; i < PLAYER_COUNT; i++) {
        if (mask & (1 << i)) {
            dAcPy_c* player = daPyMng_c::getPlayer(i);
            if (player != nullptr && player->mScrollType == 6) {
                return true;
            }
        }
    }

    return false;
}

[[nsmbw(0x80078670)]]
bool UNDEF_80078670() ASM_METHOD(
  // clang-format off
/* 80078670 9421FFB0 */  stwu     r1, -80(r1);
/* 80078674 7C0802A6 */  mflr     r0;
/* 80078678 90010054 */  stw      r0, 84(r1);
/* 8007867C 39610020 */  addi     r11, r1, 32;
/* 80078680 DBE10040 */  stfd     f31, 64(r1);
/* 80078684 F3E10048 */  .long    0xF3E10048; // psq_st   f31, 72(r1), 0, 0;
/* 80078688 DBC10030 */  stfd     f30, 48(r1);
/* 8007868C F3C10038 */  .long    0xF3C10038; // psq_st   f30, 56(r1), 0, 0;
/* 80078690 DBA10020 */  stfd     f29, 32(r1);
/* 80078694 F3A10028 */  .long    0xF3A10028; // psq_st   f29, 40(r1), 0, 0;
/* 80078698 482649CD */  bl       UNDEF_802dd064;
/* 8007869C 7C7B1B78 */  mr       r27, r3;
/* 800786A0 3BA00000 */  li       r29, 0;
/* 800786A4 4BFE75CD */  bl       UNDEF_8005fc70;
/* 800786A8 C3A28CB8 */  lfs      f29, UNDEF_8042c018@sda21;
/* 800786AC 7C7E1B78 */  mr       r30, r3;
/* 800786B0 C3C28CBC */  lfs      f30, UNDEF_8042c01c@sda21;
/* 800786B4 3B800000 */  li       r28, 0;
/* 800786B8 C3E28CC0 */  lfs      f31, UNDEF_8042c020@sda21;
/* 800786BC 3BE00001 */  li       r31, 1;
UNDEF_800786c0:;
/* 800786C0 7F83E378 */  mr       r3, r28;
/* 800786C4 4BFE723D */  bl       UNDEF_8005f900;
/* 800786C8 2C030000 */  cmpwi    r3, 0;
/* 800786CC 41820074 */  beq-     UNDEF_80078740;
/* 800786D0 57C4063E */  clrlwi   r4, r30, 24;
/* 800786D4 7FE0E030 */  slw      r0, r31, r28;
/* 800786D8 7C800039 */  and.     r0, r4, r0;
/* 800786DC 41820064 */  beq-     UNDEF_80078740;
/* 800786E0 8803153C */  lbz      r0, 5436(r3);
/* 800786E4 2C000006 */  cmpwi    r0, 6;
/* 800786E8 40820058 */  bne-     UNDEF_80078740;
/* 800786EC 80ADA760 */  lwz      r5, UNDEF_8042a0e0@sda21;
/* 800786F0 C0231530 */  lfs      f1, 5424(r3);
/* 800786F4 C005003C */  lfs      f0, 60(r5);
/* 800786F8 EC00E828 */  fsubs    f0, f0, f29;
/* 800786FC FC010040 */  fcmpo    cr0, f1, f0;
/* 80078700 40810014 */  ble-     UNDEF_80078714;
/* 80078704 3C9B0009 */  addis    r4, r27, 9;
/* 80078708 C004000C */  lfs      f0, 12(r4);
/* 8007870C FC00F040 */  fcmpo    cr0, f0, f30;
/* 80078710 4180002C */  blt-     UNDEF_8007873c;
UNDEF_80078714:;
/* 80078714 3C9B0009 */  addis    r4, r27, 9;
/* 80078718 C004000C */  lfs      f0, 12(r4);
/* 8007871C FC00F040 */  fcmpo    cr0, f0, f30;
/* 80078720 4C411382 */  cror     2, 1, 2;
/* 80078724 4082001C */  bne-     UNDEF_80078740;
/* 80078728 C005003C */  lfs      f0, 60(r5);
/* 8007872C C0231530 */  lfs      f1, 5424(r3);
/* 80078730 EC00F828 */  fsubs    f0, f0, f31;
/* 80078734 FC010040 */  fcmpo    cr0, f1, f0;
/* 80078738 40810008 */  ble-     UNDEF_80078740;
UNDEF_8007873c:;
/* 8007873C 3BA00001 */  li       r29, 1;
UNDEF_80078740:;
/* 80078740 3B9C0001 */  addi     r28, r28, 1;
/* 80078744 2C1C0004 */  cmpwi    r28, PLAYER_COUNT;
/* 80078748 4180FF78 */  blt+     UNDEF_800786c0;
/* 8007874C E3E10048 */  .long    0xE3E10048; // psq_l    f31, 72(r1), 0, 0;
/* 80078750 7FA3EB78 */  mr       r3, r29;
/* 80078754 CBE10040 */  lfd      f31, 64(r1);
/* 80078758 E3C10038 */  .long    0xE3C10038; // psq_l    f30, 56(r1), 0, 0;
/* 8007875C CBC10030 */  lfd      f30, 48(r1);
/* 80078760 E3A10028 */  .long    0xE3A10028; // psq_l    f29, 40(r1), 0, 0;
/* 80078764 CBA10020 */  lfd      f29, 32(r1);
/* 80078768 39610020 */  addi     r11, r1, 32;
/* 8007876C 48264945 */  bl       UNDEF_802dd0b0;
/* 80078770 80010054 */  lwz      r0, 84(r1);
/* 80078774 7C0803A6 */  mtlr     r0;
/* 80078778 38210050 */  addi     r1, r1, 80;
/* 8007877C 4E800020 */  blr;
  // clang-format on
);

[[nsmbw(0x8007BEF0)]]
void dBg_c::initScroll() ASM_METHOD(
  // clang-format off
/* 8007BEF0 9421FF20 */  stwu     r1, -224(r1);
/* 8007BEF4 7C0802A6 */  mflr     r0;
/* 8007BEF8 900100E4 */  stw      r0, 228(r1);
/* 8007BEFC DBE100D0 */  stfd     f31, 208(r1);
/* 8007BF00 F3E100D8 */  .long    0xF3E100D8; // psq_st   f31, 216(r1), 0, 0;
/* 8007BF04 C3E28DB0 */  lfs      f31, UNDEF_8042c110@sda21;
/* 8007BF08 DBC100C0 */  stfd     f30, 192(r1);
/* 8007BF0C F3C100C8 */  .long    0xF3C100C8; // psq_st   f30, 200(r1), 0, 0;
/* 8007BF10 C3C28DB4 */  lfs      f30, UNDEF_8042c114@sda21;
/* 8007BF14 DBA100B0 */  stfd     f29, 176(r1);
/* 8007BF18 F3A100B8 */  .long    0xF3A100B8; // psq_st   f29, 184(r1), 0, 0;
/* 8007BF1C FFA0F090 */  fmr      f29, f30;
/* 8007BF20 DB8100A0 */  stfd     f28, 160(r1);
/* 8007BF24 F38100A8 */  .long    0xF38100A8; // psq_st   f28, 168(r1), 0, 0;
/* 8007BF28 FF80F890 */  fmr      f28, f31;
/* 8007BF2C 93E1009C */  stw      r31, 156(r1);
/* 8007BF30 7C7F1B78 */  mr       r31, r3;
/* 8007BF34 93C10098 */  stw      r30, 152(r1);
/* 8007BF38 93A10094 */  stw      r29, 148(r1);
/* 8007BF3C 93810090 */  stw      r28, 144(r1);
/* 8007BF40 3B800000 */  li       r28, 0;
/* 8007BF44 83ADAB28 */  lwz      r29, UNDEF_8042a4a8@sda21;
/* 8007BF48 83CDA760 */  lwz      r30, UNDEF_8042a0e0@sda21;
UNDEF_8007bf4c:;
/* 8007BF4C 889D120E */  lbz      r4, 4622(r29);
/* 8007BF50 38610020 */  addi     r3, r1, 32;
/* 8007BF54 88BD1211 */  lbz      r5, 4625(r29);
/* 8007BF58 4BFE2E39 */  bl       getPlayerSetPos__9daPyMng_cFUcUc;
/* 8007BF5C C0010020 */  lfs      f0, 32(r1);
/* 8007BF60 C0210024 */  lfs      f1, 36(r1);
/* 8007BF64 FC00F840 */  fcmpo    cr0, f0, f31;
/* 8007BF68 40800008 */  bge-     UNDEF_8007bf70;
/* 8007BF6C FFE00090 */  fmr      f31, f0;
UNDEF_8007bf70:;
/* 8007BF70 FC00F040 */  fcmpo    cr0, f0, f30;
/* 8007BF74 40810008 */  ble-     UNDEF_8007bf7c;
/* 8007BF78 FFC00090 */  fmr      f30, f0;
UNDEF_8007bf7c:;
/* 8007BF7C FC01E840 */  fcmpo    cr0, f1, f29;
/* 8007BF80 40810008 */  ble-     UNDEF_8007bf88;
/* 8007BF84 FFA00890 */  fmr      f29, f1;
UNDEF_8007bf88:;
/* 8007BF88 FC01E040 */  fcmpo    cr0, f1, f28;
/* 8007BF8C 40800008 */  bge-     UNDEF_8007bf94;
/* 8007BF90 FF800890 */  fmr      f28, f1;
UNDEF_8007bf94:;
/* 8007BF94 3B9C0001 */  addi     r28, r28, 1;
/* 8007BF98          */  cmpwi    r28, PLAYER_COUNT;
/* 8007BF9C 4180FFB0 */  blt+     UNDEF_8007bf4c;
/* 8007BFA0 3C9F0009 */  addis    r4, r31, 9;
/* 8007BFA4 C0028C90 */  lfs      f0, UNDEF_8042bff0@sda21;
/* 8007BFA8 38000000 */  li       r0, 0;
/* 8007BFAC D3E40A0C */  stfs     f31, 2572(r4);
/* 8007BFB0 38610014 */  addi     r3, r1, 20;
/* 8007BFB4 D3C40A10 */  stfs     f30, 2576(r4);
/* 8007BFB8 D3A40A14 */  stfs     f29, 2580(r4);
/* 8007BFBC D3840A18 */  stfs     f28, 2584(r4);
/* 8007BFC0 D3E409D8 */  stfs     f31, 2520(r4);
/* 8007BFC4 D3C409DC */  stfs     f30, 2524(r4);
/* 8007BFC8 D3A409E0 */  stfs     f29, 2528(r4);
/* 8007BFCC D38409E4 */  stfs     f28, 2532(r4);
/* 8007BFD0 90040064 */  stw      r0, 100(r4);
/* 8007BFD4 D0040068 */  stfs     f0, 104(r4);
/* 8007BFD8 D004006C */  stfs     f0, 108(r4);
/* 8007BFDC D0040070 */  stfs     f0, 112(r4);
/* 8007BFE0 D0040074 */  stfs     f0, 116(r4);
/* 8007BFE4 889D120E */  lbz      r4, 4622(r29);
/* 8007BFE8 88BD1211 */  lbz      r5, 4625(r29);
/* 8007BFEC 4BFE2DA5 */  bl       getPlayerSetPos__9daPyMng_cFUcUc;
/* 8007BFF0 C0610018 */  lfs      f3, 24(r1);
/* 8007BFF4 3C9F0009 */  addis    r4, r31, 9;
/* 8007BFF8 C0428CEC */  lfs      f2, UNDEF_8042c04c@sda21;
/* 8007BFFC 7FE3FB78 */  mr       r3, r31;
/* 8007C000 C0228CF0 */  lfs      f1, UNDEF_8042c050@sda21;
/* 8007C004 C0028C90 */  lfs      f0, UNDEF_8042bff0@sda21;
/* 8007C008 D0640060 */  stfs     f3, 96(r4);
/* 8007C00C D044FE54 */  stfs     f2, -428(r4);
/* 8007C010 D024FE58 */  stfs     f1, -424(r4);
/* 8007C014 D004FE60 */  stfs     f0, -416(r4);
/* 8007C018 4BFFD6F9 */  bl       UNDEF_80079710; // calcLookatOffs__5dBg_cFv
/* 8007C01C 881D120C */  lbz      r0, 4620(r29);
/* 8007C020 28000007 */  cmplwi   r0, 7;
/* 8007C024 40820024 */  bne-     UNDEF_8007c048;
/* 8007C028 881D120D */  lbz      r0, 4621(r29);
/* 8007C02C 28000006 */  cmplwi   r0, 6;
/* 8007C030 40820018 */  bne-     UNDEF_8007c048;
/* 8007C034 3C7F0009 */  addis    r3, r31, 9;
/* 8007C038 C0028DB8 */  lfs      f0, UNDEF_8042c118@sda21;
/* 8007C03C C023FE48 */  lfs      f1, -440(r3);
/* 8007C040 EC01002A */  fadds    f0, f1, f0;
/* 8007C044 D003FE48 */  stfs     f0, -440(r3);
UNDEF_8007c048:;
/* 8007C048 7FE3FB78 */  mr       r3, r31;
/* 8007C04C 38810014 */  addi     r4, r1, 20;
/* 8007C050 38A00001 */  li       r5, 1;
/* 8007C054 4BFFE66D */  bl       UNDEF_8007a6c0;
/* 8007C058 3C7F0009 */  addis    r3, r31, 9;
/* 8007C05C C0028CDC */  lfs      f0, UNDEF_8042c03c@sda21;
/* 8007C060 C043FE8C */  lfs      f2, -372(r3);
/* 8007C064 38000000 */  li       r0, 0;
/* 8007C068 C023FE88 */  lfs      f1, -376(r3);
/* 8007C06C D043FE94 */  stfs     f2, -364(r3);
/* 8007C070 D023FE90 */  stfs     f1, -368(r3);
/* 8007C074 D03E0038 */  stfs     f1, 56(r30);
/* 8007C078 C023FE8C */  lfs      f1, -372(r3);
/* 8007C07C D03E003C */  stfs     f1, 60(r30);
/* 8007C080 C063FE78 */  lfs      f3, -392(r3);
/* 8007C084 C043FE8C */  lfs      f2, -372(r3);
/* 8007C088 C083FE7C */  lfs      f4, -388(r3);
/* 8007C08C EC2000F2 */  fmuls    f1, f0, f3;
/* 8007C090 D04309D0 */  stfs     f2, 2512(r3);
/* 8007C094 D083FE84 */  stfs     f4, -380(r3);
/* 8007C098 D063FE80 */  stfs     f3, -384(r3);
/* 8007C09C D07E0040 */  stfs     f3, 64(r30);
/* 8007C0A0 C043FE7C */  lfs      f2, -388(r3);
/* 8007C0A4 D05E0044 */  stfs     f2, 68(r30);
/* 8007C0A8 EC0000B2 */  fmuls    f0, f0, f2;
/* 8007C0AC C05E0038 */  lfs      f2, 56(r30);
/* 8007C0B0 EC22082A */  fadds    f1, f2, f1;
/* 8007C0B4 D03E0048 */  stfs     f1, 72(r30);
/* 8007C0B8 C03E003C */  lfs      f1, 60(r30);
/* 8007C0BC EC010028 */  fsubs    f0, f1, f0;
/* 8007C0C0 D01E004C */  stfs     f0, 76(r30);
/* 8007C0C4 98030023 */  stb      r0, 35(r3);
/* 8007C0C8 98030024 */  stb      r0, 36(r3);

                         // Find the lowest active player
                         li       r0, PLAYER_COUNT;
                         mtctr    r0;
                         lis      r5, (mPlayerEntry__9daPyMng_c - 4)@ha;
                         addi     r5, r5, (mPlayerEntry__9daPyMng_c - 4)@l;
                         li       r4, 0;

L_dBg_c_initScroll_LowestPlayerLoop:;
                         lwzu     r0, 4(r5);
                         cmpwi    r0, 0;
                         bne-     L_dBg_c_initScroll_LowestPlayerLoopEnd;

                         addi     r4, r4, 1;
                         bdnz+    L_dBg_c_initScroll_LowestPlayerLoop;
                        
L_dBg_c_initScroll_LowestPlayerLoopEnd:;
/* 8007C0CC          */  stb      r4, 37(r3);

/* 8007C0D0 4BFE3C51 */  bl       getScrollNum__9daPyMng_cFv;
/* 8007C0D4 3803FFFF */  subi     r0, r3, 1;
/* 8007C0D8 7C000034 */  cntlzw   r0, r0;
/* 8007C0DC 5400D97F */  srwi.    r0, r0, 5;
/* 8007C0E0 40820010 */  bne-     UNDEF_8007c0f0;
/* 8007C0E4 3C7F0009 */  addis    r3, r31, 9;
/* 8007C0E8 C003FE8C */  lfs      f0, -372(r3);
/* 8007C0EC D00300A4 */  stfs     f0, 164(r3);
UNDEF_8007c0f0:;
/* 8007C0F0 C0228C90 */  lfs      f1, UNDEF_8042bff0@sda21;
/* 8007C0F4 3C9F0009 */  addis    r4, r31, 9;
/* 8007C0F8 C0628C98 */  lfs      f3, UNDEF_8042bff8@sda21;
/* 8007C0FC 38A00000 */  li       r5, 0;
/* 8007C100 C0428DBC */  lfs      f2, UNDEF_8042c11c@sda21;
/* 8007C104 FC000818 */  frsp     f0, f1;
/* 8007C108 90A4008C */  stw      r5, 140(r4);
/* 8007C10C 7FE6FB78 */  mr       r6, r31;
/* 8007C110 38E00000 */  li       r7, 0;
/* 8007C114 38000008 */  li       r0, 8;
/* 8007C118 D0640088 */  stfs     f3, 136(r4);
/* 8007C11C 98A40094 */  stb      r5, 148(r4);
/* 8007C120 D0440098 */  stfs     f2, 152(r4);
/* 8007C124 D064009C */  stfs     f3, 156(r4);
/* 8007C128 D06400A0 */  stfs     f3, 160(r4);
/* 8007C12C D02400A8 */  stfs     f1, 168(r4);
/* 8007C130 806DA760 */  lwz      r3, UNDEF_8042a0e0@sda21;
/* 8007C134 D0210040 */  stfs     f1, 64(r1);
/* 8007C138 C0430038 */  lfs      f2, 56(r3);
/* 8007C13C D044FEA8 */  stfs     f2, -344(r4);
/* 8007C140 806DA760 */  lwz      r3, UNDEF_8042a0e0@sda21;
/* 8007C144 D0210044 */  stfs     f1, 68(r1);
/* 8007C148 C043003C */  lfs      f2, 60(r3);
/* 8007C14C D044FEAC */  stfs     f2, -340(r4);
/* 8007C150 D0210048 */  stfs     f1, 72(r1);
/* 8007C154 D021004C */  stfs     f1, 76(r1);
/* 8007C158 D0210050 */  stfs     f1, 80(r1);
/* 8007C15C D0210054 */  stfs     f1, 84(r1);
/* 8007C160 D0210058 */  stfs     f1, 88(r1);
/* 8007C164 D021005C */  stfs     f1, 92(r1);
/* 8007C168 D0210060 */  stfs     f1, 96(r1);
/* 8007C16C D0210064 */  stfs     f1, 100(r1);
/* 8007C170 D0210068 */  stfs     f1, 104(r1);
/* 8007C174 D021006C */  stfs     f1, 108(r1);
/* 8007C178 D0210070 */  stfs     f1, 112(r1);
/* 8007C17C D0210074 */  stfs     f1, 116(r1);
/* 8007C180 D0210078 */  stfs     f1, 120(r1);
/* 8007C184 D021007C */  stfs     f1, 124(r1);
/* 8007C188 B0A10080 */  sth      r5, 128(r1);
UNDEF_8007c190:;
/* 8007C190 7CC33378 */  mr       r3, r6;
/* 8007C194 39000000 */  li       r8, 0;
UNDEF_8007c198:;
/* 8007C198 7C641B78 */  mr       r4, r3;
/* 8007C19C 7C0903A6 */  mtctr    r0;
UNDEF_8007c1a0:;
/* 8007C1A0 D0041078 */  stfs     f0, 4216(r4);
/* 8007C1A4 D004107C */  stfs     f0, 4220(r4);
/* 8007C1A8 D0041080 */  stfs     f0, 4224(r4);
/* 8007C1AC D0041084 */  stfs     f0, 4228(r4);
/* 8007C1B0 D0041088 */  stfs     f0, 4232(r4);
/* 8007C1B4 D004108C */  stfs     f0, 4236(r4);
/* 8007C1B8 D0041090 */  stfs     f0, 4240(r4);
/* 8007C1BC D0041094 */  stfs     f0, 4244(r4);
/* 8007C1C0 D0041098 */  stfs     f0, 4248(r4);
/* 8007C1C4 D004109C */  stfs     f0, 4252(r4);
/* 8007C1C8 D00410A0 */  stfs     f0, 4256(r4);
/* 8007C1CC D00410A4 */  stfs     f0, 4260(r4);
/* 8007C1D0 D00410A8 */  stfs     f0, 4264(r4);
/* 8007C1D4 D00410AC */  stfs     f0, 4268(r4);
/* 8007C1D8 D00410B0 */  stfs     f0, 4272(r4);
/* 8007C1DC D00410B4 */  stfs     f0, 4276(r4);
/* 8007C1E0 B0A410B8 */  sth      r5, 4280(r4);
/* 8007C1E4 D00410BC */  stfs     f0, 4284(r4);
/* 8007C1E8 D00410C0 */  stfs     f0, 4288(r4);
/* 8007C1EC D00410C4 */  stfs     f0, 4292(r4);
/* 8007C1F0 D00410C8 */  stfs     f0, 4296(r4);
/* 8007C1F4 D00410CC */  stfs     f0, 4300(r4);
/* 8007C1F8 D00410D0 */  stfs     f0, 4304(r4);
/* 8007C1FC D00410D4 */  stfs     f0, 4308(r4);
/* 8007C200 D00410D8 */  stfs     f0, 4312(r4);
/* 8007C204 D00410DC */  stfs     f0, 4316(r4);
/* 8007C208 D00410E0 */  stfs     f0, 4320(r4);
/* 8007C20C D00410E4 */  stfs     f0, 4324(r4);
/* 8007C210 D00410E8 */  stfs     f0, 4328(r4);
/* 8007C214 D00410EC */  stfs     f0, 4332(r4);
/* 8007C218 D00410F0 */  stfs     f0, 4336(r4);
/* 8007C21C D00410F4 */  stfs     f0, 4340(r4);
/* 8007C220 D00410F8 */  stfs     f0, 4344(r4);
/* 8007C224 B0A410FC */  sth      r5, 4348(r4);
/* 8007C228 38840088 */  addi     r4, r4, 136;
/* 8007C22C 4200FF74 */  bdnz+    UNDEF_8007c1a0;
/* 8007C230 39080001 */  addi     r8, r8, 1;
/* 8007C234 38630440 */  addi     r3, r3, 1088;
/* 8007C238 2C080008 */  cmpwi    r8, 8;
/* 8007C23C 4180FF5C */  blt+     UNDEF_8007c198;
/* 8007C240 38E70001 */  addi     r7, r7, 1;
/* 8007C244 38C62200 */  addi     r6, r6, 8704;
/* 8007C248 2C070040 */  cmpwi    r7, 64;
/* 8007C24C 4180FF44 */  blt+     UNDEF_8007c190;
/* 8007C250 C0228C90 */  lfs      f1, UNDEF_8042bff0@sda21;
/* 8007C254 38800000 */  li       r4, 0;
/* 8007C258 38A00063 */  li       r5, 99;
/* 8007C25C D021002C */  stfs     f1, 44(r1);
/* 8007C260 FC000818 */  frsp     f0, f1;
/* 8007C264 7FE6FB78 */  mr       r6, r31;
/* 8007C268 D0210030 */  stfs     f1, 48(r1);
/* 8007C26C 39000000 */  li       r8, 0;
/* 8007C270 38000004 */  li       r0, 4;
/* 8007C274 D0210034 */  stfs     f1, 52(r1);
/* 8007C278 D0210038 */  stfs     f1, 56(r1);
/* 8007C27C 98A1003C */  stb      r5, 60(r1);
/* 8007C280 9881003D */  stb      r4, 61(r1);
/* 8007C284 9881003E */  stb      r4, 62(r1);
UNDEF_8007c288:;
/* 8007C288 7CC73378 */  mr       r7, r6;
/* 8007C28C 7C0903A6 */  mtctr    r0;
UNDEF_8007c290:;
/* 8007C290 3C670009 */  addis    r3, r7, 9;
/* 8007C294 38E70014 */  addi     r7, r7, 20;
/* 8007C298 D0039078 */  stfs     f0, -28552(r3);
/* 8007C29C D003907C */  stfs     f0, -28548(r3);
/* 8007C2A0 D0039080 */  stfs     f0, -28544(r3);
/* 8007C2A4 D0039084 */  stfs     f0, -28540(r3);
/* 8007C2A8 98A39088 */  stb      r5, -28536(r3);
/* 8007C2AC 98839089 */  stb      r4, -28535(r3);
/* 8007C2B0 9883908A */  stb      r4, -28534(r3);
/* 8007C2B4 3C670009 */  addis    r3, r7, 9;
/* 8007C2B8 38E70014 */  addi     r7, r7, 20;
/* 8007C2BC D0039078 */  stfs     f0, -28552(r3);
/* 8007C2C0 D003907C */  stfs     f0, -28548(r3);
/* 8007C2C4 D0039080 */  stfs     f0, -28544(r3);
/* 8007C2C8 D0039084 */  stfs     f0, -28540(r3);
/* 8007C2CC 98A39088 */  stb      r5, -28536(r3);
/* 8007C2D0 98839089 */  stb      r4, -28535(r3);
/* 8007C2D4 9883908A */  stb      r4, -28534(r3);
/* 8007C2D8 3C670009 */  addis    r3, r7, 9;
/* 8007C2DC 38E70014 */  addi     r7, r7, 20;
/* 8007C2E0 D0039078 */  stfs     f0, -28552(r3);
/* 8007C2E4 D003907C */  stfs     f0, -28548(r3);
/* 8007C2E8 D0039080 */  stfs     f0, -28544(r3);
/* 8007C2EC D0039084 */  stfs     f0, -28540(r3);
/* 8007C2F0 98A39088 */  stb      r5, -28536(r3);
/* 8007C2F4 98839089 */  stb      r4, -28535(r3);
/* 8007C2F8 9883908A */  stb      r4, -28534(r3);
/* 8007C2FC 3C670009 */  addis    r3, r7, 9;
/* 8007C300 38E70014 */  addi     r7, r7, 20;
/* 8007C304 D0039078 */  stfs     f0, -28552(r3);
/* 8007C308 D003907C */  stfs     f0, -28548(r3);
/* 8007C30C D0039080 */  stfs     f0, -28544(r3);
/* 8007C310 D0039084 */  stfs     f0, -28540(r3);
/* 8007C314 98A39088 */  stb      r5, -28536(r3);
/* 8007C318 98839089 */  stb      r4, -28535(r3);
/* 8007C31C 9883908A */  stb      r4, -28534(r3);
/* 8007C320 3C670009 */  addis    r3, r7, 9;
/* 8007C324 38E70014 */  addi     r7, r7, 20;
/* 8007C328 D0039078 */  stfs     f0, -28552(r3);
/* 8007C32C D003907C */  stfs     f0, -28548(r3);
/* 8007C330 D0039080 */  stfs     f0, -28544(r3);
/* 8007C334 D0039084 */  stfs     f0, -28540(r3);
/* 8007C338 98A39088 */  stb      r5, -28536(r3);
/* 8007C33C 98839089 */  stb      r4, -28535(r3);
/* 8007C340 9883908A */  stb      r4, -28534(r3);
/* 8007C344 4200FF4C */  bdnz+    UNDEF_8007c290;
/* 8007C348 39080001 */  addi     r8, r8, 1;
/* 8007C34C 38C60190 */  addi     r6, r6, 400;
/* 8007C350 2C080040 */  cmpwi    r8, 64;
/* 8007C354 4180FF34 */  blt+     UNDEF_8007c288;
/* 8007C358 C0228C90 */  lfs      f1, UNDEF_8042bff0@sda21;
/* 8007C35C 38A000FF */  li       r5, 255;
/* 8007C360 3C7F0009 */  addis    r3, r31, 9;
/* 8007C364 38800000 */  li       r4, 0;
/* 8007C368 FC000818 */  frsp     f0, f1;
/* 8007C36C 38000006 */  li       r0, 6;
/* 8007C370 7FE6FB78 */  mr       r6, r31;
/* 8007C374 D0210008 */  stfs     f1, 8(r1);
/* 8007C378 39000000 */  li       r8, 0;
/* 8007C37C 38E000FF */  li       r7, 255;
/* 8007C380 D021000C */  stfs     f1, 12(r1);
/* 8007C384 98A10010 */  stb      r5, 16(r1);
/* 8007C388 9083F478 */  stw      r4, -2952(r3);
/* 8007C38C 9083F47C */  stw      r4, -2948(r3);
/* 8007C390 7C0903A6 */  mtctr    r0;
UNDEF_8007c394:;
/* 8007C394 3C660009 */  addis    r3, r6, 9;
/* 8007C398 38C60060 */  addi     r6, r6, 96;
/* 8007C39C D003F480 */  stfs     f0, -2944(r3);
/* 8007C3A0 39080010 */  addi     r8, r8, 16;
/* 8007C3A4 D003F484 */  stfs     f0, -2940(r3);
/* 8007C3A8 98E3F488 */  stb      r7, -2936(r3);
/* 8007C3AC D003F48C */  stfs     f0, -2932(r3);
/* 8007C3B0 D003F490 */  stfs     f0, -2928(r3);
/* 8007C3B4 98E3F494 */  stb      r7, -2924(r3);
/* 8007C3B8 D003F498 */  stfs     f0, -2920(r3);
/* 8007C3BC D003F49C */  stfs     f0, -2916(r3);
/* 8007C3C0 98E3F4A0 */  stb      r7, -2912(r3);
/* 8007C3C4 D003F4A4 */  stfs     f0, -2908(r3);
/* 8007C3C8 D003F4A8 */  stfs     f0, -2904(r3);
/* 8007C3CC 98E3F4AC */  stb      r7, -2900(r3);
/* 8007C3D0 D003F4B0 */  stfs     f0, -2896(r3);
/* 8007C3D4 D003F4B4 */  stfs     f0, -2892(r3);
/* 8007C3D8 98E3F4B8 */  stb      r7, -2888(r3);
/* 8007C3DC D003F4BC */  stfs     f0, -2884(r3);
/* 8007C3E0 D003F4C0 */  stfs     f0, -2880(r3);
/* 8007C3E4 98E3F4C4 */  stb      r7, -2876(r3);
/* 8007C3E8 D003F4C8 */  stfs     f0, -2872(r3);
/* 8007C3EC D003F4CC */  stfs     f0, -2868(r3);
/* 8007C3F0 98E3F4D0 */  stb      r7, -2864(r3);
/* 8007C3F4 D003F4D4 */  stfs     f0, -2860(r3);
/* 8007C3F8 D003F4D8 */  stfs     f0, -2856(r3);
/* 8007C3FC 98E3F4DC */  stb      r7, -2852(r3);
/* 8007C400 3C660009 */  addis    r3, r6, 9;
/* 8007C404 38C60060 */  addi     r6, r6, 96;
/* 8007C408 D003F480 */  stfs     f0, -2944(r3);
/* 8007C40C D003F484 */  stfs     f0, -2940(r3);
/* 8007C410 98E3F488 */  stb      r7, -2936(r3);
/* 8007C414 D003F48C */  stfs     f0, -2932(r3);
/* 8007C418 D003F490 */  stfs     f0, -2928(r3);
/* 8007C41C 98E3F494 */  stb      r7, -2924(r3);
/* 8007C420 D003F498 */  stfs     f0, -2920(r3);
/* 8007C424 D003F49C */  stfs     f0, -2916(r3);
/* 8007C428 98E3F4A0 */  stb      r7, -2912(r3);
/* 8007C42C D003F4A4 */  stfs     f0, -2908(r3);
/* 8007C430 D003F4A8 */  stfs     f0, -2904(r3);
/* 8007C434 98E3F4AC */  stb      r7, -2900(r3);
/* 8007C438 D003F4B0 */  stfs     f0, -2896(r3);
/* 8007C43C D003F4B4 */  stfs     f0, -2892(r3);
/* 8007C440 98E3F4B8 */  stb      r7, -2888(r3);
/* 8007C444 D003F4BC */  stfs     f0, -2884(r3);
/* 8007C448 D003F4C0 */  stfs     f0, -2880(r3);
/* 8007C44C 98E3F4C4 */  stb      r7, -2876(r3);
/* 8007C450 D003F4C8 */  stfs     f0, -2872(r3);
/* 8007C454 D003F4CC */  stfs     f0, -2868(r3);
/* 8007C458 98E3F4D0 */  stb      r7, -2864(r3);
/* 8007C45C D003F4D4 */  stfs     f0, -2860(r3);
/* 8007C460 D003F4D8 */  stfs     f0, -2856(r3);
/* 8007C464 98E3F4DC */  stb      r7, -2852(r3);
/* 8007C468 4200FF2C */  bdnz+    UNDEF_8007c394;
/* 8007C46C 1CA8000C */  mulli    r5, r8, 12;
/* 8007C470 3C7F0009 */  addis    r3, r31, 9;
/* 8007C474 C0210008 */  lfs      f1, 8(r1);
/* 8007C478 38000006 */  li       r0, 6;
/* 8007C47C C001000C */  lfs      f0, 12(r1);
/* 8007C480 7FE4FB78 */  mr       r4, r31;
/* 8007C484 7C632A14 */  add      r3, r3, r5;
/* 8007C488 89010010 */  lbz      r8, 16(r1);
/* 8007C48C D023F480 */  stfs     f1, -2944(r3);
/* 8007C490 38A00000 */  li       r5, 0;
/* 8007C494 D003F484 */  stfs     f0, -2940(r3);
/* 8007C498 9903F488 */  stb      r8, -2936(r3);
/* 8007C49C D023F48C */  stfs     f1, -2932(r3);
/* 8007C4A0 D003F490 */  stfs     f0, -2928(r3);
/* 8007C4A4 9903F494 */  stb      r8, -2924(r3);
/* 8007C4A8 D023F498 */  stfs     f1, -2920(r3);
/* 8007C4AC D003F49C */  stfs     f0, -2916(r3);
/* 8007C4B0 9903F4A0 */  stb      r8, -2912(r3);
/* 8007C4B4 D023F4A4 */  stfs     f1, -2908(r3);
/* 8007C4B8 D003F4A8 */  stfs     f0, -2904(r3);
/* 8007C4BC 9903F4AC */  stb      r8, -2900(r3);
/* 8007C4C0 7C0903A6 */  mtctr    r0;
UNDEF_8007c4c4:;
/* 8007C4C4 3C640009 */  addis    r3, r4, 9;
/* 8007C4C8 38840060 */  addi     r4, r4, 96;
/* 8007C4CC D023F930 */  stfs     f1, -1744(r3);
/* 8007C4D0 38A50010 */  addi     r5, r5, 16;
/* 8007C4D4 D003F934 */  stfs     f0, -1740(r3);
/* 8007C4D8 98E3F938 */  stb      r7, -1736(r3);
/* 8007C4DC D023F93C */  stfs     f1, -1732(r3);
/* 8007C4E0 D003F940 */  stfs     f0, -1728(r3);
/* 8007C4E4 98E3F944 */  stb      r7, -1724(r3);
/* 8007C4E8 D023F948 */  stfs     f1, -1720(r3);
/* 8007C4EC D003F94C */  stfs     f0, -1716(r3);
/* 8007C4F0 98E3F950 */  stb      r7, -1712(r3);
/* 8007C4F4 D023F954 */  stfs     f1, -1708(r3);
/* 8007C4F8 D003F958 */  stfs     f0, -1704(r3);
/* 8007C4FC 98E3F95C */  stb      r7, -1700(r3);
/* 8007C500 D023F960 */  stfs     f1, -1696(r3);
/* 8007C504 D003F964 */  stfs     f0, -1692(r3);
/* 8007C508 98E3F968 */  stb      r7, -1688(r3);
/* 8007C50C D023F96C */  stfs     f1, -1684(r3);
/* 8007C510 D003F970 */  stfs     f0, -1680(r3);
/* 8007C514 98E3F974 */  stb      r7, -1676(r3);
/* 8007C518 D023F978 */  stfs     f1, -1672(r3);
/* 8007C51C D003F97C */  stfs     f0, -1668(r3);
/* 8007C520 98E3F980 */  stb      r7, -1664(r3);
/* 8007C524 D023F984 */  stfs     f1, -1660(r3);
/* 8007C528 D003F988 */  stfs     f0, -1656(r3);
/* 8007C52C 98E3F98C */  stb      r7, -1652(r3);
/* 8007C530 3C640009 */  addis    r3, r4, 9;
/* 8007C534 38840060 */  addi     r4, r4, 96;
/* 8007C538 D023F930 */  stfs     f1, -1744(r3);
/* 8007C53C D003F934 */  stfs     f0, -1740(r3);
/* 8007C540 98E3F938 */  stb      r7, -1736(r3);
/* 8007C544 D023F93C */  stfs     f1, -1732(r3);
/* 8007C548 D003F940 */  stfs     f0, -1728(r3);
/* 8007C54C 98E3F944 */  stb      r7, -1724(r3);
/* 8007C550 D023F948 */  stfs     f1, -1720(r3);
/* 8007C554 D003F94C */  stfs     f0, -1716(r3);
/* 8007C558 98E3F950 */  stb      r7, -1712(r3);
/* 8007C55C D023F954 */  stfs     f1, -1708(r3);
/* 8007C560 D003F958 */  stfs     f0, -1704(r3);
/* 8007C564 98E3F95C */  stb      r7, -1700(r3);
/* 8007C568 D023F960 */  stfs     f1, -1696(r3);
/* 8007C56C D003F964 */  stfs     f0, -1692(r3);
/* 8007C570 98E3F968 */  stb      r7, -1688(r3);
/* 8007C574 D023F96C */  stfs     f1, -1684(r3);
/* 8007C578 D003F970 */  stfs     f0, -1680(r3);
/* 8007C57C 98E3F974 */  stb      r7, -1676(r3);
/* 8007C580 D023F978 */  stfs     f1, -1672(r3);
/* 8007C584 D003F97C */  stfs     f0, -1668(r3);
/* 8007C588 98E3F980 */  stb      r7, -1664(r3);
/* 8007C58C D023F984 */  stfs     f1, -1660(r3);
/* 8007C590 D003F988 */  stfs     f0, -1656(r3);
/* 8007C594 98E3F98C */  stb      r7, -1652(r3);
/* 8007C598 4200FF2C */  bdnz+    UNDEF_8007c4c4;
/* 8007C59C 1C65000C */  mulli    r3, r5, 12;
/* 8007C5A0 3CBF0009 */  addis    r5, r31, 9;
/* 8007C5A4 C0410008 */  lfs      f2, 8(r1);
/* 8007C5A8 38000002 */  li       r0, 2;
/* 8007C5AC C021000C */  lfs      f1, 12(r1);
/* 8007C5B0 7FE6FB78 */  mr       r6, r31;
/* 8007C5B4 7C651A14 */  add      r3, r5, r3;
/* 8007C5B8 C0028C90 */  lfs      f0, UNDEF_8042bff0@sda21;
/* 8007C5BC D043F930 */  stfs     f2, -1744(r3);
/* 8007C5C0 38800000 */  li       r4, 0;
/* 8007C5C4 39200000 */  li       r9, 0;
/* 8007C5C8 D023F934 */  stfs     f1, -1740(r3);
/* 8007C5CC 9903F938 */  stb      r8, -1736(r3);
/* 8007C5D0 D043F93C */  stfs     f2, -1732(r3);
/* 8007C5D4 D023F940 */  stfs     f1, -1728(r3);
/* 8007C5D8 9903F944 */  stb      r8, -1724(r3);
/* 8007C5DC D043F948 */  stfs     f2, -1720(r3);
/* 8007C5E0 D023F94C */  stfs     f1, -1716(r3);
/* 8007C5E4 9903F950 */  stb      r8, -1712(r3);
/* 8007C5E8 D043F954 */  stfs     f2, -1708(r3);
/* 8007C5EC D023F958 */  stfs     f1, -1704(r3);
/* 8007C5F0 9903F95C */  stb      r8, -1700(r3);
/* 8007C5F4 D0050110 */  stfs     f0, 272(r5);
/* 8007C5F8 98850114 */  stb      r4, 276(r5);
/* 8007C5FC 98850115 */  stb      r4, 277(r5);
/* 8007C600 98850116 */  stb      r4, 278(r5);
/* 8007C604 98850117 */  stb      r4, 279(r5);
/* 8007C608 98850118 */  stb      r4, 280(r5);
/* 8007C60C D005011C */  stfs     f0, 284(r5);
/* 8007C610 D0050120 */  stfs     f0, 288(r5);
/* 8007C614 D0050128 */  stfs     f0, 296(r5);
/* 8007C618 D005012C */  stfs     f0, 300(r5);
/* 8007C61C 7C0903A6 */  mtctr    r0;
UNDEF_8007c620:;
/* 8007C620 3C660009 */  addis    r3, r6, 9;
/* 8007C624 7CBF4A14 */  add      r5, r31, r9;
/* 8007C628 D0030130 */  stfs     f0, 304(r3);
/* 8007C62C 3CE50009 */  addis    r7, r5, 9;
/* 8007C630 39290005 */  addi     r9, r9, 5;
/* 8007C634 38C60014 */  addi     r6, r6, 20;
/* 8007C638 988701D0 */  stb      r4, 464(r7);
/* 8007C63C 7CBF4A14 */  add      r5, r31, r9;
/* 8007C640 39290005 */  addi     r9, r9, 5;
/* 8007C644 988701E4 */  stb      r4, 484(r7);
/* 8007C648 D0030134 */  stfs     f0, 308(r3);
/* 8007C64C 988701D1 */  stb      r4, 465(r7);
/* 8007C650 988701E5 */  stb      r4, 485(r7);
/* 8007C654 D0030138 */  stfs     f0, 312(r3);
/* 8007C658 988701D2 */  stb      r4, 466(r7);
/* 8007C65C 988701E6 */  stb      r4, 486(r7);
/* 8007C660 D003013C */  stfs     f0, 316(r3);
/* 8007C664 988701D3 */  stb      r4, 467(r7);
/* 8007C668 988701E7 */  stb      r4, 487(r7);
/* 8007C66C D0030140 */  stfs     f0, 320(r3);
/* 8007C670 3C660009 */  addis    r3, r6, 9;
/* 8007C674 38C60014 */  addi     r6, r6, 20;
/* 8007C678 988701D4 */  stb      r4, 468(r7);
/* 8007C67C 988701E8 */  stb      r4, 488(r7);
/* 8007C680 3CE50009 */  addis    r7, r5, 9;
/* 8007C684 D0030130 */  stfs     f0, 304(r3);
/* 8007C688 988701D0 */  stb      r4, 464(r7);
/* 8007C68C 988701E4 */  stb      r4, 484(r7);
/* 8007C690 D0030134 */  stfs     f0, 308(r3);
/* 8007C694 988701D1 */  stb      r4, 465(r7);
/* 8007C698 988701E5 */  stb      r4, 485(r7);
/* 8007C69C D0030138 */  stfs     f0, 312(r3);
/* 8007C6A0 988701D2 */  stb      r4, 466(r7);
/* 8007C6A4 988701E6 */  stb      r4, 486(r7);
/* 8007C6A8 D003013C */  stfs     f0, 316(r3);
/* 8007C6AC 988701D3 */  stb      r4, 467(r7);
/* 8007C6B0 988701E7 */  stb      r4, 487(r7);
/* 8007C6B4 D0030140 */  stfs     f0, 320(r3);
/* 8007C6B8 988701D4 */  stb      r4, 468(r7);
/* 8007C6BC 988701E8 */  stb      r4, 488(r7);
/* 8007C6C0 4200FF60 */  bdnz+    UNDEF_8007c620;
/* 8007C6C4 38000019 */  li       r0, 25;
/* 8007C6C8 7FE5FB78 */  mr       r5, r31;
/* 8007C6CC C0028C90 */  lfs      f0, UNDEF_8042bff0@sda21;
/* 8007C6D0 38E00000 */  li       r7, 0;
/* 8007C6D4 38600000 */  li       r3, 0;
/* 8007C6D8 7C0903A6 */  mtctr    r0;
UNDEF_8007c6dc:;
/* 8007C6DC 3C850009 */  addis    r4, r5, 9;
/* 8007C6E0 7CDF3A14 */  add      r6, r31, r7;
/* 8007C6E4 D00401F8 */  stfs     f0, 504(r4);
/* 8007C6E8 3CC60009 */  addis    r6, r6, 9;
/* 8007C6EC 38A50020 */  addi     r5, r5, 32;
/* 8007C6F0 38E70008 */  addi     r7, r7, 8;
/* 8007C6F4 D0040518 */  stfs     f0, 1304(r4);
/* 8007C6F8 98660838 */  stb      r3, 2104(r6);
/* 8007C6FC 98660900 */  stb      r3, 2304(r6);
/* 8007C700 D00401FC */  stfs     f0, 508(r4);
/* 8007C704 D004051C */  stfs     f0, 1308(r4);
/* 8007C708 98660839 */  stb      r3, 2105(r6);
/* 8007C70C 98660901 */  stb      r3, 2305(r6);
/* 8007C710 D0040200 */  stfs     f0, 512(r4);
/* 8007C714 D0040520 */  stfs     f0, 1312(r4);
/* 8007C718 9866083A */  stb      r3, 2106(r6);
/* 8007C71C 98660902 */  stb      r3, 2306(r6);
/* 8007C720 D0040204 */  stfs     f0, 516(r4);
/* 8007C724 D0040524 */  stfs     f0, 1316(r4);
/* 8007C728 9866083B */  stb      r3, 2107(r6);
/* 8007C72C 98660903 */  stb      r3, 2307(r6);
/* 8007C730 D0040208 */  stfs     f0, 520(r4);
/* 8007C734 D0040528 */  stfs     f0, 1320(r4);
/* 8007C738 9866083C */  stb      r3, 2108(r6);
/* 8007C73C 98660904 */  stb      r3, 2308(r6);
/* 8007C740 D004020C */  stfs     f0, 524(r4);
/* 8007C744 D004052C */  stfs     f0, 1324(r4);
/* 8007C748 9866083D */  stb      r3, 2109(r6);
/* 8007C74C 98660905 */  stb      r3, 2309(r6);
/* 8007C750 D0040210 */  stfs     f0, 528(r4);
/* 8007C754 D0040530 */  stfs     f0, 1328(r4);
/* 8007C758 9866083E */  stb      r3, 2110(r6);
/* 8007C75C 98660906 */  stb      r3, 2310(r6);
/* 8007C760 D0040214 */  stfs     f0, 532(r4);
/* 8007C764 D0040534 */  stfs     f0, 1332(r4);
/* 8007C768 9866083F */  stb      r3, 2111(r6);
/* 8007C76C 98660907 */  stb      r3, 2311(r6);
/* 8007C770 4200FF6C */  bdnz+    UNDEF_8007c6dc;
/* 8007C774 3C7F0009 */  addis    r3, r31, 9;
/* 8007C778 C0028C98 */  lfs      f0, UNDEF_8042bff8@sda21;
/* 8007C77C 38000000 */  li       r0, 0;
/* 8007C780 B00309C8 */  sth      r0, 2504(r3);
/* 8007C784 980309CA */  stb      r0, 2506(r3);
/* 8007C788 980309CB */  stb      r0, 2507(r3);
/* 8007C78C D00309D4 */  stfs     f0, 2516(r3);
/* 8007C790 E3E100D8 */  .long    0xE3E100D8; // psq_l    f31, 216(r1), 0, 0;
/* 8007C794 CBE100D0 */  lfd      f31, 208(r1);
/* 8007C798 E3C100C8 */  .long    0xE3C100C8; // psq_l    f30, 200(r1), 0, 0;
/* 8007C79C CBC100C0 */  lfd      f30, 192(r1);
/* 8007C7A0 E3A100B8 */  .long    0xE3A100B8; // psq_l    f29, 184(r1), 0, 0;
/* 8007C7A4 CBA100B0 */  lfd      f29, 176(r1);
/* 8007C7A8 E38100A8 */  .long    0xE38100A8; // psq_l    f28, 168(r1), 0, 0;
/* 8007C7AC CB8100A0 */  lfd      f28, 160(r1);
/* 8007C7B0 83E1009C */  lwz      r31, 156(r1);
/* 8007C7B4 83C10098 */  lwz      r30, 152(r1);
/* 8007C7B8 83A10094 */  lwz      r29, 148(r1);
/* 8007C7BC 83810090 */  lwz      r28, 144(r1);
/* 8007C7C0 800100E4 */  lwz      r0, 228(r1);
/* 8007C7C4 7C0803A6 */  mtlr     r0;
/* 8007C7C8 382100E0 */  addi     r1, r1, 224;
/* 8007C7CC 4E800020 */  blr;
  // clang-format on
);

#define D_STACK_SIZE (0x28 + 0x8 + PLAYER_COUNT * 4)
[[nsmbw(0x8007CA90)]]
void UNDEF_8007ca90() ASM_METHOD(
  // Stack layout:
  // 0x00-0x08: Previous frame / caller return address
  // 0x08-0x28: u32[8] player specific data
  // 0x28-0x50: Saved registers (r22)+

  // clang-format off
/* 8007CA90          */  stwu     r1, -D_STACK_SIZE(r1);
/* 8007CA94 7C0802A6 */  mflr     r0;
/* 8007CA98          */  stw      r0, D_STACK_SIZE + 4(r1);
/* 8007CA9C          */  addi     r11, r1, D_STACK_SIZE;
/* 8007CAA0 482605B1 */  bl       UNDEF_802dd050;
/* 8007CAA4 7C781B78 */  mr       r24, r3;
/* 8007CAA8 7C992378 */  mr       r25, r4;
/* 8007CAAC 7CBA2B78 */  mr       r26, r5;
/* 8007CAB0 7CDB3378 */  mr       r27, r6;
/* 8007CAB4 3BE10008 */  addi     r31, r1, 8;
/* 8007CAB8 3EE30009 */  addis    r23, r3, 9;
/* 8007CABC 3BC00000 */  li       r30, 0;
/* 8007CAC0 3BA00000 */  li       r29, 0;
/* 8007CAC4 3B800000 */  li       r28, 0;
/* 8007CAC8 3AC00000 */  li       r22, 0;
UNDEF_8007cacc:;
/* 8007CACC 7F83E378 */  mr       r3, r28;
/* 8007CAD0 4BFE2E31 */  bl       UNDEF_8005f900;
/* 8007CAD4 2C030000 */  cmpwi    r3, 0;
/* 8007CAD8 907F0000 */  stw      r3, 0(r31);
/* 8007CADC 41820024 */  beq-     UNDEF_8007cb00;
/* 8007CAE0 8803153C */  lbz      r0, 5436(r3);
/* 8007CAE4 2C000001 */  cmpwi    r0, 1;
/* 8007CAE8 40820008 */  bne-     UNDEF_8007caf0;
/* 8007CAEC 92DF0000 */  stw      r22, 0(r31);
UNDEF_8007caf0:;
/* 8007CAF0 8803153C */  lbz      r0, 5436(r3);
/* 8007CAF4 2C000003 */  cmpwi    r0, 3;
/* 8007CAF8 40820008 */  bne-     UNDEF_8007cb00;
/* 8007CAFC 3BBD0001 */  addi     r29, r29, 1;
UNDEF_8007cb00:;
/* 8007CB00 801F0000 */  lwz      r0, 0(r31);
/* 8007CB04 2C000000 */  cmpwi    r0, 0;
/* 8007CB08 41820008 */  beq-     UNDEF_8007cb10;
/* 8007CB0C 3BDE0001 */  addi     r30, r30, 1;
UNDEF_8007cb10:;
/* 8007CB10 88170079 */  lbz      r0, 121(r23);
/* 8007CB14 28000001 */  cmplwi   r0, 1;
/* 8007CB18 4082001C */  bne-     UNDEF_8007cb34;
/* 8007CB1C 2C030000 */  cmpwi    r3, 0;
/* 8007CB20 41820014 */  beq-     UNDEF_8007cb34;
/* 8007CB24 8803153C */  lbz      r0, 5436(r3);
/* 8007CB28 2C000003 */  cmpwi    r0, 3;
/* 8007CB2C 40820008 */  bne-     UNDEF_8007cb34;
/* 8007CB30 92DF0000 */  stw      r22, 0(r31);
UNDEF_8007cb34:;
/* 8007CB34 3B9C0001 */  addi     r28, r28, 1;
/* 8007CB38 3BFF0004 */  addi     r31, r31, 4;
/* 8007CB3C          */  cmpwi    r28, PLAYER_COUNT;
/* 8007CB40 4180FF8C */  blt+     UNDEF_8007cacc;
/* 8007CB44 7C1EE800 */  cmpw     r30, r29;
/* 8007CB48 93D90030 */  stw      r30, 48(r25);
/* 8007CB4C 41810018 */  bgt-     UNDEF_8007cb64;
/* 8007CB50 806DA730 */  lwz      r3, UNDEF_8042a0b0@sda21;
/* 8007CB54 38000001 */  li       r0, 1;
/* 8007CB58 3C630009 */  addis    r3, r3, 9;
/* 8007CB5C 980309CA */  stb      r0, 2506(r3);
/* 8007CB60 480001F8 */  b        UNDEF_8007cd58;
UNDEF_8007cb64:;
/* 8007CB64 806DA730 */  lwz      r3, UNDEF_8042a0b0@sda21;
/* 8007CB68 3F80802F */  lis      r28, UNDEF_802efbb0@ha;
/* 8007CB6C 38000000 */  li       r0, 0;
/* 8007CB70 3AC10008 */  addi     r22, r1, 8;
/* 8007CB74 3C630009 */  addis    r3, r3, 9;
/* 8007CB78 575D15BA */  clrlslwi r29, r26, 24, 2;
/* 8007CB7C 980309CA */  stb      r0, 2506(r3);
/* 8007CB80 3B9CFBB0 */  addi     r28, r28, UNDEF_802efbb0@l;
/* 8007CB84 3BC00000 */  li       r30, 0;
UNDEF_8007cb88:;
/* 8007CB88 3BFE0001 */  addi     r31, r30, 1;
/* 8007CB8C 3AE10008 */  addi     r23, r1, 8;
/* 8007CB90 57E0103A */  slwi     r0, r31, 2;
/* 8007CB94 7EF70214 */  add      r23, r23, r0;
/* 8007CB98 48000054 */  b        UNDEF_8007cbec;
UNDEF_8007cb9c:;
/* 8007CB9C 80770000 */  lwz      r3, 0(r23);
/* 8007CBA0 80960000 */  lwz      r4, 0(r22);
/* 8007CBA4 2C030000 */  cmpwi    r3, 0;
/* 8007CBA8 4182003C */  beq-     UNDEF_8007cbe4;
/* 8007CBAC 2C040000 */  cmpwi    r4, 0;
/* 8007CBB0 40820014 */  bne-     UNDEF_8007cbc4;
/* 8007CBB4 7EC3B378 */  mr       r3, r22;
/* 8007CBB8 7EE4BB78 */  mr       r4, r23;
/* 8007CBBC 4BFFFEB5 */  bl       UNDEF_8007ca70;
/* 8007CBC0 48000024 */  b        UNDEF_8007cbe4;
UNDEF_8007cbc4:;
/* 8007CBC4 7D9CE82E */  lwzx     r12, r28, r29;
/* 8007CBC8 7D8903A6 */  mtctr    r12;
/* 8007CBCC 4E800421 */  bctrl    ;
/* 8007CBD0 2C030000 */  cmpwi    r3, 0;
/* 8007CBD4 41820010 */  beq-     UNDEF_8007cbe4;
/* 8007CBD8 7EC3B378 */  mr       r3, r22;
/* 8007CBDC 7EE4BB78 */  mr       r4, r23;
/* 8007CBE0 4BFFFE91 */  bl       UNDEF_8007ca70;
UNDEF_8007cbe4:;
/* 8007CBE4 3AF70004 */  addi     r23, r23, 4;
/* 8007CBE8 3BFF0001 */  addi     r31, r31, 1;
UNDEF_8007cbec:;
/* 8007CBEC          */  cmpwi    r31, 8;
/* 8007CBF0 4180FFAC */  blt+     UNDEF_8007cb9c;
/* 8007CBF4 3BDE0001 */  addi     r30, r30, 1;
/* 8007CBF8 3AD60004 */  addi     r22, r22, 4;
/* 8007CBFC          */  cmpwi    r30, PLAYER_COUNT - 1;
/* 8007CC00 4180FF88 */  blt+     UNDEF_8007cb88;
/* 8007CC04 381BFFFF */  subi     r0, r27, 1;
/* 8007CC08 2C1A0000 */  cmpwi    r26, 0;
/* 8007CC0C 541B103A */  slwi     r27, r0, 2;
/* 8007CC10 3AC10008 */  addi     r22, r1, 8;
/* 8007CC14 83810008 */  lwz      r28, 8(r1);
/* 8007CC18 7EF6D82E */  lwzx     r23, r22, r27;
/* 8007CC1C 41820020 */  beq-     UNDEF_8007cc3c;
/* 8007CC20 2C1A0002 */  cmpwi    r26, 2;
/* 8007CC24 41820068 */  beq-     UNDEF_8007cc8c;
/* 8007CC28 2C1A0001 */  cmpwi    r26, 1;
/* 8007CC2C 418200B0 */  beq-     UNDEF_8007ccdc;
/* 8007CC30 2C1A0003 */  cmpwi    r26, 3;
/* 8007CC34 418200E8 */  beq-     UNDEF_8007cd1c;
/* 8007CC38 48000120 */  b        UNDEF_8007cd58;
UNDEF_8007cc3c:;
/* 8007CC3C 2C1C0000 */  cmpwi    r28, 0;
/* 8007CC40 41820020 */  beq-     UNDEF_8007cc60;
/* 8007CC44 93990014 */  stw      r28, 20(r25);
/* 8007CC48 7F03C378 */  mr       r3, r24;
/* 8007CC4C C03C152C */  lfs      f1, 5420(r28);
/* 8007CC50 4BFFFB81 */  bl       UNDEF_8007c7d0;
/* 8007CC54 D0390004 */  stfs     f1, 4(r25);
/* 8007CC58 801C14D4 */  lwz      r0, 5332(r28);
/* 8007CC5C 90190024 */  stw      r0, 36(r25);
UNDEF_8007cc60:;
/* 8007CC60 7C16D82E */  lwzx     r0, r22, r27;
/* 8007CC64 2C000000 */  cmpwi    r0, 0;
/* 8007CC68 418200F0 */  beq-     UNDEF_8007cd58;
/* 8007CC6C 90190010 */  stw      r0, 16(r25);
/* 8007CC70 7F03C378 */  mr       r3, r24;
/* 8007CC74 C037152C */  lfs      f1, 5420(r23);
/* 8007CC78 4BFFFB59 */  bl       UNDEF_8007c7d0;
/* 8007CC7C D0390000 */  stfs     f1, 0(r25);
/* 8007CC80 801714D4 */  lwz      r0, 5332(r23);
/* 8007CC84 90190020 */  stw      r0, 32(r25);
/* 8007CC88 480000D0 */  b        UNDEF_8007cd58;
UNDEF_8007cc8c:;
/* 8007CC8C 2C170000 */  cmpwi    r23, 0;
/* 8007CC90 41820020 */  beq-     UNDEF_8007ccb0;
/* 8007CC94 92F90014 */  stw      r23, 20(r25);
/* 8007CC98 7F03C378 */  mr       r3, r24;
/* 8007CC9C C037152C */  lfs      f1, 5420(r23);
/* 8007CCA0 4BFFFB31 */  bl       UNDEF_8007c7d0;
/* 8007CCA4 D0390004 */  stfs     f1, 4(r25);
/* 8007CCA8 801714D4 */  lwz      r0, 5332(r23);
/* 8007CCAC 90190024 */  stw      r0, 36(r25);
UNDEF_8007ccb0:;
/* 8007CCB0 80010008 */  lwz      r0, 8(r1);
/* 8007CCB4 2C000000 */  cmpwi    r0, 0;
/* 8007CCB8 418200A0 */  beq-     UNDEF_8007cd58;
/* 8007CCBC 90190010 */  stw      r0, 16(r25);
/* 8007CCC0 7F03C378 */  mr       r3, r24;
/* 8007CCC4 C03C152C */  lfs      f1, 5420(r28);
/* 8007CCC8 4BFFFB09 */  bl       UNDEF_8007c7d0;
/* 8007CCCC D0390000 */  stfs     f1, 0(r25);
/* 8007CCD0 801C14D4 */  lwz      r0, 5332(r28);
/* 8007CCD4 90190020 */  stw      r0, 32(r25);
/* 8007CCD8 48000080 */  b        UNDEF_8007cd58;
UNDEF_8007ccdc:;
/* 8007CCDC 2C1C0000 */  cmpwi    r28, 0;
/* 8007CCE0 41820018 */  beq-     UNDEF_8007ccf8;
/* 8007CCE4 93990018 */  stw      r28, 24(r25);
/* 8007CCE8 C01C1530 */  lfs      f0, 5424(r28);
/* 8007CCEC D0190008 */  stfs     f0, 8(r25);
/* 8007CCF0 801C14D4 */  lwz      r0, 5332(r28);
/* 8007CCF4 90190028 */  stw      r0, 40(r25);
UNDEF_8007ccf8:;
/* 8007CCF8 7C16D82E */  lwzx     r0, r22, r27;
/* 8007CCFC 2C000000 */  cmpwi    r0, 0;
/* 8007CD00 41820058 */  beq-     UNDEF_8007cd58;
/* 8007CD04 9019001C */  stw      r0, 28(r25);
/* 8007CD08 C0171530 */  lfs      f0, 5424(r23);
/* 8007CD0C D019000C */  stfs     f0, 12(r25);
/* 8007CD10 801714D4 */  lwz      r0, 5332(r23);
/* 8007CD14 9019002C */  stw      r0, 44(r25);
/* 8007CD18 48000040 */  b        UNDEF_8007cd58;
UNDEF_8007cd1c:;
/* 8007CD1C 2C170000 */  cmpwi    r23, 0;
/* 8007CD20 41820018 */  beq-     UNDEF_8007cd38;
/* 8007CD24 92F90018 */  stw      r23, 24(r25);
/* 8007CD28 C0171530 */  lfs      f0, 5424(r23);
/* 8007CD2C D0190008 */  stfs     f0, 8(r25);
/* 8007CD30 801714D4 */  lwz      r0, 5332(r23);
/* 8007CD34 90190028 */  stw      r0, 40(r25);
UNDEF_8007cd38:;
/* 8007CD38 80010008 */  lwz      r0, 8(r1);
/* 8007CD3C 2C000000 */  cmpwi    r0, 0;
/* 8007CD40 41820018 */  beq-     UNDEF_8007cd58;
/* 8007CD44 9019001C */  stw      r0, 28(r25);
/* 8007CD48 C01C1530 */  lfs      f0, 5424(r28);
/* 8007CD4C D019000C */  stfs     f0, 12(r25);
/* 8007CD50 801C14D4 */  lwz      r0, 5332(r28);
/* 8007CD54 9019002C */  stw      r0, 44(r25);
UNDEF_8007cd58:;
/* 8007CD58          */  addi     r11, r1, D_STACK_SIZE;
/* 8007CD5C 48260341 */  bl       UNDEF_802dd09c;
/* 8007CD60          */  lwz      r0, D_STACK_SIZE + 4(r1);
/* 8007CD64 7C0803A6 */  mtlr     r0;
/* 8007CD68          */  addi     r1, r1, D_STACK_SIZE;
/* 8007CD6C 4E800020 */  blr;
  // clang-format on
);
#undef D_STACK_SIZE
