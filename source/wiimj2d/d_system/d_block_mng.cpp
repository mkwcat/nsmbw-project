// d_block_mng.cpp
// NSMBW .text: 0x80087F40 - 0x80088D90

#include "d_block_mng.h"

[[nsmbw_data(0x8042A0F8)]]
dBlockMng_c* dBlockMng_c::m_instance;

// TODO 0x80087FAC

[[nsmbw(0x80087F40)]]
void dBlockMng_c::brickHit(...) ASM_METHOD(
  // clang-format off
/* 80087F40 9421FFD0 */  stwu     r1, -48(r1);
/* 80087F44 7C0802A6 */  mflr     r0;
/* 80087F48 38600000 */  li       r3, 0;
/* 80087F4C 90010034 */  stw      r0, 52(r1);
/* 80087F50 8804000B */  lbz      r0, 11(r4);
/* 80087F54 93E1002C */  stw      r31, 44(r1);
/* 80087F58 7C9F2378 */  mr       r31, r4;
/* 80087F5C 7C000774 */  extsb    r0, r0;
/* 80087F60 2C00FFFF */  cmpwi    r0, -1;
/* 80087F64 4082000C */  bne-     UNDEF_80087f70;
/* 80087F68 38000000 */  li       r0, 0;
/* 80087F6C 38600001 */  li       r3, 1;
UNDEF_80087f70:;
/* 80087F70 88E40008 */  lbz      r7, 8(r4);
/* 80087F74          */  rlwinm   r5, r0, 16, 0x000F0000;
/* 80087F78 88C4000A */  lbz      r6, 10(r4);
                         // Move isSolid from 18 to 29
/* 80087F7C          */  rlwinm   r3, r3, 29, 0x20000000;
/* 80087F80 88040009 */  lbz      r0, 9(r4);
/* 80087F84 54E82036 */  slwi     r8, r7, 4;
/* 80087F88 54C6C18E */  clrlslwi r6, r6, 30, 24;
/* 80087F8C C0440004 */  lfs      f2, 4(r4);
/* 80087F90 5407402E */  slwi     r7, r0, 8;
/* 80087F94 A004000C */  lhz      r0, 12(r4);
/* 80087F98 7D083B78 */  or       r8, r8, r7;
/* 80087F9C C0240000 */  lfs      f1, 0(r4);
/* 80087FA0 7D083378 */  or       r8, r8, r6;
/* 80087FA4 C0028EB8 */  lfs      f0, UNDEF_8042c218@sda21;
/* 80087FA8 7D082B78 */  or       r8, r8, r5;
/* 80087FAC 5400A016 */  slwi     r0, r0, 20;
/* 80087FB0 7D081B78 */  or       r8, r8, r3;
/* 80087FB4 D0210010 */  stfs     f1, 16(r1);
/* 80087FB8 7D040378 */  or       r4, r8, r0;
/* 80087FBC 38A10010 */  addi     r5, r1, 16;
/* 80087FC0 D0410014 */  stfs     f2, 20(r1);
/* 80087FC4 38600047 */  li       r3, 71;
/* 80087FC8 38C00000 */  li       r6, 0;
/* 80087FCC 38E00000 */  li       r7, 0;
/* 80087FD0 D0010018 */  stfs     f0, 24(r1);
/* 80087FD4 4BFDC63D */  bl       UNDEF_80064610;
/* 80087FD8 881F000B */  lbz      r0, 11(r31);
/* 80087FDC 7C040775 */  extsb.   r4, r0;
/* 80087FE0 4180000C */  blt-     UNDEF_80087fec;
/* 80087FE4 3860000A */  li       r3, 10;
/* 80087FE8 4BFD86A9 */  bl       UNDEF_80060690;
UNDEF_80087fec:;
/* 80087FEC 83EDA6C0 */  lwz      r31, UNDEF_8042a040@sda21;
/* 80087FF0 38610008 */  addi     r3, r1, 8;
/* 80087FF4 38810010 */  addi     r4, r1, 16;
/* 80087FF8 4BFE24B9 */  bl       UNDEF_8006a4b0;
/* 80087FFC 7FE3FB78 */  mr       r3, r31;
/* 80088000 38A10008 */  addi     r5, r1, 8;
/* 80088004 38800274 */  li       r4, 628;
/* 80088008 38C00000 */  li       r6, 0;
/* 8008800C 48110D65 */  bl       UNDEF_80198d70;
/* 80088010 80010034 */  lwz      r0, 52(r1);
/* 80088014 83E1002C */  lwz      r31, 44(r1);
/* 80088018 7C0803A6 */  mtlr     r0;
/* 8008801C 38210030 */  addi     r1, r1, 48;
/* 80088020 4E800020 */  blr;
  // clang-format on
);

[[nsmbw(0x800882E0)]]
void dBlockMng_c_hitHiddenBlock() ASM_METHOD(
  // clang-format off
/* 800882E0 9421FFD0 */  stwu     r1, -48(r1);
/* 800882E4 7C0802A6 */  mflr     r0;
/* 800882E8 C0028EB8 */  lfs      f0, UNDEF_8042c218@sda21;
/* 800882EC 90010034 */  stw      r0, 52(r1);
/* 800882F0 93E1002C */  stw      r31, 44(r1);
/* 800882F4 93C10028 */  stw      r30, 40(r1);
/* 800882F8 93A10024 */  stw      r29, 36(r1);
/* 800882FC 93810020 */  stw      r28, 32(r1);
/* 80088300 7C9C2378 */  mr       r28, r4;
/* 80088304 C0440004 */  lfs      f2, 4(r4);
/* 80088308 C0240000 */  lfs      f1, 0(r4);
/* 8008830C D0210008 */  stfs     f1, 8(r1);
/* 80088310 D041000C */  stfs     f2, 12(r1);
/* 80088314 D0010010 */  stfs     f0, 16(r1);
/* 80088318 80040008 */  lwz      r0, 8(r4);
/* 8008831C 8BC40011 */  lbz      r30, 17(r4);
/* 80088320 541F06FE */  clrlwi   r31, r0, 27;
/* 80088324 7FC30774 */  extsb    r3, r30;
/* 80088328 4BFD75D9 */  bl       getPlayer__9daPyMng_cFi;
/* 8008832C 2C030000 */  cmpwi    r3, 0;
/* 80088330 7C7D1B78 */  mr       r29, r3;
/* 80088334 41820084 */  beq-     UNDEF_800883b8;
/* 80088338 81830060 */  lwz      r12, 96(r3);
/* 8008833C 818C00E0 */  lwz      r12, 224(r12);
/* 80088340 7D8903A6 */  mtctr    r12;
/* 80088344 4E800421 */  bctrl;
/* 80088348 2C030000 */  cmpwi    r3, 0;
/* 8008834C 41820028 */  beq-     UNDEF_80088374;
/* 80088350 7FA3EB78 */  mr       r3, r29;
/* 80088354 480B288D */  bl       UNDEF_8013abe0; // getRidePlayer__7dAcPy_cFv
/* 80088358 2C030000 */  cmpwi    r3, 0;
/* 8008835C 41820018 */  beq-     UNDEF_80088374;
/* 80088360 81830060 */  lwz      r12, 96(r3);
/* 80088364 818C006C */  lwz      r12, 108(r12);
/* 80088368 7D8903A6 */  mtctr    r12;
/* 8008836C 4E800421 */  bctrl;
/* 80088370 8BC30000 */  lbz      r30, 0(r3);
UNDEF_80088374:;
/* 80088374 80BC000C */  lwz      r5, 12(r28);
/* 80088378 7FC00774 */  extsb    r0, r30;
/* 8008837C 887C0012 */  lbz      r3, 18(r28);
/* 80088380          */  rlwinm   r4, r0, 16, 0x000F0000;
/* 80088384 54A52834 */  slwi     r5, r5, 5;
/* 80088388 881C0010 */  lbz      r0, 16(r28);
/* 8008838C 7FFF2B78 */  or       r31, r31, r5;
/* 80088390 5463C18E */  clrlslwi r3, r3, 30, 24;
/* 80088394 7FFF2378 */  or       r31, r31, r4;
                         // Move direction from 18 to 29
/* 80088398          */  rlwinm   r0, r0, 29, 0x60000000;
/* 8008839C 7FFF1B78 */  or       r31, r31, r3;
/* 800883A0 38A10008 */  addi     r5, r1, 8;
/* 800883A4 7FE40378 */  or       r4, r31, r0;
/* 800883A8 3860003B */  li       r3, 59;
/* 800883AC 38C00000 */  li       r6, 0;
/* 800883B0 38E00000 */  li       r7, 0;
/* 800883B4 4BFDC25D */  bl       UNDEF_80064610; // construct__8dActor_cFUsUlPC7mVec3_cPC7mAng3_cUc
UNDEF_800883b8:;
/* 800883B8 80010034 */  lwz      r0, 52(r1);
/* 800883BC 83E1002C */  lwz      r31, 44(r1);
/* 800883C0 83C10028 */  lwz      r30, 40(r1);
/* 800883C4 83A10024 */  lwz      r29, 36(r1);
/* 800883C8 83810020 */  lwz      r28, 32(r1);
/* 800883CC 7C0803A6 */  mtlr     r0;
/* 800883D0 38210030 */  addi     r1, r1, 48;
/* 800883D4 4E800020 */  blr;
  // clang-format on
);

[[nsmbw(0x800883E0)]]
void dBlockMng_c_FUN_800883E0() ASM_METHOD(
  // clang-format off
/* 800883E0 9421FF30 */  stwu     r1, -208(r1);
/* 800883E4 7C0802A6 */  mflr     r0;
/* 800883E8 900100D4 */  stw      r0, 212(r1);
/* 800883EC 396100D0 */  addi     r11, r1, 208;
/* 800883F0 48254C49 */  bl       UNDEF_802dd038;
/* 800883F4 80040000 */  lwz      r0, 0(r4);
/* 800883F8 3CA04330 */  lis      r5, 17200;
/* 800883FC 3FA0802F */  lis      r29, UNDEF_802f0220@ha;
/* 80088400 90A10078 */  stw      r5, 120(r1);
/* 80088404 6C008000 */  xoris    r0, r0, 32768;
/* 80088408 C8228ED0 */  lfd      f1, UNDEF_8042c230@sda21;
/* 8008840C 9001007C */  stw      r0, 124(r1);
/* 80088410 7C701B78 */  mr       r16, r3;
/* 80088414 7C912378 */  mr       r17, r4;
/* 80088418 3BBD0220 */  addi     r29, r29, UNDEF_802f0220@l;
/* 8008841C C8010078 */  lfd      f0, 120(r1);
/* 80088420 90A10080 */  stw      r5, 128(r1);
/* 80088424 EC200828 */  fsubs    f1, f0, f1;
/* 80088428 48079789 */  bl       UNDEF_80101bb0;
/* 8008842C FC00081E */  fctiwz   f0, f1;
/* 80088430 83310004 */  lwz      r25, 4(r17);
/* 80088434 806DA730 */  lwz      r3, UNDEF_8042a0b0@sda21;
/* 80088438 38C00000 */  li       r6, 0;
/* 8008843C D8010088 */  stfd     f0, 136(r1);
/* 80088440 7F9900D0 */  neg      r28, r25;
/* 80088444 8341008C */  lwz      r26, 140(r1);
/* 80088448 5785043E */  clrlwi   r5, r28, 16;
/* 8008844C 5744043E */  clrlwi   r4, r26, 16;
/* 80088450 4BFEF1C1 */  bl       UNDEF_80077610;
/* 80088454 547B043E */  clrlwi   r27, r3, 16;
/* 80088458 7E038378 */  mr       r3, r16;
/* 8008845C 7F64DB78 */  mr       r4, r27;
/* 80088460 4BFFFDB1 */  bl       UNDEF_80088210;
/* 80088464 8AD1000C */  lbz      r22, 12(r17);
/* 80088468 7C781B78 */  mr       r24, r3;
/* 8008846C 8AF1000E */  lbz      r23, 14(r17);
/* 80088470 28160001 */  cmplwi   r22, 1;
/* 80088474 41810008 */  bgt-     UNDEF_8008847c;
/* 80088478 3AC00002 */  li       r22, 2;
UNDEF_8008847c:;
/* 8008847C 7EE00774 */  extsb    r0, r23;
/* 80088480 2C00FFFF */  cmpwi    r0, -1;
/* 80088484 4082004C */  bne-     UNDEF_800884d0;
/* 80088488 3803FFFF */  subi     r0, r3, 1;
/* 8008848C 28000001 */  cmplwi   r0, 1;
/* 80088490 41810038 */  bgt-     UNDEF_800884c8;
/* 80088494 93410060 */  stw      r26, 96(r1);
/* 80088498 38810060 */  addi     r4, r1, 96;
/* 8008849C 93210064 */  stw      r25, 100(r1);
/* 800884A0 80110008 */  lwz      r0, 8(r17);
/* 800884A4 90010068 */  stw      r0, 104(r1);
/* 800884A8 9061006C */  stw      r3, 108(r1);
/* 800884AC 7E038378 */  mr       r3, r16;
/* 800884B0 8811000C */  lbz      r0, 12(r17);
/* 800884B4 98010070 */  stb      r0, 112(r1);
/* 800884B8 9AE10071 */  stb      r23, 113(r1);
/* 800884BC 8811000F */  lbz      r0, 15(r17);
/* 800884C0 98010072 */  stb      r0, 114(r1);
/* 800884C4 480004AD */  bl       UNDEF_80088970;
UNDEF_800884c8:;
/* 800884C8 38600000 */  li       r3, 0;
/* 800884CC 48000488 */  b        UNDEF_80088954;
UNDEF_800884d0:;
/* 800884D0 806DA730 */  lwz      r3, UNDEF_8042a0b0@sda21;
/* 800884D4 5744043E */  clrlwi   r4, r26, 16;
/* 800884D8 5785043E */  clrlwi   r5, r28, 16;
/* 800884DC 3AA00000 */  li       r21, 0;
/* 800884E0 3A800000 */  li       r20, 0;
/* 800884E4 38C00000 */  li       r6, 0;
/* 800884E8 38E00001 */  li       r7, 1;
/* 800884EC 4BFEF0B5 */  bl       UNDEF_800775a0;
/* 800884F0 28180004 */  cmplwi   r24, 4;
/* 800884F4 5473B6BE */  extrwi   r19, r3, 6, 16;
/* 800884F8 3A400000 */  li       r18, 0;
/* 800884FC 40820014 */  bne-     UNDEF_80088510;
/* 80088500 3A7BFFFD */  subi     r19, r27, 3;
/* 80088504 3B000000 */  li       r24, 0;
/* 80088508 3E400080 */  lis      r18, 128;
/* 8008850C 48000010 */  b        UNDEF_8008851c;
UNDEF_80088510:;
/* 80088510 28180003 */  cmplwi   r24, 3;
/* 80088514 40820008 */  bne-     UNDEF_8008851c;
/* 80088518 3B000000 */  li       r24, 0;
UNDEF_8008851c:;
/* 8008851C 7EE30774 */  extsb    r3, r23;
/* 80088520 4BFD73E1 */  bl       getPlayer__9daPyMng_cFi;
/* 80088524 2C030000 */  cmpwi    r3, 0;
/* 80088528 40820020 */  bne-     UNDEF_80088548;
/* 8008852C 3AE00000 */  li       r23, 0;
/* 80088530 38600000 */  li       r3, 0;
/* 80088534 4BFD73CD */  bl       getPlayer__9daPyMng_cFi;
/* 80088538 2C030000 */  cmpwi    r3, 0;
/* 8008853C 4082000C */  bne-     UNDEF_80088548;
/* 80088540 38600000 */  li       r3, 0;
/* 80088544 48000410 */  b        UNDEF_80088954;
UNDEF_80088548:;
/* 80088548 81830060 */  lwz      r12, 96(r3);
/* 8008854C 818C00E0 */  lwz      r12, 224(r12);
/* 80088550 7D8903A6 */  mtctr    r12;
/* 80088554 4E800421 */  bctrl;
/* 80088558 2C030000 */  cmpwi    r3, 0;
/* 8008855C 41820008 */  beq-     UNDEF_80088564;
/* 80088560 3AE00000 */  li       r23, 0;
UNDEF_80088564:;
/* 80088564 7EE30774 */  extsb    r3, r23;
/* 80088568 4BFD7399 */  bl       getPlayer__9daPyMng_cFi;
/* 8008856C 2C030000 */  cmpwi    r3, 0;
/* 80088570 7C7B1B78 */  mr       r27, r3;
/* 80088574 4082000C */  bne-     UNDEF_80088580;
/* 80088578 38600000 */  li       r3, 0;
/* 8008857C 480003D8 */  b        UNDEF_80088954;
UNDEF_80088580:;
/* 80088580 6F408000 */  xoris    r0, r26, 32768;
/* 80088584 90010084 */  stw      r0, 132(r1);
/* 80088588 C8428ED0 */  lfd      f2, UNDEF_8042c230@sda21;
/* 8008858C 3BC00000 */  li       r30, 0;
/* 80088590 C8210080 */  lfd      f1, 128(r1);
/* 80088594 38810050 */  addi     r4, r1, 80;
/* 80088598 C0028EBC */  lfs      f0, UNDEF_8042c21c@sda21;
/* 8008859C EC211028 */  fsubs    f1, f1, f2;
/* 800885A0 90610050 */  stw      r3, 80(r1);
/* 800885A4 EC00082A */  fadds    f0, f0, f1;
/* 800885A8 D0010054 */  stfs     f0, 84(r1);
/* 800885AC C00300AC */  lfs      f0, 172(r3);
/* 800885B0 7E038378 */  mr       r3, r16;
/* 800885B4 D0010058 */  stfs     f0, 88(r1);
/* 800885B8 9AC1005C */  stb      r22, 92(r1);
/* 800885BC 8811000F */  lbz      r0, 15(r17);
/* 800885C0 9801005D */  stb      r0, 93(r1);
/* 800885C4 9BC1005E */  stb      r30, 94(r1);
/* 800885C8 4BFFFB39 */  bl       UNDEF_80088100;
/* 800885CC 28180001 */  cmplwi   r24, 1;
/* 800885D0 7C7F1B78 */  mr       r31, r3;
/* 800885D4 40820188 */  bne-     UNDEF_8008875c;
/* 800885D8 5660103A */  slwi     r0, r19, 2;
/* 800885DC 387D00F0 */  addi     r3, r29, 240;
/* 800885E0 7FA3002E */  lwzx     r29, r3, r0;
/* 800885E4 281D000F */  cmplwi   r29, 15;
/* 800885E8 4182000C */  beq-     UNDEF_800885f4;
/* 800885EC 281D001F */  cmplwi   r29, 31;
/* 800885F0 408200F0 */  bne-     UNDEF_800886e0;
UNDEF_800885f4:;
/* 800885F4 8811000D */  lbz      r0, 13(r17);
/* 800885F8 2C000000 */  cmpwi    r0, 0;
/* 800885FC 408200D8 */  bne-     UNDEF_800886d4;
/* 80088600 806DA730 */  lwz      r3, UNDEF_8042a0b0@sda21;
/* 80088604 5744043E */  clrlwi   r4, r26, 16;
/* 80088608 5785043E */  clrlwi   r5, r28, 16;
/* 8008860C 38C00000 */  li       r6, 0;
/* 80088610 38E00000 */  li       r7, 0;
/* 80088614 4BFEF24D */  bl       UNDEF_80077860;
/* 80088618 281D000F */  cmplwi   r29, 15;
/* 8008861C 40820060 */  bne-     UNDEF_8008867c;
/* 80088620 6F408000 */  xoris    r0, r26, 32768;
/* 80088624 9001007C */  stw      r0, 124(r1);
/* 80088628 6F208000 */  xoris    r0, r25, 32768;
/* 8008862C C8428ED0 */  lfd      f2, UNDEF_8042c230@sda21;
/* 80088630 90010084 */  stw      r0, 132(r1);
/* 80088634 38A00000 */  li       r5, 0;
/* 80088638 C8210078 */  lfd      f1, 120(r1);
/* 8008863C 7E038378 */  mr       r3, r16;
/* 80088640 C8010080 */  lfd      f0, 128(r1);
/* 80088644 38810040 */  addi     r4, r1, 64;
/* 80088648 EC211028 */  fsubs    f1, f1, f2;
/* 8008864C EC001028 */  fsubs    f0, f0, f2;
/* 80088650 D0210040 */  stfs     f1, 64(r1);
/* 80088654 D0010044 */  stfs     f0, 68(r1);
/* 80088658 8811000C */  lbz      r0, 12(r17);
/* 8008865C 98010048 */  stb      r0, 72(r1);
/* 80088660 98A10049 */  stb      r5, 73(r1);
/* 80088664 8811000F */  lbz      r0, 15(r17);
/* 80088668 9801004A */  stb      r0, 74(r1);
/* 8008866C 9AE1004B */  stb      r23, 75(r1);
/* 80088670 B0A1004C */  sth      r5, 76(r1);
/* 80088674 4BFFF8CD */  bl       UNDEF_80087f40;
/* 80088678 48000054 */  b        UNDEF_800886cc;
UNDEF_8008867c:;
/* 8008867C 6F408000 */  xoris    r0, r26, 32768;
/* 80088680 9001007C */  stw      r0, 124(r1);
/* 80088684 6F208000 */  xoris    r0, r25, 32768;
/* 80088688 C8428ED0 */  lfd      f2, UNDEF_8042c230@sda21;
/* 8008868C 90010084 */  stw      r0, 132(r1);
/* 80088690 38000000 */  li       r0, 0;
/* 80088694 C8210078 */  lfd      f1, 120(r1);
/* 80088698 7E038378 */  mr       r3, r16;
/* 8008869C C8010080 */  lfd      f0, 128(r1);
/* 800886A0 38810034 */  addi     r4, r1, 52;
/* 800886A4 EC211028 */  fsubs    f1, f1, f2;
/* 800886A8 38A00000 */  li       r5, 0;
/* 800886AC EC001028 */  fsubs    f0, f0, f2;
/* 800886B0 D0210034 */  stfs     f1, 52(r1);
/* 800886B4 D0010038 */  stfs     f0, 56(r1);
/* 800886B8 88D1000C */  lbz      r6, 12(r17);
/* 800886BC 98C1003C */  stb      r6, 60(r1);
/* 800886C0 9AE1003D */  stb      r23, 61(r1);
/* 800886C4 B001003E */  sth      r0, 62(r1);
/* 800886C8 4BFFF969 */  bl       UNDEF_80088030;
UNDEF_800886cc:;
/* 800886CC 38600000 */  li       r3, 0;
/* 800886D0 48000284 */  b        UNDEF_80088954;
UNDEF_800886d4:;
/* 800886D4 281D001F */  cmplwi   r29, 31;
/* 800886D8 40820008 */  bne-     UNDEF_800886e0;
/* 800886DC 3BA0000F */  li       r29, 15;
UNDEF_800886e0:;
/* 800886E0 281D0004 */  cmplwi   r29, 4;
/* 800886E4 40820144 */  bne-     UNDEF_80088828;
/* 800886E8 6F408000 */  xoris    r0, r26, 0x8000;
/* 800886EC 9001007C */  stw      r0, 124(r1);
/* 800886F0 6F208000 */  xoris    r0, r25, 0x8000;
/* 800886F4 C0028EB8 */  lfs      f0, UNDEF_8042c218@sda21;
/* 800886F8 90010084 */  stw      r0, 132(r1);
/* 800886FC 38810028 */  addi     r4, r1, 40;
/* 80088700 C8628ED0 */  lfd      f3, UNDEF_8042c230@sda21;
/* 80088704 38A00000 */  li       r5, 0;
/* 80088708 C8410078 */  lfd      f2, 120(r1);
/* 8008870C 38C00000 */  li       r6, 0;
/* 80088710 C8210080 */  lfd      f1, 128(r1);
/* 80088714 EC421828 */  fsubs    f2, f2, f3;
/* 80088718 D0010030 */  stfs     f0, 48(r1);
/* 8008871C EC011828 */  fsubs    f0, f1, f3;
/* 80088720 806DAA30 */  lwz      r3, UNDEF_8042a3b0@sda21;
/* 80088724 D0410028 */  stfs     f2, 40(r1);
/* 80088728 D001002C */  stfs     f0, 44(r1);
/* 8008872C 4805F085 */  bl       UNDEF_800e77b0;
/* 80088730 3803FFFE */  subi     r0, r3, 2;
/* 80088734 3A800001 */  li       r20, 1;
/* 80088738 28000001 */  cmplwi   r0, 1;
/* 8008873C 418100EC */  bgt-     UNDEF_80088828;
/* 80088740 2C030003 */  cmpwi    r3, 3;
/* 80088744 3C600001 */  lis      r3, 1;
                         // Can't put this instruction on Clang for some reason
/* 80088748 3AA38000 */  .long    0x3AA38000; // subi     r21, r3, 0x8000;
/* 8008874C 408200DC */  bne-     UNDEF_80088828;
/* 80088750 3BA00005 */  li       r29, 5;
/* 80088754 3A800000 */  li       r20, 0;
/* 80088758 480000D0 */  b        UNDEF_80088828;
UNDEF_8008875c:;
/* 8008875C 28180002 */  cmplwi   r24, 2;
/* 80088760 40820078 */  bne-     UNDEF_800887d8;
/* 80088764 806DA730 */  lwz      r3, UNDEF_8042a0b0@sda21;
/* 80088768 5744043E */  clrlwi   r4, r26, 16;
/* 8008876C 5785043E */  clrlwi   r5, r28, 16;
/* 80088770 38C00000 */  li       r6, 0;
/* 80088774 38E00000 */  li       r7, 0;
/* 80088778 4BFEF0E9 */  bl       UNDEF_80077860;
/* 8008877C 6F408000 */  xoris    r0, r26, 0x8000;
/* 80088780 9001007C */  stw      r0, 124(r1);
/* 80088784 6F208000 */  xoris    r0, r25, 0x8000;
/* 80088788 C8428ED0 */  lfd      f2, UNDEF_8042c230@sda21;
/* 8008878C 90010084 */  stw      r0, 132(r1);
/* 80088790 7E038378 */  mr       r3, r16;
/* 80088794 C8210078 */  lfd      f1, 120(r1);
/* 80088798 38810018 */  addi     r4, r1, 24;
/* 8008879C C8010080 */  lfd      f0, 128(r1);
/* 800887A0 EC211028 */  fsubs    f1, f1, f2;
/* 800887A4 EC001028 */  fsubs    f0, f0, f2;
/* 800887A8 D0210018 */  stfs     f1, 24(r1);
/* 800887AC D001001C */  stfs     f0, 28(r1);
/* 800887B0 8811000C */  lbz      r0, 12(r17);
/* 800887B4 98010020 */  stb      r0, 32(r1);
/* 800887B8 9BC10021 */  stb      r30, 33(r1);
/* 800887BC 8811000F */  lbz      r0, 15(r17);
/* 800887C0 98010022 */  stb      r0, 34(r1);
/* 800887C4 9AE10023 */  stb      r23, 35(r1);
/* 800887C8 B3C10024 */  sth      r30, 36(r1);
/* 800887CC 4BFFF775 */  bl       UNDEF_80087f40;
/* 800887D0 38600000 */  li       r3, 0;
/* 800887D4 48000180 */  b        UNDEF_80088954;
UNDEF_800887d8:;
/* 800887D8 2C120000 */  cmpwi    r18, 0;
/* 800887DC 41820014 */  beq-     UNDEF_800887f0;
/* 800887E0 5660103A */  slwi     r0, r19, 2;
/* 800887E4 387D00B0 */  addi     r3, r29, 176;
/* 800887E8 7FA3002E */  lwzx     r29, r3, r0;
/* 800887EC 4800003C */  b        UNDEF_80088828;
UNDEF_800887f0:;
/* 800887F0 5660103A */  slwi     r0, r19, 2;
/* 800887F4 387D0000 */  addi     r3, r29, 0;
/* 800887F8 7FA3002E */  lwzx     r29, r3, r0;
/* 800887FC 281D001B */  cmplwi   r29, 27;
/* 80088800 40820028 */  bne-     UNDEF_80088828;
/* 80088804 819B0060 */  lwz      r12, 96(r27);
/* 80088808 7F63DB78 */  mr       r3, r27;
/* 8008880C 818C03D4 */  lwz      r12, 980(r12);
/* 80088810 7D8903A6 */  mtctr    r12;
/* 80088814 4E800421 */  bctrl;
/* 80088818 7C0300D0 */  neg      r0, r3;
/* 8008881C 7C001B78 */  or       r0, r0, r3;
/* 80088820 7C03FE70 */  srawi    r3, r0, 31;
/* 80088824 3BA30002 */  addi     r29, r3, 2;
UNDEF_80088828:;
/* 80088828 281D000C */  cmplwi   r29, 12;
/* 8008882C 40820048 */  bne-     UNDEF_80088874;
/* 80088830 28180001 */  cmplwi   r24, 1;
/* 80088834 40820024 */  bne-     UNDEF_80088858;
/* 80088838 4BFD72C9 */  bl       UNDEF_8005fb00;
/* 8008883C 2C030000 */  cmpwi    r3, 0;
/* 80088840 41820034 */  beq-     UNDEF_80088874;
/* 80088844 4BFD826D */  bl       UNDEF_80060ab0;
/* 80088848 2C030000 */  cmpwi    r3, 0;
/* 8008884C 40820028 */  bne-     UNDEF_80088874;
/* 80088850 3BA00018 */  li       r29, 24;
/* 80088854 48000020 */  b        UNDEF_80088874;
UNDEF_80088858:;
/* 80088858 4BFD7699 */  bl       UNDEF_8005fef0;
/* 8008885C 7C731B78 */  mr       r19, r3;
/* 80088860 7E038378 */  mr       r3, r16;
/* 80088864 4BFFFA0D */  bl       UNDEF_80088270;
/* 80088868 7C039800 */  cmpw     r3, r19;
/* 8008886C 41800008 */  blt-     UNDEF_80088874;
/* 80088870 3BA00018 */  li       r29, 24;
UNDEF_80088874:;
/* 80088874 801B1090 */  lwz      r0, 4240(r27);
/* 80088878 7C000774 */  extsb    r0, r0;
/* 8008887C 2C000003 */  cmpwi    r0, 3;
/* 80088880 40820028 */  bne-     UNDEF_800888a8;
/* 80088884 2C140000 */  cmpwi    r20, 0;
/* 80088888 40820020 */  bne-     UNDEF_800888a8;
/* 8008888C 806DA730 */  lwz      r3, UNDEF_8042a0b0@sda21;
/* 80088890 5744043E */  clrlwi   r4, r26, 16;
/* 80088894 5785043E */  clrlwi   r5, r28, 16;
/* 80088898 38C00000 */  li       r6, 0;
/* 8008889C 38E0000E */  li       r7, 14;
/* 800888A0 4BFEEFC1 */  bl       UNDEF_80077860;
/* 800888A4 4800001C */  b        UNDEF_800888c0;
UNDEF_800888a8:;
/* 800888A8 806DA730 */  lwz      r3, UNDEF_8042a0b0@sda21;
/* 800888AC 5744043E */  clrlwi   r4, r26, 16;
/* 800888B0 5785043E */  clrlwi   r5, r28, 16;
/* 800888B4 38C00000 */  li       r6, 0;
/* 800888B8 38E00000 */  li       r7, 0;
/* 800888BC 4BFEEFA5 */  bl       UNDEF_80077860;
UNDEF_800888c0:;
/* 800888C0 6F408000 */  xoris    r0, r26, 32768;
/* 800888C4 9001007C */  stw      r0, 124(r1);
/* 800888C8 6F208000 */  xoris    r0, r25, 32768;
/* 800888CC C0028EB8 */  lfs      f0, UNDEF_8042c218@sda21;
/* 800888D0 90010084 */  stw      r0, 132(r1);
/* 800888D4 57E8F800 */  slwi     r8, r31, 31;
/* 800888D8 C8628ED0 */  lfd      f3, UNDEF_8042c230@sda21;
/* 800888DC 7EE00774 */  extsb    r0, r23;
/* 800888E0 C8410078 */  lfd      f2, 120(r1);
/* 800888E4 53A806FE */  rlwimi   r8, r29, 0, 27, 31;
/* 800888E8 C8210080 */  lfd      f1, 128(r1);
/* 800888EC 57032834 */  slwi     r3, r24, 5;
/* 800888F0 EC421828 */  fsubs    f2, f2, f3;
/* 800888F4 D0010010 */  stfs     f0, 16(r1);
/* 800888F8 EC011828 */  fsubs    f0, f1, f3;
/* 800888FC 7D081B78 */  or       r8, r8, r3;
/* 80088900 D0410008 */  stfs     f2, 8(r1);
/* 80088904 7D08AB78 */  or       r8, r8, r21;
/* 80088908 D001000C */  stfs     f0, 12(r1);
/* 8008890C          */  rlwinm   r0, r0, 16, 0x000F0000;
/* 80088910 7D080378 */  or       r8, r8, r0;
/* 80088914 38A10008 */  addi     r5, r1, 8;
/* 80088918 8891000F */  lbz      r4, 15(r17);
                         // Move direction from 18 to 29
/* 8008891C          */  rlwinm   r0, r22, 29, 0x60000000;
/* 80088920 3860003B */  li       r3, 59;
/* 80088924 38C00000 */  li       r6, 0;
/* 80088928 5484C18E */  clrlslwi r4, r4, 30, 24;
/* 8008892C 38E00000 */  li       r7, 0;
/* 80088930 7D082378 */  or       r8, r8, r4;
/* 80088934 7D080378 */  or       r8, r8, r0;
/* 80088938 7D049378 */  or       r4, r8, r18;
/* 8008893C 4BFDBCD5 */  bl       UNDEF_80064610;
/* 80088940 281D000F */  cmplwi   r29, 15;
/* 80088944 4082000C */  bne-     UNDEF_80088950;
/* 80088948 38600000 */  li       r3, 0;
/* 8008894C 48000008 */  b        UNDEF_80088954;
UNDEF_80088950:;
/* 80088950 38600001 */  li       r3, 1;
UNDEF_80088954:;
/* 80088954 396100D0 */  addi     r11, r1, 208;
/* 80088958 4825472D */  bl       UNDEF_802dd084;
/* 8008895C 800100D4 */  lwz      r0, 212(r1);
/* 80088960 7C0803A6 */  mtlr     r0;
/* 80088964 382100D0 */  addi     r1, r1, 208;
/* 80088968 4E800020 */  blr;
  // clang-format on
);