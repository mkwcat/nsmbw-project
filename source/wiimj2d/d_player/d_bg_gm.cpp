// d_bg_gm.cpp
// NSMBW .text: 0x80154800 - 0x80156FE0

#include "d_bg_gm.h"

#include "d_system/d_a_player_manager.h"
#include "d_system/d_mj2d_game.h"
#include <bit>

u32 dBgGm_countr_one(u32 v)
{
    u32 r = std::countr_zero(v);
    if (r >= PLAYER_COUNT) {
        return 0;
    }
    return r;
}

[[nsmbw(0x80154F90)]]
bool dBgGm_c::inW2CastleMazeBounds(float param1, float param2) ASM_METHOD(
  // clang-format off
/* 80154F90 9421FFB0 */  stwu     r1, -80(r1);
/* 80154F94 7C0802A6 */  mflr     r0;
/* 80154F98 90010054 */  stw      r0, 84(r1);
/* 80154F9C DBE10040 */  stfd     f31, 64(r1);
/* 80154FA0 F3E10048 */  .long    0xF3E10048; // psq_st   f31, 72(r1), 0, 0;
/* 80154FA4 FFE01090 */  fmr      f31, f2;
/* 80154FA8 DBC10030 */  stfd     f30, 48(r1);
/* 80154FAC F3C10038 */  .long    0xF3C10038; // psq_st   f30, 56(r1), 0, 0;
/* 80154FB0 FFC00890 */  fmr      f30, f1;
/* 80154FB4 93E1002C */  stw      r31, 44(r1);
/* 80154FB8 3BE00001 */  li       r31, 1;
/* 80154FBC 93C10028 */  stw      r30, 40(r1);
/* 80154FC0 3BC00000 */  li       r30, 0;
/* 80154FC4 93A10024 */  stw      r29, 36(r1);
/* 80154FC8 93810020 */  stw      r28, 32(r1);
/* 80154FCC 3B800000 */  li       r28, 0;
UNDEF_80154fd0:;
/* 80154FD0 7F83E378 */  mr       r3, r28;
/* 80154FD4 4BF0A92D */  bl       getPlayer__9daPyMng_cFi;
/* 80154FD8 2C030000 */  cmpwi    r3, 0;
/* 80154FDC 7C7D1B78 */  mr       r29, r3;
/* 80154FE0 4182007C */  beq-     UNDEF_8015505c;
/* 80154FE4 38800053 */  li       r4, 83;
/* 80154FE8 4BF01D09 */  bl       isStatus__10daPlBase_cFi;
/* 80154FEC 2C030000 */  cmpwi    r3, 0;
/* 80154FF0 4082006C */  bne-     UNDEF_8015505c;
/* 80154FF4 881D153C */  lbz      r0, 5436(r29);
/* 80154FF8 7C000774 */  extsb    r0, r0;
/* 80154FFC 2C000001 */  cmpwi    r0, 1;
/* 80155000 4182005C */  beq-     UNDEF_8015505c;
/* 80155004 2C000003 */  cmpwi    r0, 3;
/* 80155008 41820054 */  beq-     UNDEF_8015505c;
/* 8015500C C03D1530 */  lfs      f1, 5424(r29);
/* 80155010 C05D152C */  lfs      f2, 5420(r29);
/* 80155014 C01D1534 */  lfs      f0, 5428(r29);
/* 80155018 FC01F040 */  fcmpo    cr0, f1, f30;
/* 8015501C D0410008 */  stfs     f2, 8(r1);
/* 80155020 D021000C */  stfs     f1, 12(r1);
/* 80155024 D0010010 */  stfs     f0, 16(r1);
/* 80155028 40800034 */  bge-     UNDEF_8015505c;
/* 8015502C FC01F840 */  fcmpo    cr0, f1, f31;
/* 80155030 4081002C */  ble-     UNDEF_8015505c;
/* 80155034 819D0060 */  lwz      r12, 96(r29);
/* 80155038 7FA3EB78 */  mr       r3, r29;
/* 8015503C 818C006C */  lwz      r12, 108(r12);
/* 80155040 7D8903A6 */  mtctr    r12;
/* 80155044 4E800421 */  bctrl;
/* 80155048 88030000 */  lbz      r0, 0(r3);
/* 8015504C 7C030774 */  extsb    r3, r0;
/* 80155050 38030001 */  addi     r0, r3, 1;
/* 80155054 7FE00030 */  slw      r0, r31, r0;
/* 80155058 7FDE0378 */  or       r30, r30, r0;
UNDEF_8015505c:;
/* 8015505C 3B9C0001 */  addi     r28, r28, 1;
/* 80155060          */  cmpwi    r28, PLAYER_COUNT;
/* 80155064 4180FF6C */  blt+     UNDEF_80154fd0;
/* 80155068 E3E10048 */  .long    0xE3E10048; // psq_l    f31, 72(r1), 0, 0;
/* 8015506C 7FC3F378 */  mr       r3, r30;
/* 80155070 CBE10040 */  lfd      f31, 64(r1);
/* 80155074 E3C10038 */  .long    0xE3C10038; // psq_l    f30, 56(r1), 0, 0;
/* 80155078 CBC10030 */  lfd      f30, 48(r1);
/* 8015507C 83E1002C */  lwz      r31, 44(r1);
/* 80155080 83C10028 */  lwz      r30, 40(r1);
/* 80155084 83A10024 */  lwz      r29, 36(r1);
/* 80155088 83810020 */  lwz      r28, 32(r1);
/* 8015508C 80010054 */  lwz      r0, 84(r1);
/* 80155090 7C0803A6 */  mtlr     r0;
/* 80155094 38210050 */  addi     r1, r1, 80;
/* 80155098 4E800020 */  blr;
  // clang-format on
);

u8 getFirstActivePlayer(u32 mask)
{
    if (mask == 0) {
        return 0;
    }

    // Count trailing zeros
    u8 count = 0;
    while ((mask & 1) == 0) {
        mask >>= 1;
        count++;
    }

    return count;
}

[[nsmbw(0x801550A0)]]
int dBgGm_c::execute() ASM_METHOD(
  // clang-format off
/* 801550A0 9421FE40 */  stwu     r1, -448(r1);
/* 801550A4 7C0802A6 */  mflr     r0;
/* 801550A8 900101C4 */  stw      r0, 452(r1);
/* 801550AC 396100D0 */  addi     r11, r1, 208;
/* 801550B0 DBE101B0 */  stfd     f31, 432(r1);
/* 801550B4 F3E101B8 */  .long    0xF3E101B8; // psq_st   f31, 440(r1), 0, 0;
/* 801550B8 DBC101A0 */  stfd     f30, 416(r1);
/* 801550BC F3C101A8 */  .long    0xF3C101A8; // psq_st   f30, 424(r1), 0, 0;
/* 801550C0 DBA10190 */  stfd     f29, 400(r1);
/* 801550C4 F3A10198 */  .long    0xF3A10198; // psq_st   f29, 408(r1), 0, 0;
/* 801550C8 DB810180 */  stfd     f28, 384(r1);
/* 801550CC F3810188 */  .long    0xF3810188; // psq_st   f28, 392(r1), 0, 0;
/* 801550D0 DB610170 */  stfd     f27, 368(r1);
/* 801550D4 F3610178 */  .long    0xF3610178; // psq_st   f27, 376(r1), 0, 0;
/* 801550D8 DB410160 */  stfd     f26, 352(r1);
/* 801550DC F3410168 */  .long    0xF3410168; // psq_st   f26, 360(r1), 0, 0;
/* 801550E0 DB210150 */  stfd     f25, 336(r1);
/* 801550E4 F3210158 */  .long    0xF3210158; // psq_st   f25, 344(r1), 0, 0;
/* 801550E8 DB010140 */  stfd     f24, 320(r1);
/* 801550EC F3010148 */  .long    0xF3010148; // psq_st   f24, 328(r1), 0, 0;
/* 801550F0 DAE10130 */  stfd     f23, 304(r1);
/* 801550F4 F2E10138 */  .long    0xF2E10138; // psq_st   f23, 312(r1), 0, 0;
/* 801550F8 DAC10120 */  stfd     f22, 288(r1);
/* 801550FC F2C10128 */  .long    0xF2C10128; // psq_st   f22, 296(r1), 0, 0;
/* 80155100 DAA10110 */  stfd     f21, 272(r1);
/* 80155104 F2A10118 */  .long    0xF2A10118; // psq_st   f21, 280(r1), 0, 0;
/* 80155108 DA810100 */  stfd     f20, 256(r1);
/* 8015510C F2810108 */  .long    0xF2810108; // psq_st   f20, 264(r1), 0, 0;
/* 80155110 DA6100F0 */  stfd     f19, 240(r1);
/* 80155114 F26100F8 */  .long    0xF26100F8; // psq_st   f19, 248(r1), 0, 0;
/* 80155118 DA4100E0 */  stfd     f18, 224(r1);
/* 8015511C F24100E8 */  .long    0xF24100E8; // psq_st   f18, 232(r1), 0, 0;
/* 80155120 DA2100D0 */  stfd     f17, 208(r1);
/* 80155124 F22100D8 */  .long    0xF22100D8; // psq_st   f17, 216(r1), 0, 0;
/* 80155128 48187F21 */  bl       UNDEF_802dd048;
/* 8015512C 3C830009 */  addis    r4, r3, 9;
/* 80155130 7C7F1B78 */  mr       r31, r3;
/* 80155134 836DA760 */  lwz      r27, UNDEF_8042a0e0@sda21;
/* 80155138 834DAB28 */  lwz      r26, UNDEF_8042a4a8@sda21;
/* 8015513C 88640025 */  lbz      r3, 37(r4);
/* 80155140 4BF0A7C1 */  bl       UNDEF_8005f900;
/* 80155144 7C7D1B78 */  mr       r29, r3;
/* 80155148 4BF0ABD9 */  bl       UNDEF_8005fd20;
/* 8015514C 881A120E */  lbz      r0, 4622(r26);
/* 80155150 7C7C1B78 */  mr       r28, r3;
/* 80155154 806DA7F8 */  lwz      r3, UNDEF_8042a178@sda21;
/* 80155158 1C0003B0 */  mulli    r0, r0, 944;
/* 8015515C 8AFA120F */  lbz      r23, 4623(r26);
/* 80155160 7F230214 */  add      r25, r3, r0;
/* 80155164 8019002C */  lwz      r0, 44(r25);
/* 80155168 2C000000 */  cmpwi    r0, 0;
/* 8015516C 41820008 */  beq-     UNDEF_80155174;
/* 80155170 48000008 */  b        UNDEF_80155178;
UNDEF_80155174:;
/* 80155174 3B200000 */  li       r25, 0;
UNDEF_80155178:;
/* 80155178 3860FFFF */  li       r3, -1;
/* 8015517C 4BF5E9D5 */  bl       UNDEF_800b3b50;
/* 80155180 2C030000 */  cmpwi    r3, 0;
/* 80155184 4182000C */  beq-     UNDEF_80155190;
/* 80155188 38600001 */  li       r3, 1;
/* 8015518C 4800173C */  b        UNDEF_801568c8;
UNDEF_80155190:;
/* 80155190 2C1D0000 */  cmpwi    r29, 0;
/* 80155194 4082000C */  bne-     UNDEF_801551a0;
/* 80155198 38600001 */  li       r3, 1;
/* 8015519C 4800172C */  b        UNDEF_801568c8;
UNDEF_801551a0:;
/* 801551A0 38000005 */  li       r0, 5;
/* 801551A4 39000000 */  li       r8, 0;
/* 801551A8 38A0000A */  li       r5, 10;
/* 801551AC 38800000 */  li       r4, 0;
/* 801551B0 7C0903A6 */  mtctr    r0;
/* 801551B4 60000000 */  nop      ;
UNDEF_801551b8:;
/* 801551B8 800DA730 */  lwz      r0, UNDEF_8042a0b0@sda21;
/* 801551BC 7C604214 */  add      r3, r0, r8;
/* 801551C0 3CC30009 */  addis    r6, r3, 9;
/* 801551C4 88E601E4 */  lbz      r7, 484(r6);
/* 801551C8 2C070000 */  cmpwi    r7, 0;
/* 801551CC 41820024 */  beq-     UNDEF_801551f0;
/* 801551D0 2C070063 */  cmpwi    r7, 99;
/* 801551D4 4080001C */  bge-     UNDEF_801551f0;
/* 801551D8 7C053810 */  subc     r0, r7, r5;
/* 801551DC 54E00FFE */  srwi     r0, r7, 31;
/* 801551E0 7C602110 */  subfe    r3, r0, r4;
/* 801551E4 38070001 */  addi     r0, r7, 1;
/* 801551E8 7C001838 */  and      r0, r0, r3;
/* 801551EC 980601E4 */  stb      r0, 484(r6);
UNDEF_801551f0:;
/* 801551F0 800DA730 */  lwz      r0, UNDEF_8042a0b0@sda21;
/* 801551F4 39080001 */  addi     r8, r8, 1;
/* 801551F8 7C604214 */  add      r3, r0, r8;
/* 801551FC 3CC30009 */  addis    r6, r3, 9;
/* 80155200 88E601E4 */  lbz      r7, 484(r6);
/* 80155204 2C070000 */  cmpwi    r7, 0;
/* 80155208 41820024 */  beq-     UNDEF_8015522c;
/* 8015520C 2C070063 */  cmpwi    r7, 99;
/* 80155210 4080001C */  bge-     UNDEF_8015522c;
/* 80155214 7C053810 */  subc     r0, r7, r5;
/* 80155218 54E00FFE */  srwi     r0, r7, 31;
/* 8015521C 7C602110 */  subfe    r3, r0, r4;
/* 80155220 38070001 */  addi     r0, r7, 1;
/* 80155224 7C001838 */  and      r0, r0, r3;
/* 80155228 980601E4 */  stb      r0, 484(r6);
UNDEF_8015522c:;
/* 8015522C 800DA730 */  lwz      r0, UNDEF_8042a0b0@sda21;
/* 80155230 39080001 */  addi     r8, r8, 1;
/* 80155234 7C604214 */  add      r3, r0, r8;
/* 80155238 3CC30009 */  addis    r6, r3, 9;
/* 8015523C 88E601E4 */  lbz      r7, 484(r6);
/* 80155240 2C070000 */  cmpwi    r7, 0;
/* 80155244 41820024 */  beq-     UNDEF_80155268;
/* 80155248 2C070063 */  cmpwi    r7, 99;
/* 8015524C 4080001C */  bge-     UNDEF_80155268;
/* 80155250 7C053810 */  subc     r0, r7, r5;
/* 80155254 54E00FFE */  srwi     r0, r7, 31;
/* 80155258 7C602110 */  subfe    r3, r0, r4;
/* 8015525C 38070001 */  addi     r0, r7, 1;
/* 80155260 7C001838 */  and      r0, r0, r3;
/* 80155264 980601E4 */  stb      r0, 484(r6);
UNDEF_80155268:;
/* 80155268 800DA730 */  lwz      r0, UNDEF_8042a0b0@sda21;
/* 8015526C 39080001 */  addi     r8, r8, 1;
/* 80155270 7C604214 */  add      r3, r0, r8;
/* 80155274 3CC30009 */  addis    r6, r3, 9;
/* 80155278 88E601E4 */  lbz      r7, 484(r6);
/* 8015527C 2C070000 */  cmpwi    r7, 0;
/* 80155280 41820024 */  beq-     UNDEF_801552a4;
/* 80155284 2C070063 */  cmpwi    r7, 99;
/* 80155288 4080001C */  bge-     UNDEF_801552a4;
/* 8015528C 7C053810 */  subc     r0, r7, r5;
/* 80155290 54E00FFE */  srwi     r0, r7, 31;
/* 80155294 7C602110 */  subfe    r3, r0, r4;
/* 80155298 38070001 */  addi     r0, r7, 1;
/* 8015529C 7C001838 */  and      r0, r0, r3;
/* 801552A0 980601E4 */  stb      r0, 484(r6);
UNDEF_801552a4:;
/* 801552A4 39080001 */  addi     r8, r8, 1;
/* 801552A8 4200FF10 */  bdnz+    UNDEF_801551b8;
/* 801552AC 7F63DB78 */  mr       r3, r27;
/* 801552B0 4BF2CED1 */  bl       UNDEF_80082180;
/* 801552B4 7F63DB78 */  mr       r3, r27;
/* 801552B8 4BF2CF29 */  bl       UNDEF_800821e0;
/* 801552BC 3C7F0009 */  addis    r3, r31, 9;
/* 801552C0 C01B0038 */  lfs      f0, 56(r27);
/* 801552C4 D003FEA8 */  stfs     f0, -344(r3);
/* 801552C8 C022AA80 */  lfs      f1, UNDEF_8042dde0@sda21;
/* 801552CC C01B003C */  lfs      f0, 60(r27);
/* 801552D0 D003FEAC */  stfs     f0, -340(r3);
/* 801552D4 C01B0040 */  lfs      f0, 64(r27);
/* 801552D8 C05B0038 */  lfs      f2, 56(r27);
/* 801552DC EC010032 */  fmuls    f0, f1, f0;
/* 801552E0 EC02002A */  fadds    f0, f2, f0;
/* 801552E4 D01B0050 */  stfs     f0, 80(r27);
/* 801552E8 C01B0044 */  lfs      f0, 68(r27);
/* 801552EC C05B003C */  lfs      f2, 60(r27);
/* 801552F0 EC010032 */  fmuls    f0, f1, f0;
/* 801552F4 EC020028 */  fsubs    f0, f2, f0;
/* 801552F8 D01B0054 */  stfs     f0, 84(r27);
/* 801552FC 881A120C */  lbz      r0, 4620(r26);
/* 80155300 28000001 */  cmplwi   r0, 1;
/* 80155304 40820428 */  bne-     UNDEF_8015572c;
/* 80155308 881A120D */  lbz      r0, 4621(r26);
/* 8015530C 28000017 */  cmplwi   r0, 23;
/* 80155310 4082041C */  bne-     UNDEF_8015572c;
/* 80155314 881A120E */  lbz      r0, 4622(r26);
/* 80155318 2C000000 */  cmpwi    r0, 0;
/* 8015531C 40820410 */  bne-     UNDEF_8015572c;
/* 80155320 A8030BE0 */  lha      r0, 3040(r3);
/* 80155324 C05D152C */  lfs      f2, 5420(r29);
/* 80155328 C03D1530 */  lfs      f1, 5424(r29);
/* 8015532C 2C000000 */  cmpwi    r0, 0;
/* 80155330 C01D1534 */  lfs      f0, 5428(r29);
/* 80155334 D0410080 */  stfs     f2, 128(r1);
/* 80155338 D0210038 */  stfs     f1, 56(r1);
/* 8015533C D0010048 */  stfs     f0, 72(r1);
/* 80155340 41820018 */  beq-     UNDEF_80155358;
/* 80155344 2C000001 */  cmpwi    r0, 1;
/* 80155348 418200BC */  beq-     UNDEF_80155404;
/* 8015534C 2C000002 */  cmpwi    r0, 2;
/* 80155350 41820160 */  beq-     UNDEF_801554b0;
/* 80155354 48000208 */  b        UNDEF_8015555c;
UNDEF_80155358:;
/* 80155358 C03B0038 */  lfs      f1, 56(r27);
/* 8015535C C002AA9C */  lfs      f0, UNDEF_8042ddfc@sda21;
/* 80155360 FC010040 */  fcmpo    cr0, f1, f0;
/* 80155364 4C411382 */  cror     2, 1, 2;
/* 80155368 4082008C */  bne-     UNDEF_801553f4;
/* 8015536C C002AAA0 */  lfs      f0, UNDEF_8042de00@sda21;
/* 80155370 FC010040 */  fcmpo    cr0, f1, f0;
/* 80155374 4C401382 */  cror     2, 0, 2;
/* 80155378 4082007C */  bne-     UNDEF_801553f4;
/* 8015537C C0230038 */  lfs      f1, 56(r3);
/* 80155380 7FE3FB78 */  mr       r3, r31;
/* 80155384 C042AAA4 */  lfs      f2, UNDEF_8042de04@sda21;
/* 80155388 4BFFFC09 */  bl       UNDEF_80154f90;
/* 8015538C 2C030000 */  cmpwi    r3, 0;
/* 80155390 7C651B78 */  mr       r5, r3;
/* 80155394 41820024 */  beq-     UNDEF_801553b8;
/* 80155398 806DADE8 */  lwz      r3, UNDEF_8042a768@sda21;
/* 8015539C 388000BB */  li       r4, 187;
/* 801553A0 48040121 */  bl       UNDEF_801954c0;
/* 801553A4 3C9F0009 */  addis    r4, r31, 9;
/* 801553A8 A8640BE0 */  lha      r3, 3040(r4);
/* 801553AC 38030001 */  addi     r0, r3, 1;
/* 801553B0 B0040BE0 */  sth      r0, 3040(r4);
/* 801553B4 480001B0 */  b        UNDEF_80155564;
UNDEF_801553b8:;
/* 801553B8 3C7F0009 */  addis    r3, r31, 9;
/* 801553BC 88030BE2 */  lbz      r0, 3042(r3);
/* 801553C0 2C000000 */  cmpwi    r0, 0;
/* 801553C4 40820020 */  bne-     UNDEF_801553e4;
/* 801553C8 806DADE8 */  lwz      r3, UNDEF_8042a768@sda21;
/* 801553CC 388000BC */  li       r4, 188;
/* 801553D0 38A00001 */  li       r5, 1;
/* 801553D4 480400ED */  bl       UNDEF_801954c0;
/* 801553D8 3C7F0009 */  addis    r3, r31, 9;
/* 801553DC 38000001 */  li       r0, 1;
/* 801553E0 98030BE2 */  stb      r0, 3042(r3);
UNDEF_801553e4:;
/* 801553E4 3C7F0009 */  addis    r3, r31, 9;
/* 801553E8 38000001 */  li       r0, 1;
/* 801553EC B00309C8 */  sth      r0, 2504(r3);
/* 801553F0 48000174 */  b        UNDEF_80155564;
UNDEF_801553f4:;
/* 801553F4 3C7F0009 */  addis    r3, r31, 9;
/* 801553F8 38000000 */  li       r0, 0;
/* 801553FC 98030BE2 */  stb      r0, 3042(r3);
/* 80155400 48000164 */  b        UNDEF_80155564;
UNDEF_80155404:;
/* 80155404 C03B0038 */  lfs      f1, 56(r27);
/* 80155408 C002AAA8 */  lfs      f0, UNDEF_8042de08@sda21;
/* 8015540C FC010040 */  fcmpo    cr0, f1, f0;
/* 80155410 4C411382 */  cror     2, 1, 2;
/* 80155414 4082008C */  bne-     UNDEF_801554a0;
/* 80155418 C002AAAC */  lfs      f0, UNDEF_8042de0c@sda21;
/* 8015541C FC010040 */  fcmpo    cr0, f1, f0;
/* 80155420 4C401382 */  cror     2, 0, 2;
/* 80155424 4082007C */  bne-     UNDEF_801554a0;
/* 80155428 C043003C */  lfs      f2, 60(r3);
/* 8015542C 7FE3FB78 */  mr       r3, r31;
/* 80155430 C022AAB0 */  lfs      f1, UNDEF_8042de10@sda21;
/* 80155434 4BFFFB5D */  bl       UNDEF_80154f90;
/* 80155438 2C030000 */  cmpwi    r3, 0;
/* 8015543C 7C651B78 */  mr       r5, r3;
/* 80155440 41820024 */  beq-     UNDEF_80155464;
/* 80155444 806DADE8 */  lwz      r3, UNDEF_8042a768@sda21;
/* 80155448 388000BB */  li       r4, 187;
/* 8015544C 48040075 */  bl       UNDEF_801954c0;
/* 80155450 3C9F0009 */  addis    r4, r31, 9;
/* 80155454 A8640BE0 */  lha      r3, 3040(r4);
/* 80155458 38030001 */  addi     r0, r3, 1;
/* 8015545C B0040BE0 */  sth      r0, 3040(r4);
/* 80155460 48000104 */  b        UNDEF_80155564;
UNDEF_80155464:;
/* 80155464 3C7F0009 */  addis    r3, r31, 9;
/* 80155468 88030BE2 */  lbz      r0, 3042(r3);
/* 8015546C 2C000000 */  cmpwi    r0, 0;
/* 80155470 40820020 */  bne-     UNDEF_80155490;
/* 80155474 806DADE8 */  lwz      r3, UNDEF_8042a768@sda21;
/* 80155478 388000BC */  li       r4, 188;
/* 8015547C 38A00001 */  li       r5, 1;
/* 80155480 48040041 */  bl       UNDEF_801954c0;
/* 80155484 3C7F0009 */  addis    r3, r31, 9;
/* 80155488 38000001 */  li       r0, 1;
/* 8015548C 98030BE2 */  stb      r0, 3042(r3);
UNDEF_80155490:;
/* 80155490 3C7F0009 */  addis    r3, r31, 9;
/* 80155494 38000002 */  li       r0, 2;
/* 80155498 B00309C8 */  sth      r0, 2504(r3);
/* 8015549C 480000C8 */  b        UNDEF_80155564;
UNDEF_801554a0:;
/* 801554A0 3C7F0009 */  addis    r3, r31, 9;
/* 801554A4 38000000 */  li       r0, 0;
/* 801554A8 98030BE2 */  stb      r0, 3042(r3);
/* 801554AC 480000B8 */  b        UNDEF_80155564;
UNDEF_801554b0:;
/* 801554B0 C03B0038 */  lfs      f1, 56(r27);
/* 801554B4 C002AAB4 */  lfs      f0, UNDEF_8042de14@sda21;
/* 801554B8 FC010040 */  fcmpo    cr0, f1, f0;
/* 801554BC 4C411382 */  cror     2, 1, 2;
/* 801554C0 4082008C */  bne-     UNDEF_8015554c;
/* 801554C4 C002AAB8 */  lfs      f0, UNDEF_8042de18@sda21;
/* 801554C8 FC010040 */  fcmpo    cr0, f1, f0;
/* 801554CC 4C401382 */  cror     2, 0, 2;
/* 801554D0 4082007C */  bne-     UNDEF_8015554c;
/* 801554D4 C022AAA4 */  lfs      f1, UNDEF_8042de04@sda21;
/* 801554D8 7FE3FB78 */  mr       r3, r31;
/* 801554DC C042AABC */  lfs      f2, UNDEF_8042de1c@sda21;
/* 801554E0 4BFFFAB1 */  bl       UNDEF_80154f90;
/* 801554E4 2C030000 */  cmpwi    r3, 0;
/* 801554E8 7C651B78 */  mr       r5, r3;
/* 801554EC 41820024 */  beq-     UNDEF_80155510;
/* 801554F0 806DADE8 */  lwz      r3, UNDEF_8042a768@sda21;
/* 801554F4 388000BB */  li       r4, 187;
/* 801554F8 4803FFC9 */  bl       UNDEF_801954c0;
/* 801554FC 3C9F0009 */  addis    r4, r31, 9;
/* 80155500 A8640BE0 */  lha      r3, 3040(r4);
/* 80155504 38030001 */  addi     r0, r3, 1;
/* 80155508 B0040BE0 */  sth      r0, 3040(r4);
/* 8015550C 48000058 */  b        UNDEF_80155564;
UNDEF_80155510:;
/* 80155510 3C7F0009 */  addis    r3, r31, 9;
/* 80155514 88030BE2 */  lbz      r0, 3042(r3);
/* 80155518 2C000000 */  cmpwi    r0, 0;
/* 8015551C 40820020 */  bne-     UNDEF_8015553c;
/* 80155520 806DADE8 */  lwz      r3, UNDEF_8042a768@sda21;
/* 80155524 388000BC */  li       r4, 188;
/* 80155528 38A00001 */  li       r5, 1;
/* 8015552C 4803FF95 */  bl       UNDEF_801954c0;
/* 80155530 3C7F0009 */  addis    r3, r31, 9;
/* 80155534 38000001 */  li       r0, 1;
/* 80155538 98030BE2 */  stb      r0, 3042(r3);
UNDEF_8015553c:;
/* 8015553C 3C7F0009 */  addis    r3, r31, 9;
/* 80155540 38000003 */  li       r0, 3;
/* 80155544 B00309C8 */  sth      r0, 2504(r3);
/* 80155548 4800001C */  b        UNDEF_80155564;
UNDEF_8015554c:;
/* 8015554C 3C7F0009 */  addis    r3, r31, 9;
/* 80155550 38000000 */  li       r0, 0;
/* 80155554 98030BE2 */  stb      r0, 3042(r3);
/* 80155558 4800000C */  b        UNDEF_80155564;
UNDEF_8015555c:;
/* 8015555C 38000000 */  li       r0, 0;
/* 80155560 B0030BE0 */  sth      r0, 3040(r3);
UNDEF_80155564:;
/* 80155564 C23B0038 */  lfs      f17, 56(r27);
/* 80155568 7FE3FB78 */  mr       r3, r31;
/* 8015556C 4BF23435 */  bl       UNDEF_800789a0;
/* 80155570 FC110840 */  fcmpo    cr0, f17, f1;
/* 80155574 4081002C */  ble-     UNDEF_801555a0;
/* 80155578 C23B0038 */  lfs      f17, 56(r27);
/* 8015557C 7FE3FB78 */  mr       r3, r31;
/* 80155580 4BF23421 */  bl       UNDEF_800789a0;
/* 80155584 C002AAC0 */  lfs      f0, UNDEF_8042de20@sda21;
/* 80155588 EC00082A */  fadds    f0, f0, f1;
/* 8015558C FC110040 */  fcmpo    cr0, f17, f0;
/* 80155590 40800010 */  bge-     UNDEF_801555a0;
/* 80155594 3C7F0009 */  addis    r3, r31, 9;
/* 80155598 38000000 */  li       r0, 0;
/* 8015559C B00309C8 */  sth      r0, 2504(r3);
UNDEF_801555a0:;
/* 801555A0 3C9F0009 */  addis    r4, r31, 9;
/* 801555A4 A80409C8 */  lha      r0, 2504(r4);
/* 801555A8 2C000001 */  cmpwi    r0, 1;
/* 801555AC 40820060 */  bne-     UNDEF_8015560c;
/* 801555B0 38000002 */  li       r0, 2;
/* 801555B4 900DAB68 */  stw      r0, UNDEF_8042a4e8@sda21;
/* 801555B8 C022AAC4 */  lfs      f1, UNDEF_8042de24@sda21;
/* 801555BC 7FE3FB78 */  mr       r3, r31;
/* 801555C0 C002AAC8 */  lfs      f0, UNDEF_8042de28@sda21;
/* 801555C4 D024FE64 */  stfs     f1, -412(r4);
/* 801555C8 D004FE68 */  stfs     f0, -408(r4);
/* 801555CC 4BF233D5 */  bl       UNDEF_800789a0;
/* 801555D0 3C9F0009 */  addis    r4, r31, 9;
/* 801555D4 7FE3FB78 */  mr       r3, r31;
/* 801555D8 D0240030 */  stfs     f1, 48(r4);
/* 801555DC 4BF23565 */  bl       UNDEF_80078b40;
/* 801555E0 3C9F0009 */  addis    r4, r31, 9;
/* 801555E4 7FE3FB78 */  mr       r3, r31;
/* 801555E8 D0240034 */  stfs     f1, 52(r4);
/* 801555EC 4BF233B5 */  bl       UNDEF_800789a0;
/* 801555F0 FE200890 */  fmr      f17, f1;
/* 801555F4 7FE3FB78 */  mr       r3, r31;
/* 801555F8 4BF23549 */  bl       UNDEF_80078b40;
/* 801555FC EC018828 */  fsubs    f0, f1, f17;
/* 80155600 3C7F0009 */  addis    r3, r31, 9;
/* 80155604 D003FEA0 */  stfs     f0, -352(r3);
/* 80155608 48000124 */  b        UNDEF_8015572c;
UNDEF_8015560c:;
/* 8015560C 2C000002 */  cmpwi    r0, 2;
/* 80155610 40820060 */  bne-     UNDEF_80155670;
/* 80155614 38000002 */  li       r0, 2;
/* 80155618 900DAB68 */  stw      r0, UNDEF_8042a4e8@sda21;
/* 8015561C C022AACC */  lfs      f1, UNDEF_8042de2c@sda21;
/* 80155620 7FE3FB78 */  mr       r3, r31;
/* 80155624 C002AAD0 */  lfs      f0, UNDEF_8042de30@sda21;
/* 80155628 D024FE64 */  stfs     f1, -412(r4);
/* 8015562C D004FE68 */  stfs     f0, -408(r4);
/* 80155630 4BF23371 */  bl       UNDEF_800789a0;
/* 80155634 3C9F0009 */  addis    r4, r31, 9;
/* 80155638 7FE3FB78 */  mr       r3, r31;
/* 8015563C D0240030 */  stfs     f1, 48(r4);
/* 80155640 4BF23501 */  bl       UNDEF_80078b40;
/* 80155644 3C9F0009 */  addis    r4, r31, 9;
/* 80155648 7FE3FB78 */  mr       r3, r31;
/* 8015564C D0240034 */  stfs     f1, 52(r4);
/* 80155650 4BF23351 */  bl       UNDEF_800789a0;
/* 80155654 FE200890 */  fmr      f17, f1;
/* 80155658 7FE3FB78 */  mr       r3, r31;
/* 8015565C 4BF234E5 */  bl       UNDEF_80078b40;
/* 80155660 EC018828 */  fsubs    f0, f1, f17;
/* 80155664 3C7F0009 */  addis    r3, r31, 9;
/* 80155668 D003FEA0 */  stfs     f0, -352(r3);
/* 8015566C 480000C0 */  b        UNDEF_8015572c;
UNDEF_80155670:;
/* 80155670 2C000003 */  cmpwi    r0, 3;
/* 80155674 40820060 */  bne-     UNDEF_801556d4;
/* 80155678 38000002 */  li       r0, 2;
/* 8015567C 900DAB68 */  stw      r0, UNDEF_8042a4e8@sda21;
/* 80155680 C022AAD4 */  lfs      f1, UNDEF_8042de34@sda21;
/* 80155684 7FE3FB78 */  mr       r3, r31;
/* 80155688 C002AAD8 */  lfs      f0, UNDEF_8042de38@sda21;
/* 8015568C D024FE64 */  stfs     f1, -412(r4);
/* 80155690 D004FE68 */  stfs     f0, -408(r4);
/* 80155694 4BF2330D */  bl       UNDEF_800789a0;
/* 80155698 3C9F0009 */  addis    r4, r31, 9;
/* 8015569C 7FE3FB78 */  mr       r3, r31;
/* 801556A0 D0240030 */  stfs     f1, 48(r4);
/* 801556A4 4BF2349D */  bl       UNDEF_80078b40;
/* 801556A8 3C9F0009 */  addis    r4, r31, 9;
/* 801556AC 7FE3FB78 */  mr       r3, r31;
/* 801556B0 D0240034 */  stfs     f1, 52(r4);
/* 801556B4 4BF232ED */  bl       UNDEF_800789a0;
/* 801556B8 FE200890 */  fmr      f17, f1;
/* 801556BC 7FE3FB78 */  mr       r3, r31;
/* 801556C0 4BF23481 */  bl       UNDEF_80078b40;
/* 801556C4 EC018828 */  fsubs    f0, f1, f17;
/* 801556C8 3C7F0009 */  addis    r3, r31, 9;
/* 801556CC D003FEA0 */  stfs     f0, -352(r3);
/* 801556D0 4800005C */  b        UNDEF_8015572c;
UNDEF_801556d4:;
/* 801556D4 38000002 */  li       r0, 2;
/* 801556D8 900DAB68 */  stw      r0, UNDEF_8042a4e8@sda21;
/* 801556DC C022AADC */  lfs      f1, UNDEF_8042de3c@sda21;
/* 801556E0 7FE3FB78 */  mr       r3, r31;
/* 801556E4 C002AAE0 */  lfs      f0, UNDEF_8042de40@sda21;
/* 801556E8 D024FE64 */  stfs     f1, -412(r4);
/* 801556EC D004FE68 */  stfs     f0, -408(r4);
/* 801556F0 4BF232B1 */  bl       UNDEF_800789a0;
/* 801556F4 3C9F0009 */  addis    r4, r31, 9;
/* 801556F8 7FE3FB78 */  mr       r3, r31;
/* 801556FC D0240030 */  stfs     f1, 48(r4);
/* 80155700 4BF23441 */  bl       UNDEF_80078b40;
/* 80155704 3C9F0009 */  addis    r4, r31, 9;
/* 80155708 7FE3FB78 */  mr       r3, r31;
/* 8015570C D0240034 */  stfs     f1, 52(r4);
/* 80155710 4BF23291 */  bl       UNDEF_800789a0;
/* 80155714 FE200890 */  fmr      f17, f1;
/* 80155718 7FE3FB78 */  mr       r3, r31;
/* 8015571C 4BF23425 */  bl       UNDEF_80078b40;
/* 80155720 EC018828 */  fsubs    f0, f1, f17;
/* 80155724 3C7F0009 */  addis    r3, r31, 9;
/* 80155728 D003FEA0 */  stfs     f0, -352(r3);
UNDEF_8015572c:;
/* 8015572C 2C1D0000 */  cmpwi    r29, 0;
/* 80155730 41820290 */  beq-     UNDEF_801559c0;
/* 80155734 3C7F0009 */  addis    r3, r31, 9;
/* 80155738 C002AA70 */  lfs      f0, UNDEF_8042ddd0@sda21;
/* 8015573C C0230098 */  lfs      f1, 152(r3);
/* 80155740 8AFD0349 */  lbz      r23, 841(r29);
/* 80155744 FC010040 */  fcmpo    cr0, f1, f0;
/* 80155748 40800140 */  bge-     UNDEF_80155888;
/* 8015574C 7F23CB78 */  mr       r3, r25;
/* 80155750 7EE4BB78 */  mr       r4, r23;
/* 80155754 4BF38DDD */  bl       UNDEF_8008e530;
/* 80155758 3CBF0009 */  addis    r5, r31, 9;
/* 8015575C 7EE4BB78 */  mr       r4, r23;
/* 80155760 986500FE */  stb      r3, 254(r5);
/* 80155764 7F23CB78 */  mr       r3, r25;
/* 80155768 4BF38DF9 */  bl       UNDEF_8008e560;
/* 8015576C 3CBF0009 */  addis    r5, r31, 9;
/* 80155770 7EE4BB78 */  mr       r4, r23;
/* 80155774 986500FF */  stb      r3, 255(r5);
/* 80155778 7F23CB78 */  mr       r3, r25;
/* 8015577C 4BF38E15 */  bl       UNDEF_8008e590;
/* 80155780 3C9F0009 */  addis    r4, r31, 9;
/* 80155784 98640100 */  stb      r3, 256(r4);
/* 80155788 806DA730 */  lwz      r3, UNDEF_8042a0b0@sda21;
/* 8015578C 4BF23725 */  bl       UNDEF_80078eb0;
/* 80155790 3C9F0009 */  addis    r4, r31, 9;
/* 80155794 7EE3BB78 */  mr       r3, r23;
/* 80155798 D0240098 */  stfs     f1, 152(r4);
/* 8015579C 4BF22FE5 */  bl       UNDEF_80078780;
/* 801557A0 2803000F */  cmplwi   r3, 15;
/* 801557A4 41820038 */  beq-     UNDEF_801557dc;
/* 801557A8 7EE3BB78 */  mr       r3, r23;
/* 801557AC 4BF22FD5 */  bl       UNDEF_80078780;
/* 801557B0 3C004330 */  lis      r0, 17200;
/* 801557B4 90610094 */  stw      r3, 148(r1);
/* 801557B8 C842AB20 */  lfd      f2, UNDEF_8042de80@sda21;
/* 801557BC 3C7F0009 */  addis    r3, r31, 9;
/* 801557C0 90010090 */  stw      r0, 144(r1);
/* 801557C4 C002AAE4 */  lfs      f0, UNDEF_8042de44@sda21;
/* 801557C8 C8210090 */  lfd      f1, 144(r1);
/* 801557CC EC211028 */  fsubs    f1, f1, f2;
/* 801557D0 EC000072 */  fmuls    f0, f0, f1;
/* 801557D4 D003001C */  stfs     f0, 28(r3);
/* 801557D8 48000010 */  b        UNDEF_801557e8;
UNDEF_801557dc:;
/* 801557DC 3C7F0009 */  addis    r3, r31, 9;
/* 801557E0 C002AAE8 */  lfs      f0, UNDEF_8042de48@sda21;
/* 801557E4 D003001C */  stfs     f0, 28(r3);
UNDEF_801557e8:;
/* 801557E8 3C7F0009 */  addis    r3, r31, 9;
/* 801557EC 880300FE */  lbz      r0, 254(r3);
/* 801557F0 28000005 */  cmplwi   r0, 5;
/* 801557F4 40820094 */  bne-     UNDEF_80155888;
/* 801557F8 38000001 */  li       r0, 1;
/* 801557FC 98030021 */  stb      r0, 33(r3);
/* 80155800 3A800000 */  li       r20, 0;
/* 80155804 48000074 */  b        UNDEF_80155878;
UNDEF_80155808:;
/* 80155808 7EE3BB78 */  mr       r3, r23;
/* 8015580C 5684063E */  clrlwi   r4, r20, 24;
/* 80155810 4BF23021 */  bl       UNDEF_80078830;
/* 80155814 88A30012 */  lbz      r5, 18(r3);
/* 80155818 7C7D1B78 */  mr       r29, r3;
/* 8015581C 38800001 */  li       r4, 1;
/* 80155820 38600000 */  li       r3, 0;
/* 80155824 38A5FFFF */  subi     r5, r5, 1;
/* 80155828 48187CB5 */  bl       UNDEF_802dd4dc;
/* 8015582C 80ADA9D8 */  lwz      r5, UNDEF_8042a358@sda21;
/* 80155830 80050000 */  lwz      r0, 0(r5);
/* 80155834 80A50004 */  lwz      r5, 4(r5);
/* 80155838 7C600038 */  and      r0, r3, r0;
/* 8015583C 7C832838 */  and      r3, r4, r5;
/* 80155840 7C600379 */  or.      r0, r3, r0;
/* 80155844 41820030 */  beq-     UNDEF_80155874;
/* 80155848 3C7F0009 */  addis    r3, r31, 9;
/* 8015584C 9A830020 */  stb      r20, 32(r3);
/* 80155850 881D000C */  lbz      r0, 12(r29);
/* 80155854 98030101 */  stb      r0, 257(r3);
/* 80155858 881D000D */  lbz      r0, 13(r29);
/* 8015585C 980300FE */  stb      r0, 254(r3);
/* 80155860 881D000E */  lbz      r0, 14(r29);
/* 80155864 980300FF */  stb      r0, 255(r3);
/* 80155868 881D000F */  lbz      r0, 15(r29);
/* 8015586C 98030100 */  stb      r0, 256(r3);
/* 80155870 48000018 */  b        UNDEF_80155888;
UNDEF_80155874:;
/* 80155874 3A940001 */  addi     r20, r20, 1;
UNDEF_80155878:;
/* 80155878 7EE3BB78 */  mr       r3, r23;
/* 8015587C 4BF22F85 */  bl       UNDEF_80078800;
/* 80155880 7C141840 */  cmplw    r20, r3;
/* 80155884 4180FF84 */  blt+     UNDEF_80155808;
UNDEF_80155888:;
/* 80155888 7F23CB78 */  mr       r3, r25;
/* 8015588C 7EE4BB78 */  mr       r4, r23;
/* 80155890 4BF38C41 */  bl       UNDEF_8008e4d0;
/* 80155894 7C601B78 */  mr       r0, r3;
/* 80155898 7F23CB78 */  mr       r3, r25;
/* 8015589C 5404063E */  clrlwi   r4, r0, 24;
/* 801558A0 4BF38C61 */  bl       UNDEF_8008e500;
/* 801558A4 3C9F0009 */  addis    r4, r31, 9;
/* 801558A8 98640101 */  stb      r3, 257(r4);
/* 801558AC 7EE3BB78 */  mr       r3, r23;
/* 801558B0 4BF22F51 */  bl       UNDEF_80078800;
/* 801558B4 3C7F0009 */  addis    r3, r31, 9;
/* 801558B8 88030021 */  lbz      r0, 33(r3);
/* 801558BC 2C000000 */  cmpwi    r0, 0;
/* 801558C0 41820100 */  beq-     UNDEF_801559c0;
/* 801558C4 88830020 */  lbz      r4, 32(r3);
/* 801558C8 7EE3BB78 */  mr       r3, r23;
/* 801558CC 4BF22F65 */  bl       UNDEF_80078830;
/* 801558D0 2C030000 */  cmpwi    r3, 0;
/* 801558D4 7C7D1B78 */  mr       r29, r3;
/* 801558D8 418200E8 */  beq-     UNDEF_801559c0;
/* 801558DC 3E9F0009 */  addis    r20, r31, 9;
/* 801558E0 3AC00000 */  li       r22, 0;
/* 801558E4 480000CC */  b        UNDEF_801559b0;
UNDEF_801558e8:;
/* 801558E8 88140020 */  lbz      r0, 32(r20);
/* 801558EC 7C160000 */  cmpw     r22, r0;
/* 801558F0 418200BC */  beq-     UNDEF_801559ac;
/* 801558F4 7EE3BB78 */  mr       r3, r23;
/* 801558F8 56C4063E */  clrlwi   r4, r22, 24;
/* 801558FC 4BF22F35 */  bl       UNDEF_80078830;
/* 80155900 2C030000 */  cmpwi    r3, 0;
/* 80155904 7C7E1B78 */  mr       r30, r3;
/* 80155908 418200A4 */  beq-     UNDEF_801559ac;
/* 8015590C 88A30012 */  lbz      r5, 18(r3);
/* 80155910 38800001 */  li       r4, 1;
/* 80155914 38600000 */  li       r3, 0;
/* 80155918 38A5FFFF */  subi     r5, r5, 1;
/* 8015591C 48187BC1 */  bl       UNDEF_802dd4dc;
/* 80155920 830DA9D8 */  lwz      r24, UNDEF_8042a358@sda21;
/* 80155924 80D80000 */  lwz      r6, 0(r24);
/* 80155928 80F80004 */  lwz      r7, 4(r24);
/* 8015592C 7C603038 */  and      r0, r3, r6;
/* 80155930 7C853838 */  and      r5, r4, r7;
/* 80155934 7CA00379 */  or.      r0, r5, r0;
/* 80155938 41820074 */  beq-     UNDEF_801559ac;
/* 8015593C 7CE02378 */  or       r0, r7, r4;
/* 80155940 90180004 */  stw      r0, 4(r24);
/* 80155944 7CC01B78 */  or       r0, r6, r3;
/* 80155948 38800001 */  li       r4, 1;
/* 8015594C 90180000 */  stw      r0, 0(r24);
/* 80155950 38600000 */  li       r3, 0;
/* 80155954 88BD0012 */  lbz      r5, 18(r29);
/* 80155958 38A5FFFF */  subi     r5, r5, 1;
/* 8015595C 48187B81 */  bl       UNDEF_802dd4dc;
/* 80155960 80180000 */  lwz      r0, 0(r24);
/* 80155964 7C6318F8 */  not      r3, r3;
/* 80155968 80B80004 */  lwz      r5, 4(r24);
/* 8015596C 7C8420F8 */  not      r4, r4;
/* 80155970 7C001838 */  and      r0, r0, r3;
/* 80155974 3C7F0009 */  addis    r3, r31, 9;
/* 80155978 7CA42038 */  and      r4, r5, r4;
/* 8015597C 90980004 */  stw      r4, 4(r24);
/* 80155980 90180000 */  stw      r0, 0(r24);
/* 80155984 9AC30020 */  stb      r22, 32(r3);
/* 80155988 881E000C */  lbz      r0, 12(r30);
/* 8015598C 98030101 */  stb      r0, 257(r3);
/* 80155990 881E000D */  lbz      r0, 13(r30);
/* 80155994 980300FE */  stb      r0, 254(r3);
/* 80155998 881E000E */  lbz      r0, 14(r30);
/* 8015599C 980300FF */  stb      r0, 255(r3);
/* 801559A0 881E000F */  lbz      r0, 15(r30);
/* 801559A4 98030100 */  stb      r0, 256(r3);
/* 801559A8 48000018 */  b        UNDEF_801559c0;
UNDEF_801559ac:;
/* 801559AC 3AD60001 */  addi     r22, r22, 1;
UNDEF_801559b0:;
/* 801559B0 7EE3BB78 */  mr       r3, r23;
/* 801559B4 4BF22E4D */  bl       UNDEF_80078800;
/* 801559B8 7C161840 */  cmplw    r22, r3;
/* 801559BC 4180FF2C */  blt+     UNDEF_801558e8;
UNDEF_801559c0:;
/* 801559C0 3C7F0009 */  addis    r3, r31, 9;
/* 801559C4 C002AA70 */  lfs      f0, UNDEF_8042ddd0@sda21;
/* 801559C8 C043FE9C */  lfs      f2, -356(r3);
/* 801559CC C023000C */  lfs      f1, 12(r3);
/* 801559D0 FC020040 */  fcmpo    cr0, f2, f0;
/* 801559D4 D0230014 */  stfs     f1, 20(r3);
/* 801559D8 4C401382 */  cror     2, 0, 2;
/* 801559DC 41820014 */  beq-     UNDEF_801559f0;
/* 801559E0 C002AA7C */  lfs      f0, UNDEF_8042dddc@sda21;
/* 801559E4 FC020040 */  fcmpo    cr0, f2, f0;
/* 801559E8 4C411382 */  cror     2, 1, 2;
/* 801559EC 40820078 */  bne-     UNDEF_80155a64;
UNDEF_801559f0:;
/* 801559F0 4BF0A5C1 */  bl       UNDEF_8005ffb0;
/* 801559F4 3803FFFF */  subi     r0, r3, 1;
/* 801559F8 7C000034 */  cntlzw   r0, r0;
/* 801559FC 5400D97F */  srwi.    r0, r0, 5;
/* 80155A00 40820014 */  bne-     UNDEF_80155a14;
/* 80155A04 3C7F0009 */  addis    r3, r31, 9;
/* 80155A08 880300C6 */  lbz      r0, 198(r3);
/* 80155A0C 2C000000 */  cmpwi    r0, 0;
/* 80155A10 4182004C */  beq-     UNDEF_80155a5c;
UNDEF_80155a14:;
/* 80155A14 4BF0A25D */  bl       getActScrollInfo__9daPyMng_cFv;
                         bl       dBgGm_countr_one__FUl;
                         addis    r4, r31, 0x9;
                         stb      r3, 0x90025@l(r4);
                         li       r0, 0;
                         stb      r0, 0x90024@l(r4);
/* 80155A58 4800000C */  b        UNDEF_80155a64;
UNDEF_80155a5c:;
/* 80155A5C 38000001 */  li       r0, 1;
/* 80155A60 98030024 */  stb      r0, 36(r3);
UNDEF_80155a64:;
/* 80155A64 806DA920 */  lwz      r3, UNDEF_8042a2a0@sda21;
/* 80155A68 88030018 */  lbz      r0, 24(r3);
/* 80155A6C 2C000000 */  cmpwi    r0, 0;
/* 80155A70 40820100 */  bne-     UNDEF_80155b70;
/* 80155A74 3C9F0009 */  addis    r4, r31, 9;
/* 80155A78 88040024 */  lbz      r0, 36(r4);
/* 80155A7C 2C000000 */  cmpwi    r0, 0;
/* 80155A80 408200A8 */  bne-     UNDEF_80155b28;
/* 80155A84 C002AA70 */  lfs      f0, UNDEF_8042ddd0@sda21;
/* 80155A88 7FE3FB78 */  mr       r3, r31;
/* 80155A8C D004FE9C */  stfs     f0, -356(r4);
/* 80155A90 4BF23C81 */  bl       UNDEF_80079710;
                         // Deleting because the result here is discarded
// /* 80155A94 4BF0A1DD */  bl       getActScrollInfo__9daPyMng_cFv;
/* 80155A98 3C7F0009 */  addis    r3, r31, 9;
/* 80155A9C 88630025 */  lbz      r3, 37(r3);
/* 80155AA0 4BF09E61 */  bl       UNDEF_8005f900;
/* 80155AA4 C003152C */  lfs      f0, 5420(r3);
/* 80155AA8 38810064 */  addi     r4, r1, 100;
/* 80155AAC D0010064 */  stfs     f0, 100(r1);
/* 80155AB0 38A00000 */  li       r5, 0;
/* 80155AB4 C0031530 */  lfs      f0, 5424(r3);
/* 80155AB8 D0010068 */  stfs     f0, 104(r1);
/* 80155ABC C0031534 */  lfs      f0, 5428(r3);
/* 80155AC0 7FE3FB78 */  mr       r3, r31;
/* 80155AC4 D001006C */  stfs     f0, 108(r1);
/* 80155AC8 4BF24BF9 */  bl       UNDEF_8007a6c0;
/* 80155ACC 3C7F0009 */  addis    r3, r31, 9;
/* 80155AD0 880300C6 */  lbz      r0, 198(r3);
/* 80155AD4 2C000000 */  cmpwi    r0, 0;
/* 80155AD8 41820018 */  beq-     UNDEF_80155af0;
/* 80155ADC 88030118 */  lbz      r0, 280(r3);
/* 80155AE0 2C000000 */  cmpwi    r0, 0;
/* 80155AE4 4082000C */  bne-     UNDEF_80155af0;
/* 80155AE8 7FE3FB78 */  mr       r3, r31;
/* 80155AEC 4BF24395 */  bl       UNDEF_80079e80;
UNDEF_80155af0:;
/* 80155AF0 3C7F0009 */  addis    r3, r31, 9;
/* 80155AF4 C002AA70 */  lfs      f0, UNDEF_8042ddd0@sda21;
/* 80155AF8 C023FE9C */  lfs      f1, -356(r3);
/* 80155AFC FC010040 */  fcmpo    cr0, f1, f0;
/* 80155B00 4C401382 */  cror     2, 0, 2;
/* 80155B04 41820014 */  beq-     UNDEF_80155b18;
/* 80155B08 C002AA7C */  lfs      f0, UNDEF_8042dddc@sda21;
/* 80155B0C FC010040 */  fcmpo    cr0, f1, f0;
/* 80155B10 4C411382 */  cror     2, 1, 2;
/* 80155B14 4082005C */  bne-     UNDEF_80155b70;
UNDEF_80155b18:;
/* 80155B18 3C7F0009 */  addis    r3, r31, 9;
/* 80155B1C C002AA70 */  lfs      f0, UNDEF_8042ddd0@sda21;
/* 80155B20 D0030BDC */  stfs     f0, 3036(r3);
/* 80155B24 4800004C */  b        UNDEF_80155b70;
UNDEF_80155b28:;
/* 80155B28 C002AA7C */  lfs      f0, UNDEF_8042dddc@sda21;
/* 80155B2C 7FE3FB78 */  mr       r3, r31;
/* 80155B30 D004FE9C */  stfs     f0, -356(r4);
/* 80155B34 38800000 */  li       r4, 0;
/* 80155B38 4BF25039 */  bl       UNDEF_8007ab70;
/* 80155B3C 3C7F0009 */  addis    r3, r31, 9;
/* 80155B40 C002AA70 */  lfs      f0, UNDEF_8042ddd0@sda21;
/* 80155B44 C023FE9C */  lfs      f1, -356(r3);
/* 80155B48 FC010040 */  fcmpo    cr0, f1, f0;
/* 80155B4C 4C401382 */  cror     2, 0, 2;
/* 80155B50 41820014 */  beq-     UNDEF_80155b64;
/* 80155B54 C002AA7C */  lfs      f0, UNDEF_8042dddc@sda21;
/* 80155B58 FC010040 */  fcmpo    cr0, f1, f0;
/* 80155B5C 4C411382 */  cror     2, 1, 2;
/* 80155B60 40820010 */  bne-     UNDEF_80155b70;
UNDEF_80155b64:;
/* 80155B64 3C7F0009 */  addis    r3, r31, 9;
/* 80155B68 C002AA7C */  lfs      f0, UNDEF_8042dddc@sda21;
/* 80155B6C D0030BDC */  stfs     f0, 3036(r3);
UNDEF_80155b70:;
/* 80155B70 806DA730 */  lwz      r3, UNDEF_8042a0b0@sda21;
/* 80155B74 3C630009 */  addis    r3, r3, 9;
/* 80155B78 880309CA */  lbz      r0, 2506(r3);
/* 80155B7C 2C000000 */  cmpwi    r0, 0;
/* 80155B80 4182000C */  beq-     UNDEF_80155b8c;
/* 80155B84 38600001 */  li       r3, 1;
/* 80155B88 48000D40 */  b        UNDEF_801568c8;
UNDEF_80155b8c:;
/* 80155B8C 3C7F0009 */  addis    r3, r31, 9;
/* 80155B90 C002AA70 */  lfs      f0, UNDEF_8042ddd0@sda21;
/* 80155B94 C0A3FE8C */  lfs      f5, -372(r3);
/* 80155B98 C023FE94 */  lfs      f1, -364(r3);
/* 80155B9C C3C3FE9C */  lfs      f30, -356(r3);
/* 80155BA0 EC212828 */  fsubs    f1, f1, f5;
/* 80155BA4 C083FE88 */  lfs      f4, -376(r3);
/* 80155BA8 C043FE90 */  lfs      f2, -368(r3);
/* 80155BAC FC1E0040 */  fcmpo    cr0, f30, f0;
/* 80155BB0 C0C3FE78 */  lfs      f6, -392(r3);
/* 80155BB4 EC622028 */  fsubs    f3, f2, f4;
/* 80155BB8 EC5E0072 */  fmuls    f2, f30, f1;
/* 80155BBC C003FE80 */  lfs      f0, -384(r3);
/* 80155BC0 C0E3FE7C */  lfs      f7, -388(r3);
/* 80155BC4 EC203028 */  fsubs    f1, f0, f6;
/* 80155BC8 C103FE84 */  lfs      f8, -380(r3);
/* 80155BCC EC7E00F2 */  fmuls    f3, f30, f3;
/* 80155BD0 EC083828 */  fsubs    f0, f8, f7;
/* 80155BD4 EC3E0072 */  fmuls    f1, f30, f1;
/* 80155BD8 EF85102A */  fadds    f28, f5, f2;
/* 80155BDC EC1E0032 */  fmuls    f0, f30, f0;
/* 80155BE0 EFA4182A */  fadds    f29, f4, f3;
/* 80155BE4 EF66082A */  fadds    f27, f6, f1;
/* 80155BE8 EF47002A */  fadds    f26, f7, f0;
/* 80155BEC 4C401382 */  cror     2, 0, 2;
/* 80155BF0 40820014 */  bne-     UNDEF_80155c04;
/* 80155BF4 D083FE90 */  stfs     f4, -368(r3);
/* 80155BF8 D0A3FE94 */  stfs     f5, -364(r3);
/* 80155BFC D0C3FE80 */  stfs     f6, -384(r3);
/* 80155C00 D0E3FE84 */  stfs     f7, -380(r3);
UNDEF_80155c04:;
/* 80155C04 56E0063E */  clrlwi   r0, r23, 24;
/* 80155C08 3C7F0009 */  addis    r3, r31, 9;
/* 80155C0C 1C000190 */  mulli    r0, r0, 400;
/* 80155C10 3AC00000 */  li       r22, 0;
/* 80155C14 3B000000 */  li       r24, 0;
/* 80155C18 7C630214 */  add      r3, r3, r0;
/* 80155C1C 3A839078 */  subi     r20, r3, 28552;
UNDEF_80155c20:;
/* 80155C20 5700063E */  clrlwi   r0, r24, 24;
/* 80155C24 7FE3FB78 */  mr       r3, r31;
/* 80155C28 1C000014 */  mulli    r0, r0, 20;
/* 80155C2C 7EB40214 */  add      r21, r20, r0;
/* 80155C30 7EA4AB78 */  mr       r4, r21;
/* 80155C34 4800113D */  bl       isManualZoomActive__7dBgGm_cFPv;
/* 80155C38 2C030001 */  cmpwi    r3, 1;
/* 80155C3C 4082001C */  bne-     UNDEF_80155c58;
/* 80155C40 88950011 */  lbz      r4, 17(r21);
/* 80155C44 3C7F0009 */  addis    r3, r31, 9;
/* 80155C48 3AC00001 */  li       r22, 1;
/* 80155C4C 38040001 */  addi     r0, r4, 1;
/* 80155C50 98030114 */  stb      r0, 276(r3);
/* 80155C54 48000010 */  b        UNDEF_80155c64;
UNDEF_80155c58:;
/* 80155C58 3B180001 */  addi     r24, r24, 1;
/* 80155C5C 2C180014 */  cmpwi    r24, 20;
/* 80155C60 4180FFC0 */  blt+     UNDEF_80155c20;
UNDEF_80155c64:;
/* 80155C64 7FE3FB78 */  mr       r3, r31;
/* 80155C68 48001249 */  bl       UNDEF_80156eb0;
/* 80155C6C 2C030001 */  cmpwi    r3, 1;
/* 80155C70 40820014 */  bne-     UNDEF_80155c84;
/* 80155C74 3C7F0009 */  addis    r3, r31, 9;
/* 80155C78 38000004 */  li       r0, 4;
/* 80155C7C 98030114 */  stb      r0, 276(r3);
/* 80155C80 3AC00001 */  li       r22, 1;
UNDEF_80155c84:;
/* 80155C84 88BA120E */  lbz      r5, 4622(r26);
/* 80155C88 2C050000 */  cmpwi    r5, 0;
/* 80155C8C 40820134 */  bne-     UNDEF_80155dc0;
/* 80155C90 800DAB68 */  lwz      r0, UNDEF_8042a4e8@sda21;
/* 80155C94 2C000001 */  cmpwi    r0, 1;
/* 80155C98 41820128 */  beq-     UNDEF_80155dc0;
/* 80155C9C 8079000C */  lwz      r3, 12(r25);
/* 80155CA0 889A1211 */  lbz      r4, 4625(r26);
/* 80155CA4 88030010 */  lbz      r0, 16(r3);
/* 80155CA8 7C040040 */  cmplw    r4, r0;
/* 80155CAC 40820114 */  bne-     UNDEF_80155dc0;
/* 80155CB0 3C7F0009 */  addis    r3, r31, 9;
/* 80155CB4 88C30114 */  lbz      r6, 276(r3);
/* 80155CB8 380600F6 */  addi     r0, r6, 246;
/* 80155CBC 5400063E */  clrlwi   r0, r0, 24;
/* 80155CC0 28000005 */  cmplwi   r0, 5;
/* 80155CC4 408100FC */  ble-     UNDEF_80155dc0;
/* 80155CC8 380600EF */  addi     r0, r6, 239;
/* 80155CCC 5400063E */  clrlwi   r0, r0, 24;
/* 80155CD0 28000006 */  cmplwi   r0, 6;
/* 80155CD4 408100EC */  ble-     UNDEF_80155dc0;
/* 80155CD8 889A120C */  lbz      r4, 4620(r26);
/* 80155CDC 3C608031 */  lis      r3, UNDEF_80315e90@ha;
/* 80155CE0 38635E90 */  addi     r3, r3, UNDEF_80315e90@l;
/* 80155CE4 28040002 */  cmplwi   r4, 2;
/* 80155CE8 8863000D */  lbz      r3, 13(r3);
/* 80155CEC 40820010 */  bne-     UNDEF_80155cfc;
/* 80155CF0 881A120D */  lbz      r0, 4621(r26);
/* 80155CF4 28000004 */  cmplwi   r0, 4;
/* 80155CF8 418200C8 */  beq-     UNDEF_80155dc0;
UNDEF_80155cfc:;
/* 80155CFC 2C040000 */  cmpwi    r4, 0;
/* 80155D00 40820010 */  bne-     UNDEF_80155d10;
/* 80155D04 881A120D */  lbz      r0, 4621(r26);
/* 80155D08 28000029 */  cmplwi   r0, 41;
/* 80155D0C 418200B4 */  beq-     UNDEF_80155dc0;
UNDEF_80155d10:;
/* 80155D10 28040007 */  cmplwi   r4, 7;
/* 80155D14 40820018 */  bne-     UNDEF_80155d2c;
/* 80155D18 881A120D */  lbz      r0, 4621(r26);
/* 80155D1C 28000017 */  cmplwi   r0, 23;
/* 80155D20 4082000C */  bne-     UNDEF_80155d2c;
/* 80155D24 28050003 */  cmplwi   r5, 3;
/* 80155D28 41820098 */  beq-     UNDEF_80155dc0;
UNDEF_80155d2c:;
/* 80155D2C 380300E0 */  addi     r0, r3, 224;
/* 80155D30 5400063E */  clrlwi   r0, r0, 24;
/* 80155D34 28000002 */  cmplwi   r0, 2;
/* 80155D38 40810088 */  ble-     UNDEF_80155dc0;
/* 80155D3C 800DAB60 */  lwz      r0, UNDEF_8042a4e0@sda21;
/* 80155D40 2800005A */  cmplwi   r0, 90;
/* 80155D44 4080007C */  bge-     UNDEF_80155dc0;
/* 80155D48 3C7F0009 */  addis    r3, r31, 9;
/* 80155D4C 808DA8DC */  lwz      r4, UNDEF_8042a25c@sda21;
/* 80155D50 880300C6 */  lbz      r0, 198(r3);
/* 80155D54 2C000000 */  cmpwi    r0, 0;
/* 80155D58 41820010 */  beq-     UNDEF_80155d68;
/* 80155D5C 38000000 */  li       r0, 0;
/* 80155D60 98030114 */  stb      r0, 276(r3);
/* 80155D64 4800005C */  b        UNDEF_80155dc0;
UNDEF_80155d68:;
/* 80155D68 880DAB7C */  lbz      r0, UNDEF_8042a4fc@sda21;
/* 80155D6C 2C000000 */  cmpwi    r0, 0;
/* 80155D70 41820028 */  beq-     UNDEF_80155d98;
/* 80155D74 80040AF4 */  lwz      r0, 2804(r4);
/* 80155D78 2C000000 */  cmpwi    r0, 0;
/* 80155D7C 4080001C */  bge-     UNDEF_80155d98;
/* 80155D80 C002AA7C */  lfs      f0, UNDEF_8042dddc@sda21;
/* 80155D84 38000008 */  li       r0, 8;
/* 80155D88 98030114 */  stb      r0, 276(r3);
/* 80155D8C 3AC00001 */  li       r22, 1;
/* 80155D90 D0030110 */  stfs     f0, 272(r3);
/* 80155D94 4800002C */  b        UNDEF_80155dc0;
UNDEF_80155d98:;
/* 80155D98 28060008 */  cmplwi   r6, 8;
/* 80155D9C 40820024 */  bne-     UNDEF_80155dc0;
/* 80155DA0 3C7F0009 */  addis    r3, r31, 9;
/* 80155DA4 C002AA70 */  lfs      f0, UNDEF_8042ddd0@sda21;
/* 80155DA8 C0230110 */  lfs      f1, 272(r3);
/* 80155DAC FC010040 */  fcmpo    cr0, f1, f0;
/* 80155DB0 4C401382 */  cror     2, 0, 2;
/* 80155DB4 4082000C */  bne-     UNDEF_80155dc0;
/* 80155DB8 38000000 */  li       r0, 0;
/* 80155DBC 98030114 */  stb      r0, 276(r3);
UNDEF_80155dc0:;
/* 80155DC0 3C9F0009 */  addis    r4, r31, 9;
/* 80155DC4 806DA5F4 */  lwz      r3, UNDEF_80429f74@sda21;
/* 80155DC8 C0040110 */  lfs      f0, 272(r4);
/* 80155DCC D0010030 */  stfs     f0, 48(r1);
/* 80155DD0 C3E2AAF0 */  lfs      f31, UNDEF_8042de50@sda21;
/* 80155DD4 8B040118 */  lbz      r24, 280(r4);
/* 80155DD8 C024003C */  lfs      f1, 60(r4);
/* 80155DDC C0030038 */  lfs      f0, 56(r3);
/* 80155DE0 2C180000 */  cmpwi    r24, 0;
/* 80155DE4 C0A30034 */  lfs      f5, 52(r3);
/* 80155DE8 EF3A082A */  fadds    f25, f26, f1;
/* 80155DEC C0230030 */  lfs      f1, 48(r3);
/* 80155DF0 D0210058 */  stfs     f1, 88(r1);
/* 80155DF4 D0A1005C */  stfs     f5, 92(r1);
/* 80155DF8 D0010060 */  stfs     f0, 96(r1);
/* 80155DFC 41820028 */  beq-     UNDEF_80155e24;
/* 80155E00 2C180001 */  cmpwi    r24, 1;
/* 80155E04 41820060 */  beq-     UNDEF_80155e64;
/* 80155E08 2C180002 */  cmpwi    r24, 2;
/* 80155E0C 418200E8 */  beq-     UNDEF_80155ef4;
/* 80155E10 2C180003 */  cmpwi    r24, 3;
/* 80155E14 418201B0 */  beq-     UNDEF_80155fc4;
/* 80155E18 2C180004 */  cmpwi    r24, 4;
/* 80155E1C 41820280 */  beq-     UNDEF_8015609c;
/* 80155E20 48000300 */  b        UNDEF_80156120;
UNDEF_80155e24:;
/* 80155E24 80030010 */  lwz      r0, 16(r3);
/* 80155E28 540007FF */  clrlwi.  r0, r0, 31;
/* 80155E2C 418202F4 */  beq-     UNDEF_80156120;
/* 80155E30 C022AA80 */  lfs      f1, UNDEF_8042dde0@sda21;
/* 80155E34 EC1CD028 */  fsubs    f0, f28, f26;
/* 80155E38 38600001 */  li       r3, 1;
/* 80155E3C 38000006 */  li       r0, 6;
/* 80155E40 EC2106F2 */  fmuls    f1, f1, f27;
/* 80155E44 D0040120 */  stfs     f0, 288(r4);
/* 80155E48 3B180001 */  addi     r24, r24, 1;
/* 80155E4C 98640117 */  stb      r3, 279(r4);
/* 80155E50 3AC00001 */  li       r22, 1;
/* 80155E54 EC1D082A */  fadds    f0, f29, f1;
/* 80155E58 98040114 */  stb      r0, 276(r4);
/* 80155E5C D004011C */  stfs     f0, 284(r4);
/* 80155E60 480002C0 */  b        UNDEF_80156120;
UNDEF_80155e64:;
/* 80155E64 C002AA80 */  lfs      f0, UNDEF_8042dde0@sda21;
/* 80155E68 C044011C */  lfs      f2, 284(r4);
/* 80155E6C EC0006F2 */  fmuls    f0, f0, f27;
/* 80155E70 D041002C */  stfs     f2, 44(r1);
/* 80155E74 C0440120 */  lfs      f2, 288(r4);
/* 80155E78 EC1D002A */  fadds    f0, f29, f0;
/* 80155E7C D0410028 */  stfs     f2, 40(r1);
/* 80155E80 FC010040 */  fcmpo    cr0, f1, f0;
/* 80155E84 40810018 */  ble-     UNDEF_80155e9c;
/* 80155E88 C042AAF4 */  lfs      f2, UNDEF_8042de54@sda21;
/* 80155E8C 3861002C */  addi     r3, r1, 44;
/* 80155E90 C062AAF8 */  lfs      f3, UNDEF_8042de58@sda21;
/* 80155E94 C082AA7C */  lfs      f4, UNDEF_8042dddc@sda21;
/* 80155E98 480093E9 */  bl       UNDEF_8015f280;
UNDEF_80155e9c:;
/* 80155E9C EC39D028 */  fsubs    f1, f25, f26;
/* 80155EA0 C042AAF4 */  lfs      f2, UNDEF_8042de54@sda21;
/* 80155EA4 C062AA88 */  lfs      f3, UNDEF_8042dde8@sda21;
/* 80155EA8 38610028 */  addi     r3, r1, 40;
/* 80155EAC C082AA7C */  lfs      f4, UNDEF_8042dddc@sda21;
/* 80155EB0 480093D1 */  bl       UNDEF_8015f280;
/* 80155EB4 3C7F0009 */  addis    r3, r31, 9;
/* 80155EB8 C001002C */  lfs      f0, 44(r1);
/* 80155EBC D003011C */  stfs     f0, 284(r3);
/* 80155EC0 38000006 */  li       r0, 6;
/* 80155EC4 3AC00001 */  li       r22, 1;
/* 80155EC8 C0010028 */  lfs      f0, 40(r1);
/* 80155ECC D0030120 */  stfs     f0, 288(r3);
/* 80155ED0 98030114 */  stb      r0, 276(r3);
/* 80155ED4 806DA5F4 */  lwz      r3, UNDEF_80429f74@sda21;
/* 80155ED8 80030010 */  lwz      r0, 16(r3);
/* 80155EDC 540007BD */  rlwinm.  r0, r0, 0, 30, 30;
/* 80155EE0 41820240 */  beq-     UNDEF_80156120;
/* 80155EE4 38000028 */  li       r0, 40;
/* 80155EE8 900DAC78 */  stw      r0, UNDEF_8042a5f8@sda21;
/* 80155EEC 3B180001 */  addi     r24, r24, 1;
/* 80155EF0 48000230 */  b        UNDEF_80156120;
UNDEF_80155ef4:;
/* 80155EF4 FC1CC840 */  fcmpo    cr0, f28, f25;
/* 80155EF8 4C401382 */  cror     2, 0, 2;
/* 80155EFC 40820010 */  bne-     UNDEF_80155f0c;
/* 80155F00 38000006 */  li       r0, 6;
/* 80155F04 98040114 */  stb      r0, 276(r4);
/* 80155F08 3AC00001 */  li       r22, 1;
UNDEF_80155f0c:;
/* 80155F0C 3C7F0009 */  addis    r3, r31, 9;
/* 80155F10 800DAC78 */  lwz      r0, UNDEF_8042a5f8@sda21;
/* 80155F14 C003011C */  lfs      f0, 284(r3);
/* 80155F18 D001002C */  stfs     f0, 44(r1);
/* 80155F1C 2C00000F */  cmpwi    r0, 15;
/* 80155F20 C0030120 */  lfs      f0, 288(r3);
/* 80155F24 D0010028 */  stfs     f0, 40(r1);
/* 80155F28 41810030 */  bgt-     UNDEF_80155f58;
/* 80155F2C C002AA80 */  lfs      f0, UNDEF_8042dde0@sda21;
/* 80155F30 C0210058 */  lfs      f1, 88(r1);
/* 80155F34 EC0006F2 */  fmuls    f0, f0, f27;
/* 80155F38 EC1D002A */  fadds    f0, f29, f0;
/* 80155F3C FC010040 */  fcmpo    cr0, f1, f0;
/* 80155F40 40810018 */  ble-     UNDEF_80155f58;
/* 80155F44 C042AAF4 */  lfs      f2, UNDEF_8042de54@sda21;
/* 80155F48 3861002C */  addi     r3, r1, 44;
/* 80155F4C C062AAF8 */  lfs      f3, UNDEF_8042de58@sda21;
/* 80155F50 C082AA7C */  lfs      f4, UNDEF_8042dddc@sda21;
/* 80155F54 4800932D */  bl       UNDEF_8015f280;
UNDEF_80155f58:;
/* 80155F58 EC39D028 */  fsubs    f1, f25, f26;
/* 80155F5C C042AAF4 */  lfs      f2, UNDEF_8042de54@sda21;
/* 80155F60 C062AA88 */  lfs      f3, UNDEF_8042dde8@sda21;
/* 80155F64 38610028 */  addi     r3, r1, 40;
/* 80155F68 C082AA7C */  lfs      f4, UNDEF_8042dddc@sda21;
/* 80155F6C 48009315 */  bl       UNDEF_8015f280;
/* 80155F70 806DAC78 */  lwz      r3, UNDEF_8042a5f8@sda21;
/* 80155F74 2C030000 */  cmpwi    r3, 0;
/* 80155F78 4182000C */  beq-     UNDEF_80155f84;
/* 80155F7C 3803FFFF */  subi     r0, r3, 1;
/* 80155F80 900DAC78 */  stw      r0, UNDEF_8042a5f8@sda21;
UNDEF_80155f84:;
/* 80155F84 3C9F0009 */  addis    r4, r31, 9;
/* 80155F88 C001002C */  lfs      f0, 44(r1);
/* 80155F8C D004011C */  stfs     f0, 284(r4);
/* 80155F90 C0010028 */  lfs      f0, 40(r1);
/* 80155F94 D0040120 */  stfs     f0, 288(r4);
/* 80155F98 806DA5F4 */  lwz      r3, UNDEF_80429f74@sda21;
/* 80155F9C 80030010 */  lwz      r0, 16(r3);
/* 80155FA0 54000739 */  rlwinm.  r0, r0, 0, 28, 28;
/* 80155FA4 4182017C */  beq-     UNDEF_80156120;
/* 80155FA8 38000005 */  li       r0, 5;
/* 80155FAC 98040114 */  stb      r0, 276(r4);
/* 80155FB0 C002AA70 */  lfs      f0, UNDEF_8042ddd0@sda21;
/* 80155FB4 3B180001 */  addi     r24, r24, 1;
/* 80155FB8 D0010030 */  stfs     f0, 48(r1);
/* 80155FBC 3AC00002 */  li       r22, 2;
/* 80155FC0 48000160 */  b        UNDEF_80156120;
UNDEF_80155fc4:;
/* 80155FC4 C004011C */  lfs      f0, 284(r4);
/* 80155FC8 3861002C */  addi     r3, r1, 44;
/* 80155FCC D001002C */  stfs     f0, 44(r1);
/* 80155FD0 C042AAF4 */  lfs      f2, UNDEF_8042de54@sda21;
/* 80155FD4 C0040120 */  lfs      f0, 288(r4);
/* 80155FD8 D0010028 */  stfs     f0, 40(r1);
/* 80155FDC C062AAF8 */  lfs      f3, UNDEF_8042de58@sda21;
/* 80155FE0 C082AA7C */  lfs      f4, UNDEF_8042dddc@sda21;
/* 80155FE4 4800929D */  bl       UNDEF_8015f280;
/* 80155FE8 EC19D028 */  fsubs    f0, f25, f26;
/* 80155FEC C0A1005C */  lfs      f5, 92(r1);
/* 80155FF0 C082AA7C */  lfs      f4, UNDEF_8042dddc@sda21;
/* 80155FF4 C0410030 */  lfs      f2, 48(r1);
/* 80155FF8 EC202828 */  fsubs    f1, f0, f5;
/* 80155FFC C002AAFC */  lfs      f0, UNDEF_8042de5c@sda21;
/* 80156000 EC641028 */  fsubs    f3, f4, f2;
/* 80156004 FC010040 */  fcmpo    cr0, f1, f0;
/* 80156008 40800028 */  bge-     UNDEF_80156030;
/* 8015600C C002AAF8 */  lfs      f0, UNDEF_8042de58@sda21;
/* 80156010 38610028 */  addi     r3, r1, 40;
/* 80156014 C042AAF4 */  lfs      f2, UNDEF_8042de54@sda21;
/* 80156018 EC0000F2 */  fmuls    f0, f0, f3;
/* 8015601C C062AA88 */  lfs      f3, UNDEF_8042dde8@sda21;
/* 80156020 EC1F002A */  fadds    f0, f31, f0;
/* 80156024 EC25002A */  fadds    f1, f5, f0;
/* 80156028 48009259 */  bl       UNDEF_8015f280;
/* 8015602C 48000024 */  b        UNDEF_80156050;
UNDEF_80156030:;
/* 80156030 C002AB00 */  lfs      f0, UNDEF_8042de60@sda21;
/* 80156034 38610028 */  addi     r3, r1, 40;
/* 80156038 C042AAF4 */  lfs      f2, UNDEF_8042de54@sda21;
/* 8015603C EC0000F2 */  fmuls    f0, f0, f3;
/* 80156040 C062AA88 */  lfs      f3, UNDEF_8042dde8@sda21;
/* 80156044 EC1F002A */  fadds    f0, f31, f0;
/* 80156048 EC25002A */  fadds    f1, f5, f0;
/* 8015604C 48009235 */  bl       UNDEF_8015f280;
UNDEF_80156050:;
/* 80156050 3C9F0009 */  addis    r4, r31, 9;
/* 80156054 C001002C */  lfs      f0, 44(r1);
/* 80156058 D004011C */  stfs     f0, 284(r4);
/* 8015605C 38000005 */  li       r0, 5;
/* 80156060 3AC00001 */  li       r22, 1;
/* 80156064 C0010028 */  lfs      f0, 40(r1);
/* 80156068 D0040120 */  stfs     f0, 288(r4);
/* 8015606C 98040114 */  stb      r0, 276(r4);
/* 80156070 806DA5F4 */  lwz      r3, UNDEF_80429f74@sda21;
/* 80156074 80030010 */  lwz      r0, 16(r3);
/* 80156078 540006B5 */  rlwinm.  r0, r0, 0, 26, 26;
/* 8015607C 418200A4 */  beq-     UNDEF_80156120;
/* 80156080 38000007 */  li       r0, 7;
/* 80156084 98040114 */  stb      r0, 276(r4);
/* 80156088 C002AA70 */  lfs      f0, UNDEF_8042ddd0@sda21;
/* 8015608C 3B180001 */  addi     r24, r24, 1;
/* 80156090 D0010030 */  stfs     f0, 48(r1);
/* 80156094 3AC00002 */  li       r22, 2;
/* 80156098 48000088 */  b        UNDEF_80156120;
UNDEF_8015609c:;
/* 8015609C EC19D028 */  fsubs    f0, f25, f26;
/* 801560A0 38000007 */  li       r0, 7;
/* 801560A4 98040114 */  stb      r0, 276(r4);
/* 801560A8 3AC00001 */  li       r22, 1;
/* 801560AC C0440120 */  lfs      f2, 288(r4);
/* 801560B0 EC202828 */  fsubs    f1, f0, f5;
/* 801560B4 C002AAFC */  lfs      f0, UNDEF_8042de5c@sda21;
/* 801560B8 D0410028 */  stfs     f2, 40(r1);
/* 801560BC FC010040 */  fcmpo    cr0, f1, f0;
/* 801560C0 C0210030 */  lfs      f1, 48(r1);
/* 801560C4 4080002C */  bge-     UNDEF_801560f0;
/* 801560C8 C002AB04 */  lfs      f0, UNDEF_8042de64@sda21;
/* 801560CC 38610028 */  addi     r3, r1, 40;
/* 801560D0 C042AAF4 */  lfs      f2, UNDEF_8042de54@sda21;
/* 801560D4 EC000072 */  fmuls    f0, f0, f1;
/* 801560D8 C062AA88 */  lfs      f3, UNDEF_8042dde8@sda21;
/* 801560DC C082AA7C */  lfs      f4, UNDEF_8042dddc@sda21;
/* 801560E0 EC1F002A */  fadds    f0, f31, f0;
/* 801560E4 EC25002A */  fadds    f1, f5, f0;
/* 801560E8 48009199 */  bl       UNDEF_8015f280;
/* 801560EC 48000028 */  b        UNDEF_80156114;
UNDEF_801560f0:;
/* 801560F0 C002AB08 */  lfs      f0, UNDEF_8042de68@sda21;
/* 801560F4 38610028 */  addi     r3, r1, 40;
/* 801560F8 C042AAF4 */  lfs      f2, UNDEF_8042de54@sda21;
/* 801560FC EC000072 */  fmuls    f0, f0, f1;
/* 80156100 C062AA88 */  lfs      f3, UNDEF_8042dde8@sda21;
/* 80156104 C082AA7C */  lfs      f4, UNDEF_8042dddc@sda21;
/* 80156108 EC1F002A */  fadds    f0, f31, f0;
/* 8015610C EC25002A */  fadds    f1, f5, f0;
/* 80156110 48009171 */  bl       UNDEF_8015f280;
UNDEF_80156114:;
/* 80156114 3C7F0009 */  addis    r3, r31, 9;
/* 80156118 C0010028 */  lfs      f0, 40(r1);
/* 8015611C D0030120 */  stfs     f0, 288(r3);
UNDEF_80156120:;
/* 80156120 5700063E */  clrlwi   r0, r24, 24;
/* 80156124 28000002 */  cmplwi   r0, 2;
/* 80156128 40810010 */  ble-     UNDEF_80156138;
/* 8015612C 28000003 */  cmplwi   r0, 3;
/* 80156130 41820010 */  beq-     UNDEF_80156140;
/* 80156134 48000014 */  b        UNDEF_80156148;
UNDEF_80156138:;
/* 80156138 C062AB0C */  lfs      f3, UNDEF_8042de6c@sda21;
/* 8015613C 48000010 */  b        UNDEF_8015614c;
UNDEF_80156140:;
/* 80156140 C062AB10 */  lfs      f3, UNDEF_8042de70@sda21;
/* 80156144 48000008 */  b        UNDEF_8015614c;
UNDEF_80156148:;
/* 80156148 C062AB14 */  lfs      f3, UNDEF_8042de74@sda21;
UNDEF_8015614c:;
/* 8015614C 3C7F0009 */  addis    r3, r31, 9;
/* 80156150 88830114 */  lbz      r4, 276(r3);
/* 80156154 9B030118 */  stb      r24, 280(r3);
/* 80156158 380400F6 */  addi     r0, r4, 246;
/* 8015615C 5400063E */  clrlwi   r0, r0, 24;
/* 80156160 28000005 */  cmplwi   r0, 5;
/* 80156164 40810074 */  ble-     UNDEF_801561d8;
/* 80156168 380400EF */  addi     r0, r4, 239;
/* 8015616C 5400063E */  clrlwi   r0, r0, 24;
/* 80156170 28000006 */  cmplwi   r0, 6;
/* 80156174 40810064 */  ble-     UNDEF_801561d8;
/* 80156178 2C160001 */  cmpwi    r22, 1;
/* 8015617C 4082001C */  bne-     UNDEF_80156198;
/* 80156180 C022AA7C */  lfs      f1, UNDEF_8042dddc@sda21;
/* 80156184 38610030 */  addi     r3, r1, 48;
/* 80156188 C042AA80 */  lfs      f2, UNDEF_8042dde0@sda21;
/* 8015618C C082AAEC */  lfs      f4, UNDEF_8042de4c@sda21;
/* 80156190 480090F1 */  bl       UNDEF_8015f280;
/* 80156194 48000018 */  b        UNDEF_801561ac;
UNDEF_80156198:;
/* 80156198 C022AA70 */  lfs      f1, UNDEF_8042ddd0@sda21;
/* 8015619C 38610030 */  addi     r3, r1, 48;
/* 801561A0 C042AA80 */  lfs      f2, UNDEF_8042dde0@sda21;
/* 801561A4 C082AAEC */  lfs      f4, UNDEF_8042de4c@sda21;
/* 801561A8 480090D9 */  bl       UNDEF_8015f280;
UNDEF_801561ac:;
/* 801561AC 3C7F0009 */  addis    r3, r31, 9;
/* 801561B0 88030118 */  lbz      r0, 280(r3);
/* 801561B4 2C000000 */  cmpwi    r0, 0;
/* 801561B8 40820020 */  bne-     UNDEF_801561d8;
/* 801561BC C0210030 */  lfs      f1, 48(r1);
/* 801561C0 C002AA70 */  lfs      f0, UNDEF_8042ddd0@sda21;
/* 801561C4 FC010040 */  fcmpo    cr0, f1, f0;
/* 801561C8 4C401382 */  cror     2, 0, 2;
/* 801561CC 4082000C */  bne-     UNDEF_801561d8;
/* 801561D0 38000000 */  li       r0, 0;
/* 801561D4 98030114 */  stb      r0, 276(r3);
UNDEF_801561d8:;
/* 801561D8 56E0063E */  clrlwi   r0, r23, 24;
/* 801561DC 3C7F0009 */  addis    r3, r31, 9;
/* 801561E0 C3E2AA70 */  lfs      f31, UNDEF_8042ddd0@sda21;
/* 801561E4 FEA0E090 */  fmr      f21, f28;
/* 801561E8 C0010030 */  lfs      f0, 48(r1);
/* 801561EC 1F402200 */  mulli    r26, r0, 8704;
/* 801561F0 FE80E090 */  fmr      f20, f28;
/* 801561F4 C323FE6C */  lfs      f25, -404(r3);
/* 801561F8 FE60E890 */  fmr      f19, f29;
/* 801561FC FE40E890 */  fmr      f18, f29;
/* 80156200 C303FE70 */  lfs      f24, -400(r3);
/* 80156204 C2E3FE64 */  lfs      f23, -412(r3);
/* 80156208 C2C3FE68 */  lfs      f22, -408(r3);
/* 8015620C 3AC00000 */  li       r22, 0;
/* 80156210 D0030110 */  stfs     f0, 272(r3);
/* 80156214 C222AB18 */  lfs      f17, UNDEF_8042de78@sda21;
/* 80156218 3AE00000 */  li       r23, 0;
/* 8015621C D3E1004C */  stfs     f31, 76(r1);
/* 80156220 3B200000 */  li       r25, 0;
/* 80156224 3BC00000 */  li       r30, 0;
/* 80156228 3AA00000 */  li       r21, 0;
/* 8015622C D3E10050 */  stfs     f31, 80(r1);
/* 80156230 D3E10054 */  stfs     f31, 84(r1);
UNDEF_80156234:;
/* 80156234 56A0063E */  clrlwi   r0, r21, 24;
/* 80156238 3A800000 */  li       r20, 0;
/* 8015623C 1FA00440 */  mulli    r29, r0, 1088;
UNDEF_80156240:;
/* 80156240 806DA730 */  lwz      r3, UNDEF_8042a0b0@sda21;
/* 80156244 5680063E */  clrlwi   r0, r20, 24;
/* 80156248 1C800044 */  mulli    r4, r0, 68;
/* 8015624C 38031078 */  addi     r0, r3, 4216;
/* 80156250 7C00D214 */  add      r0, r0, r26;
/* 80156254 7C00EA14 */  add      r0, r0, r29;
/* 80156258 7C04042E */  lfsx     f0, r4, r0;
/* 8015625C 7F002214 */  add      r24, r0, r4;
/* 80156260 FC1F0000 */  fcmpu    cr0, f31, f0;
/* 80156264 418200CC */  beq-     UNDEF_80156330;
/* 80156268 7FE3FB78 */  mr       r3, r31;
/* 8015626C 7F04C378 */  mr       r4, r24;
/* 80156270 38A10014 */  addi     r5, r1, 20;
/* 80156274 38C10010 */  addi     r6, r1, 16;
/* 80156278 480007F9 */  bl       UNDEF_80156a70;
/* 8015627C 2C030001 */  cmpwi    r3, 1;
/* 80156280 408200B0 */  bne-     UNDEF_80156330;
/* 80156284 A0780040 */  lhz      r3, 64(r24);
/* 80156288 546006F7 */  rlwinm.  r0, r3, 0, 27, 27;
/* 8015628C 41820054 */  beq-     UNDEF_801562e0;
/* 80156290 2C160000 */  cmpwi    r22, 0;
/* 80156294 4082009C */  bne-     UNDEF_80156330;
/* 80156298 C0180010 */  lfs      f0, 16(r24);
/* 8015629C 546005EF */  rlwinm.  r0, r3, 0, 23, 23;
/* 801562A0 FC200050 */  fneg     f1, f0;
/* 801562A4 D0210050 */  stfs     f1, 80(r1);
/* 801562A8 40820014 */  bne-     UNDEF_801562bc;
/* 801562AC C0010014 */  lfs      f0, 20(r1);
/* 801562B0 FC000840 */  fcmpo    cr0, f0, f1;
/* 801562B4 4C401382 */  cror     2, 0, 2;
/* 801562B8 40820078 */  bne-     UNDEF_80156330;
UNDEF_801562bc:;
/* 801562BC C0210050 */  lfs      f1, 80(r1);
/* 801562C0 FC1C0840 */  fcmpo    cr0, f28, f1;
/* 801562C4 4C411382 */  cror     2, 1, 2;
/* 801562C8 40820068 */  bne-     UNDEF_80156330;
/* 801562CC C0180008 */  lfs      f0, 8(r24);
/* 801562D0 FEA00890 */  fmr      f21, f1;
/* 801562D4 3AC00001 */  li       r22, 1;
/* 801562D8 FF200050 */  fneg     f25, f0;
/* 801562DC 48000054 */  b        UNDEF_80156330;
UNDEF_801562e0:;
/* 801562E0 2C170000 */  cmpwi    r23, 0;
/* 801562E4 4082004C */  bne-     UNDEF_80156330;
/* 801562E8 C0180014 */  lfs      f0, 20(r24);
/* 801562EC 546005AD */  rlwinm.  r0, r3, 0, 22, 22;
/* 801562F0 FC200050 */  fneg     f1, f0;
/* 801562F4 EC01D02A */  fadds    f0, f1, f26;
/* 801562F8 D0010050 */  stfs     f0, 80(r1);
/* 801562FC 40820014 */  bne-     UNDEF_80156310;
/* 80156300 C0010010 */  lfs      f0, 16(r1);
/* 80156304 FC000840 */  fcmpo    cr0, f0, f1;
/* 80156308 4C411382 */  cror     2, 1, 2;
/* 8015630C 40820024 */  bne-     UNDEF_80156330;
UNDEF_80156310:;
/* 80156310 C0210050 */  lfs      f1, 80(r1);
/* 80156314 FC1C0840 */  fcmpo    cr0, f28, f1;
/* 80156318 4C401382 */  cror     2, 0, 2;
/* 8015631C 40820014 */  bne-     UNDEF_80156330;
/* 80156320 C018000C */  lfs      f0, 12(r24);
/* 80156324 FE800890 */  fmr      f20, f1;
/* 80156328 3AE00001 */  li       r23, 1;
/* 8015632C FF000050 */  fneg     f24, f0;
UNDEF_80156330:;
/* 80156330 C0180018 */  lfs      f0, 24(r24);
/* 80156334 FC1F0000 */  fcmpu    cr0, f31, f0;
/* 80156338 418200C0 */  beq-     UNDEF_801563f8;
/* 8015633C 7FE3FB78 */  mr       r3, r31;
/* 80156340 7F04C378 */  mr       r4, r24;
/* 80156344 38A1000C */  addi     r5, r1, 12;
/* 80156348 38C10008 */  addi     r6, r1, 8;
/* 8015634C 480008A5 */  bl       UNDEF_80156bf0;
/* 80156350 2C030001 */  cmpwi    r3, 1;
/* 80156354 408200A4 */  bne-     UNDEF_801563f8;
/* 80156358 A0780040 */  lhz      r3, 64(r24);
/* 8015635C 54600673 */  rlwinm.  r0, r3, 0, 25, 25;
/* 80156360 4182004C */  beq-     UNDEF_801563ac;
/* 80156364 2C190000 */  cmpwi    r25, 0;
/* 80156368 40820090 */  bne-     UNDEF_801563f8;
/* 8015636C C0380028 */  lfs      f1, 40(r24);
/* 80156370 546005EF */  rlwinm.  r0, r3, 0, 23, 23;
/* 80156374 D021004C */  stfs     f1, 76(r1);
/* 80156378 40820014 */  bne-     UNDEF_8015638c;
/* 8015637C C001000C */  lfs      f0, 12(r1);
/* 80156380 FC000840 */  fcmpo    cr0, f0, f1;
/* 80156384 4C411382 */  cror     2, 1, 2;
/* 80156388 40820070 */  bne-     UNDEF_801563f8;
UNDEF_8015638c:;
/* 8015638C C001004C */  lfs      f0, 76(r1);
/* 80156390 FC1D0040 */  fcmpo    cr0, f29, f0;
/* 80156394 4C401382 */  cror     2, 0, 2;
/* 80156398 40820060 */  bne-     UNDEF_801563f8;
/* 8015639C FE600090 */  fmr      f19, f0;
/* 801563A0 C2F80020 */  lfs      f23, 32(r24);
/* 801563A4 3B200001 */  li       r25, 1;
/* 801563A8 48000050 */  b        UNDEF_801563f8;
UNDEF_801563ac:;
/* 801563AC 2C1E0000 */  cmpwi    r30, 0;
/* 801563B0 40820048 */  bne-     UNDEF_801563f8;
/* 801563B4 C038002C */  lfs      f1, 44(r24);
/* 801563B8 546005AD */  rlwinm.  r0, r3, 0, 22, 22;
/* 801563BC EC01D828 */  fsubs    f0, f1, f27;
/* 801563C0 EC008828 */  fsubs    f0, f0, f17;
/* 801563C4 D001004C */  stfs     f0, 76(r1);
/* 801563C8 40820014 */  bne-     UNDEF_801563dc;
/* 801563CC C0010008 */  lfs      f0, 8(r1);
/* 801563D0 FC000840 */  fcmpo    cr0, f0, f1;
/* 801563D4 4C401382 */  cror     2, 0, 2;
/* 801563D8 40820020 */  bne-     UNDEF_801563f8;
UNDEF_801563dc:;
/* 801563DC C001004C */  lfs      f0, 76(r1);
/* 801563E0 FC1D0040 */  fcmpo    cr0, f29, f0;
/* 801563E4 4C411382 */  cror     2, 1, 2;
/* 801563E8 40820010 */  bne-     UNDEF_801563f8;
/* 801563EC FE400090 */  fmr      f18, f0;
/* 801563F0 C2D80024 */  lfs      f22, 36(r24);
/* 801563F4 3BC00001 */  li       r30, 1;
UNDEF_801563f8:;
/* 801563F8 3A940001 */  addi     r20, r20, 1;
/* 801563FC 2C140010 */  cmpwi    r20, 16;
/* 80156400 4180FE40 */  blt+     UNDEF_80156240;
/* 80156404 3AB50001 */  addi     r21, r21, 1;
/* 80156408 2C150008 */  cmpwi    r21, 8;
/* 8015640C 4180FE28 */  blt+     UNDEF_80156234;
/* 80156410 3C7F0009 */  addis    r3, r31, 9;
/* 80156414 88030024 */  lbz      r0, 36(r3);
/* 80156418 2C000000 */  cmpwi    r0, 0;
/* 8015641C 40820010 */  bne-     UNDEF_8015642c;
/* 80156420 C0030048 */  lfs      f0, 72(r3);
/* 80156424 D0010024 */  stfs     f0, 36(r1);
/* 80156428 4800000C */  b        UNDEF_80156434;
UNDEF_8015642c:;
/* 8015642C C0030058 */  lfs      f0, 88(r3);
/* 80156430 D0010024 */  stfs     f0, 36(r1);
UNDEF_80156434:;
/* 80156434 FC200018 */  frsp     f1, f0;
/* 80156438 FC01C840 */  fcmpo    cr0, f1, f25;
/* 8015643C 40810018 */  ble-     UNDEF_80156454;
/* 80156440 C03B003C */  lfs      f1, 60(r27);
/* 80156444 FC150840 */  fcmpo    cr0, f21, f1;
/* 80156448 4081000C */  ble-     UNDEF_80156454;
/* 8015644C D3210024 */  stfs     f25, 36(r1);
/* 80156450 4800005C */  b        UNDEF_801564ac;
UNDEF_80156454:;
/* 80156454 C05B003C */  lfs      f2, 60(r27);
/* 80156458 FC02C840 */  fcmpo    cr0, f2, f25;
/* 8015645C 40810020 */  ble-     UNDEF_8015647c;
/* 80156460 FC000018 */  frsp     f0, f0;
/* 80156464 C022AB18 */  lfs      f1, UNDEF_8042de78@sda21;
/* 80156468 EC000828 */  fsubs    f0, f0, f1;
/* 8015646C FC001040 */  fcmpo    cr0, f0, f2;
/* 80156470 4081000C */  ble-     UNDEF_8015647c;
/* 80156474 EC01102A */  fadds    f0, f1, f2;
/* 80156478 D0010024 */  stfs     f0, 36(r1);
UNDEF_8015647c:;
/* 8015647C 3C7F0009 */  addis    r3, r31, 9;
/* 80156480 80030BD8 */  lwz      r0, 3032(r3);
/* 80156484 2C00000A */  cmpwi    r0, 10;
/* 80156488 41800020 */  blt-     UNDEF_801564a8;
/* 8015648C FC20C890 */  fmr      f1, f25;
/* 80156490 C042AAF4 */  lfs      f2, UNDEF_8042de54@sda21;
/* 80156494 C062AB1C */  lfs      f3, UNDEF_8042de7c@sda21;
/* 80156498 38610024 */  addi     r3, r1, 36;
/* 8015649C C082AA7C */  lfs      f4, UNDEF_8042dddc@sda21;
/* 801564A0 48008DE1 */  bl       UNDEF_8015f280;
/* 801564A4 48000008 */  b        UNDEF_801564ac;
UNDEF_801564a8:;
/* 801564A8 D3210024 */  stfs     f25, 36(r1);
UNDEF_801564ac:;
/* 801564AC 3C7F0009 */  addis    r3, r31, 9;
/* 801564B0 88030024 */  lbz      r0, 36(r3);
/* 801564B4 2C000000 */  cmpwi    r0, 0;
/* 801564B8 40820010 */  bne-     UNDEF_801564c8;
/* 801564BC C0010024 */  lfs      f0, 36(r1);
/* 801564C0 D0030048 */  stfs     f0, 72(r3);
/* 801564C4 4800000C */  b        UNDEF_801564d0;
UNDEF_801564c8:;
/* 801564C8 C0010024 */  lfs      f0, 36(r1);
/* 801564CC D0030058 */  stfs     f0, 88(r3);
UNDEF_801564d0:;
/* 801564D0 3C7F0009 */  addis    r3, r31, 9;
/* 801564D4 C0230048 */  lfs      f1, 72(r3);
/* 801564D8 C0030058 */  lfs      f0, 88(r3);
/* 801564DC 88030024 */  lbz      r0, 36(r3);
/* 801564E0 EC000828 */  fsubs    f0, f0, f1;
/* 801564E4 2C000000 */  cmpwi    r0, 0;
/* 801564E8 EC1E0032 */  fmuls    f0, f30, f0;
/* 801564EC EC01002A */  fadds    f0, f1, f0;
/* 801564F0 D0030038 */  stfs     f0, 56(r3);
/* 801564F4 40820010 */  bne-     UNDEF_80156504;
/* 801564F8 C003004C */  lfs      f0, 76(r3);
/* 801564FC D0010020 */  stfs     f0, 32(r1);
/* 80156500 4800000C */  b        UNDEF_8015650c;
UNDEF_80156504:;
/* 80156504 C003005C */  lfs      f0, 92(r3);
/* 80156508 D0010020 */  stfs     f0, 32(r1);
UNDEF_8015650c:;
/* 8015650C FC200018 */  frsp     f1, f0;
/* 80156510 FC01C040 */  fcmpo    cr0, f1, f24;
/* 80156514 40800018 */  bge-     UNDEF_8015652c;
/* 80156518 C03B003C */  lfs      f1, 60(r27);
/* 8015651C FC140840 */  fcmpo    cr0, f20, f1;
/* 80156520 4080000C */  bge-     UNDEF_8015652c;
/* 80156524 D3010020 */  stfs     f24, 32(r1);
/* 80156528 48000064 */  b        UNDEF_8015658c;
UNDEF_8015652c:;
/* 8015652C C05B003C */  lfs      f2, 60(r27);
/* 80156530 FC02C040 */  fcmpo    cr0, f2, f24;
/* 80156534 40800028 */  bge-     UNDEF_8015655c;
/* 80156538 FC000018 */  frsp     f0, f0;
/* 8015653C C022AB18 */  lfs      f1, UNDEF_8042de78@sda21;
/* 80156540 EC00D02A */  fadds    f0, f0, f26;
/* 80156544 EC01002A */  fadds    f0, f1, f0;
/* 80156548 FC001040 */  fcmpo    cr0, f0, f2;
/* 8015654C 40800010 */  bge-     UNDEF_8015655c;
/* 80156550 EC02D028 */  fsubs    f0, f2, f26;
/* 80156554 EC000828 */  fsubs    f0, f0, f1;
/* 80156558 D0010020 */  stfs     f0, 32(r1);
UNDEF_8015655c:;
/* 8015655C 3C7F0009 */  addis    r3, r31, 9;
/* 80156560 80030BD8 */  lwz      r0, 3032(r3);
/* 80156564 2C00000A */  cmpwi    r0, 10;
/* 80156568 41800020 */  blt-     UNDEF_80156588;
/* 8015656C FC20C090 */  fmr      f1, f24;
/* 80156570 C042AAF4 */  lfs      f2, UNDEF_8042de54@sda21;
/* 80156574 C062AB1C */  lfs      f3, UNDEF_8042de7c@sda21;
/* 80156578 38610020 */  addi     r3, r1, 32;
/* 8015657C C082AA7C */  lfs      f4, UNDEF_8042dddc@sda21;
/* 80156580 48008D01 */  bl       UNDEF_8015f280;
/* 80156584 48000008 */  b        UNDEF_8015658c;
UNDEF_80156588:;
/* 80156588 D3010020 */  stfs     f24, 32(r1);
UNDEF_8015658c:;
/* 8015658C 3C7F0009 */  addis    r3, r31, 9;
/* 80156590 88030024 */  lbz      r0, 36(r3);
/* 80156594 2C000000 */  cmpwi    r0, 0;
/* 80156598 40820010 */  bne-     UNDEF_801565a8;
/* 8015659C C0010020 */  lfs      f0, 32(r1);
/* 801565A0 D003004C */  stfs     f0, 76(r3);
/* 801565A4 4800000C */  b        UNDEF_801565b0;
UNDEF_801565a8:;
/* 801565A8 C0010020 */  lfs      f0, 32(r1);
/* 801565AC D003005C */  stfs     f0, 92(r3);
UNDEF_801565b0:;
/* 801565B0 3C7F0009 */  addis    r3, r31, 9;
/* 801565B4 C023004C */  lfs      f1, 76(r3);
/* 801565B8 C003005C */  lfs      f0, 92(r3);
/* 801565BC 88030024 */  lbz      r0, 36(r3);
/* 801565C0 EC000828 */  fsubs    f0, f0, f1;
/* 801565C4 2C000000 */  cmpwi    r0, 0;
/* 801565C8 EC1E0032 */  fmuls    f0, f30, f0;
/* 801565CC EC01002A */  fadds    f0, f1, f0;
/* 801565D0 D003003C */  stfs     f0, 60(r3);
/* 801565D4 40820010 */  bne-     UNDEF_801565e4;
/* 801565D8 7FE3FB78 */  mr       r3, r31;
/* 801565DC 4BF22705 */  bl       UNDEF_80078ce0;
/* 801565E0 4800000C */  b        UNDEF_801565ec;
UNDEF_801565e4:;
/* 801565E4 7FE3FB78 */  mr       r3, r31;
/* 801565E8 4BF22709 */  bl       UNDEF_80078cf0;
UNDEF_801565ec:;
/* 801565EC FC000818 */  frsp     f0, f1;
/* 801565F0 D021001C */  stfs     f1, 28(r1);
/* 801565F4 FC00B840 */  fcmpo    cr0, f0, f23;
/* 801565F8 4C401382 */  cror     2, 0, 2;
/* 801565FC 40820018 */  bne-     UNDEF_80156614;
/* 80156600 C01B0038 */  lfs      f0, 56(r27);
/* 80156604 FC130040 */  fcmpo    cr0, f19, f0;
/* 80156608 4081000C */  ble-     UNDEF_80156614;
/* 8015660C D2E1001C */  stfs     f23, 28(r1);
/* 80156610 4800005C */  b        UNDEF_8015666c;
UNDEF_80156614:;
/* 80156614 C05B0038 */  lfs      f2, 56(r27);
/* 80156618 FC02B840 */  fcmpo    cr0, f2, f23;
/* 8015661C 40810020 */  ble-     UNDEF_8015663c;
/* 80156620 FC000818 */  frsp     f0, f1;
/* 80156624 C022AB18 */  lfs      f1, UNDEF_8042de78@sda21;
/* 80156628 EC000828 */  fsubs    f0, f0, f1;
/* 8015662C FC001040 */  fcmpo    cr0, f0, f2;
/* 80156630 4081000C */  ble-     UNDEF_8015663c;
/* 80156634 EC01102A */  fadds    f0, f1, f2;
/* 80156638 D001001C */  stfs     f0, 28(r1);
UNDEF_8015663c:;
/* 8015663C 3C7F0009 */  addis    r3, r31, 9;
/* 80156640 80030BD8 */  lwz      r0, 3032(r3);
/* 80156644 2C00000A */  cmpwi    r0, 10;
/* 80156648 41800020 */  blt-     UNDEF_80156668;
/* 8015664C FC20B890 */  fmr      f1, f23;
/* 80156650 C042AAF4 */  lfs      f2, UNDEF_8042de54@sda21;
/* 80156654 C062AB1C */  lfs      f3, UNDEF_8042de7c@sda21;
/* 80156658 3861001C */  addi     r3, r1, 28;
/* 8015665C C082AA7C */  lfs      f4, UNDEF_8042dddc@sda21;
/* 80156660 48008C21 */  bl       UNDEF_8015f280;
/* 80156664 48000008 */  b        UNDEF_8015666c;
UNDEF_80156668:;
/* 80156668 D2E1001C */  stfs     f23, 28(r1);
UNDEF_8015666c:;
/* 8015666C 3C7F0009 */  addis    r3, r31, 9;
/* 80156670 88030024 */  lbz      r0, 36(r3);
/* 80156674 2C000000 */  cmpwi    r0, 0;
/* 80156678 40820010 */  bne-     UNDEF_80156688;
/* 8015667C C001001C */  lfs      f0, 28(r1);
/* 80156680 D0030040 */  stfs     f0, 64(r3);
/* 80156684 4800000C */  b        UNDEF_80156690;
UNDEF_80156688:;
/* 80156688 C001001C */  lfs      f0, 28(r1);
/* 8015668C D0030050 */  stfs     f0, 80(r3);
UNDEF_80156690:;
/* 80156690 7FE3FB78 */  mr       r3, r31;
/* 80156694 4BF2264D */  bl       UNDEF_80078ce0;
/* 80156698 FE600890 */  fmr      f19, f1;
/* 8015669C 7FE3FB78 */  mr       r3, r31;
/* 801566A0 4BF22651 */  bl       UNDEF_80078cf0;
/* 801566A4 EC019828 */  fsubs    f0, f1, f19;
/* 801566A8 7FE3FB78 */  mr       r3, r31;
/* 801566AC EE7E0032 */  fmuls    f19, f30, f0;
/* 801566B0 4BF22631 */  bl       UNDEF_80078ce0;
/* 801566B4 3C7F0009 */  addis    r3, r31, 9;
/* 801566B8 EC01982A */  fadds    f0, f1, f19;
/* 801566BC 88030024 */  lbz      r0, 36(r3);
/* 801566C0 D0030030 */  stfs     f0, 48(r3);
/* 801566C4 2C000000 */  cmpwi    r0, 0;
/* 801566C8 40820010 */  bne-     UNDEF_801566d8;
/* 801566CC C0030044 */  lfs      f0, 68(r3);
/* 801566D0 D0010018 */  stfs     f0, 24(r1);
/* 801566D4 4800000C */  b        UNDEF_801566e0;
UNDEF_801566d8:;
/* 801566D8 C0030054 */  lfs      f0, 84(r3);
/* 801566DC D0010018 */  stfs     f0, 24(r1);
UNDEF_801566e0:;
/* 801566E0 FC000018 */  frsp     f0, f0;
/* 801566E4 FC00B040 */  fcmpo    cr0, f0, f22;
/* 801566E8 4C411382 */  cror     2, 1, 2;
/* 801566EC 4082001C */  bne-     UNDEF_80156708;
/* 801566F0 C01B0038 */  lfs      f0, 56(r27);
/* 801566F4 FC120040 */  fcmpo    cr0, f18, f0;
/* 801566F8 4C401382 */  cror     2, 0, 2;
/* 801566FC 4082000C */  bne-     UNDEF_80156708;
/* 80156700 D2C10018 */  stfs     f22, 24(r1);
/* 80156704 4800002C */  b        UNDEF_80156730;
UNDEF_80156708:;
/* 80156708 3C7F0009 */  addis    r3, r31, 9;
/* 8015670C 80030BD8 */  lwz      r0, 3032(r3);
/* 80156710 2C00000A */  cmpwi    r0, 10;
/* 80156714 4180001C */  blt-     UNDEF_80156730;
/* 80156718 FC20B090 */  fmr      f1, f22;
/* 8015671C C042AAF4 */  lfs      f2, UNDEF_8042de54@sda21;
/* 80156720 C062AB1C */  lfs      f3, UNDEF_8042de7c@sda21;
/* 80156724 38610018 */  addi     r3, r1, 24;
/* 80156728 C082AA7C */  lfs      f4, UNDEF_8042dddc@sda21;
/* 8015672C 48008B55 */  bl       UNDEF_8015f280;
UNDEF_80156730:;
/* 80156730 3C7F0009 */  addis    r3, r31, 9;
/* 80156734 88030024 */  lbz      r0, 36(r3);
/* 80156738 2C000000 */  cmpwi    r0, 0;
/* 8015673C 40820010 */  bne-     UNDEF_8015674c;
/* 80156740 C0010018 */  lfs      f0, 24(r1);
/* 80156744 D0030044 */  stfs     f0, 68(r3);
/* 80156748 4800000C */  b        UNDEF_80156754;
UNDEF_8015674c:;
/* 8015674C C0010018 */  lfs      f0, 24(r1);
/* 80156750 D0030054 */  stfs     f0, 84(r3);
UNDEF_80156754:;
/* 80156754 3C7F0009 */  addis    r3, r31, 9;
/* 80156758 C0230044 */  lfs      f1, 68(r3);
/* 8015675C C0030054 */  lfs      f0, 84(r3);
/* 80156760 EC000828 */  fsubs    f0, f0, f1;
/* 80156764 EC1E0032 */  fmuls    f0, f30, f0;
/* 80156768 EC01002A */  fadds    f0, f1, f0;
/* 8015676C D0030034 */  stfs     f0, 52(r3);
/* 80156770 806DA920 */  lwz      r3, UNDEF_8042a2a0@sda21;
/* 80156774 88030018 */  lbz      r0, 24(r3);
/* 80156778 2C000000 */  cmpwi    r0, 0;
/* 8015677C 408200EC */  bne-     UNDEF_80156868;
/* 80156780 7FE3FB78 */  mr       r3, r31;
/* 80156784 4BF222ED */  bl       UNDEF_80078a70;
/* 80156788 FE200890 */  fmr      f17, f1;
/* 8015678C 7FE3FB78 */  mr       r3, r31;
/* 80156790 4BF22481 */  bl       UNDEF_80078c10;
/* 80156794 3C7F0009 */  addis    r3, r31, 9;
/* 80156798 800DAB68 */  lwz      r0, UNDEF_8042a4e8@sda21;
/* 8015679C C003003C */  lfs      f0, 60(r3);
/* 801567A0 EC21D828 */  fsubs    f1, f1, f27;
/* 801567A4 2C000002 */  cmpwi    r0, 2;
/* 801567A8 C0430038 */  lfs      f2, 56(r3);
/* 801567AC EC1A002A */  fadds    f0, f26, f0;
/* 801567B0 4182003C */  beq-     UNDEF_801567ec;
/* 801567B4 FC1D8840 */  fcmpo    cr0, f29, f17;
/* 801567B8 4080000C */  bge-     UNDEF_801567c4;
/* 801567BC FFA08890 */  fmr      f29, f17;
/* 801567C0 48000010 */  b        UNDEF_801567d0;
UNDEF_801567c4:;
/* 801567C4 FC1D0840 */  fcmpo    cr0, f29, f1;
/* 801567C8 40810008 */  ble-     UNDEF_801567d0;
/* 801567CC FFA00890 */  fmr      f29, f1;
UNDEF_801567d0:;
/* 801567D0 FC1C0040 */  fcmpo    cr0, f28, f0;
/* 801567D4 4080000C */  bge-     UNDEF_801567e0;
/* 801567D8 FF800090 */  fmr      f28, f0;
/* 801567DC 48000010 */  b        UNDEF_801567ec;
UNDEF_801567e0:;
/* 801567E0 FC1C1040 */  fcmpo    cr0, f28, f2;
/* 801567E4 40810008 */  ble-     UNDEF_801567ec;
/* 801567E8 FF801090 */  fmr      f28, f2;
UNDEF_801567ec:;
/* 801567EC D3BB0060 */  stfs     f29, 96(r27);
/* 801567F0 C002AA84 */  lfs      f0, UNDEF_8042dde4@sda21;
/* 801567F4 D39B0064 */  stfs     f28, 100(r27);
/* 801567F8 C03B0058 */  lfs      f1, 88(r27);
/* 801567FC FC000800 */  fcmpu    cr0, f0, f1;
/* 80156800 41820008 */  beq-     UNDEF_80156808;
/* 80156804 FFA00890 */  fmr      f29, f1;
UNDEF_80156808:;
/* 80156808 C03B005C */  lfs      f1, 92(r27);
/* 8015680C C002AA84 */  lfs      f0, UNDEF_8042dde4@sda21;
/* 80156810 FC000800 */  fcmpu    cr0, f0, f1;
/* 80156814 41820008 */  beq-     UNDEF_8015681c;
/* 80156818 FF800890 */  fmr      f28, f1;
UNDEF_8015681c:;
/* 8015681C C03B0078 */  lfs      f1, 120(r27);
/* 80156820 3C7F0009 */  addis    r3, r31, 9;
/* 80156824 C002AA80 */  lfs      f0, UNDEF_8042dde0@sda21;
/* 80156828 EC5D082A */  fadds    f2, f29, f1;
/* 8015682C EC2006F2 */  fmuls    f1, f0, f27;
/* 80156830 D05B0038 */  stfs     f2, 56(r27);
/* 80156834 EC0006B2 */  fmuls    f0, f0, f26;
/* 80156838 C05B007C */  lfs      f2, 124(r27);
/* 8015683C EC5C102A */  fadds    f2, f28, f2;
/* 80156840 D05B003C */  stfs     f2, 60(r27);
/* 80156844 93830BD4 */  stw      r28, 3028(r3);
/* 80156848 D37B0040 */  stfs     f27, 64(r27);
/* 8015684C D35B0044 */  stfs     f26, 68(r27);
/* 80156850 C05B0038 */  lfs      f2, 56(r27);
/* 80156854 EC22082A */  fadds    f1, f2, f1;
/* 80156858 D03B0048 */  stfs     f1, 72(r27);
/* 8015685C C03B003C */  lfs      f1, 60(r27);
/* 80156860 EC010028 */  fsubs    f0, f1, f0;
/* 80156864 D01B004C */  stfs     f0, 76(r27);
UNDEF_80156868:;
/* 80156868 880DA65A */  lbz      r0, UNDEF_80429fda@sda21;
/* 8015686C 5400073F */  clrlwi.  r0, r0, 28;
/* 80156870 40820024 */  bne-     UNDEF_80156894;
/* 80156874 3C7F0009 */  addis    r3, r31, 9;
/* 80156878 38630A50 */  addi     r3, r3, 2640;
/* 8015687C 4BF31015 */  bl       UNDEF_80087890;
/* 80156880 3C7F0009 */  addis    r3, r31, 9;
/* 80156884 38630AAC */  addi     r3, r3, 2732;
/* 80156888 4BF81ED9 */  bl       UNDEF_800d8760;
/* 8015688C 7FE3FB78 */  mr       r3, r31;
/* 80156890 4BF21A71 */  bl       UNDEF_80078300;
UNDEF_80156894:;
/* 80156894 3C7F0009 */  addis    r3, r31, 9;
/* 80156898 38630B60 */  addi     r3, r3, 2912;
/* 8015689C 4BF27C45 */  bl       UNDEF_8007e4e0;
/* 801568A0 3C7F0009 */  addis    r3, r31, 9;
/* 801568A4 38630AC0 */  addi     r3, r3, 2752;
/* 801568A8 4BF332B9 */  bl       UNDEF_80089b60;
/* 801568AC 3C9F0009 */  addis    r4, r31, 9;
/* 801568B0 80640BD8 */  lwz      r3, 3032(r4);
/* 801568B4 2C030064 */  cmpwi    r3, 100;
/* 801568B8 4080000C */  bge-     UNDEF_801568c4;
/* 801568BC 38030001 */  addi     r0, r3, 1;
/* 801568C0 90040BD8 */  stw      r0, 3032(r4);
UNDEF_801568c4:;
/* 801568C4 38600001 */  li       r3, 1;
UNDEF_801568c8:;
/* 801568C8 396100D0 */  addi     r11, r1, 208;
/* 801568CC E3E101B8 */  .long    0xE3E101B8; // psq_l    f31, 440(r1), 0, 0;
/* 801568D0 CBE101B0 */  lfd      f31, 432(r1);
/* 801568D4 E3C101A8 */  .long    0xE3C101A8; // psq_l    f30, 424(r1), 0, 0;
/* 801568D8 CBC101A0 */  lfd      f30, 416(r1);
/* 801568DC E3A10198 */  .long    0xE3A10198; // psq_l    f29, 408(r1), 0, 0;
/* 801568E0 CBA10190 */  lfd      f29, 400(r1);
/* 801568E4 E3810188 */  .long    0xE3810188; // psq_l    f28, 392(r1), 0, 0;
/* 801568E8 CB810180 */  lfd      f28, 384(r1);
/* 801568EC E3610178 */  .long    0xE3610178; // psq_l    f27, 376(r1), 0, 0;
/* 801568F0 CB610170 */  lfd      f27, 368(r1);
/* 801568F4 E3410168 */  .long    0xE3410168; // psq_l    f26, 360(r1), 0, 0;
/* 801568F8 CB410160 */  lfd      f26, 352(r1);
/* 801568FC E3210158 */  .long    0xE3210158; // psq_l    f25, 344(r1), 0, 0;
/* 80156900 CB210150 */  lfd      f25, 336(r1);
/* 80156904 E3010148 */  .long    0xE3010148; // psq_l    f24, 328(r1), 0, 0;
/* 80156908 CB010140 */  lfd      f24, 320(r1);
/* 8015690C E2E10138 */  .long    0xE2E10138; // psq_l    f23, 312(r1), 0, 0;
/* 80156910 CAE10130 */  lfd      f23, 304(r1);
/* 80156914 E2C10128 */  .long    0xE2C10128; // psq_l    f22, 296(r1), 0, 0;
/* 80156918 CAC10120 */  lfd      f22, 288(r1);
/* 8015691C E2A10118 */  .long    0xE2A10118; // psq_l    f21, 280(r1), 0, 0;
/* 80156920 CAA10110 */  lfd      f21, 272(r1);
/* 80156924 E2810108 */  .long    0xE2810108; // psq_l    f20, 264(r1), 0, 0;
/* 80156928 CA810100 */  lfd      f20, 256(r1);
/* 8015692C E26100F8 */  .long    0xE26100F8; // psq_l    f19, 248(r1), 0, 0;
/* 80156930 CA6100F0 */  lfd      f19, 240(r1);
/* 80156934 E24100E8 */  .long    0xE24100E8; // psq_l    f18, 232(r1), 0, 0;
/* 80156938 CA4100E0 */  lfd      f18, 224(r1);
/* 8015693C E22100D8 */  .long    0xE22100D8; // psq_l    f17, 216(r1), 0, 0;
/* 80156940 CA2100D0 */  lfd      f17, 208(r1);
/* 80156944 48186751 */  bl       UNDEF_802dd094;
/* 80156948 800101C4 */  lwz      r0, 452(r1);
/* 8015694C 7C0803A6 */  mtlr     r0;
/* 80156950 382101C0 */  addi     r1, r1, 448;
/* 80156954 4E800020 */  blr;
  // clang-format on
);

[[nsmbw(0x80156960)]]
dAcPy_c* dBgGm_c::getNumberPlayerP(int player)
{
    u8 mask = daPyMng_c::getActScrollInfo();

    for (int i = 0; i < PLAYER_COUNT; i++) {
        if (mask & (1 << i)) {
            if (player == 0) {
                return daPyMng_c::getPlayer(i);
            }
            player--;
        }
    }

    return nullptr;
}

[[nsmbw(0x80156A10)]]
int dBgGm_c::getActScrPlayerNum()
{
    u8 mask = daPyMng_c::getActScrollInfo();

    int num = 0;
    for (int i = 0; i < PLAYER_COUNT; i++) {
        if (mask & (1 << i)) {
            num++;
        }
    }

    return num;
}

[[nsmbw(0x80156BF0)]]
bool UNDEF_80156BF0(void* param1, void* param2, void* param3) ASM_METHOD(
  // clang-format off
/* 80156BF0 9421FFA0 */  stwu     r1, -96(r1);
/* 80156BF4 7C0802A6 */  mflr     r0;
/* 80156BF8 90010064 */  stw      r0, 100(r1);
/* 80156BFC 39610040 */  addi     r11, r1, 64;
/* 80156C00 DBE10050 */  stfd     f31, 80(r1);
/* 80156C04 F3E10058 */  .long    0xF3E10058; // psq_st   f31, 88(r1), 0, 0;
/* 80156C08 DBC10040 */  stfd     f30, 64(r1);
/* 80156C0C F3C10048 */  .long    0xF3C10048; // psq_st   f30, 72(r1), 0, 0;
/* 80156C10 48186449 */  bl       UNDEF_802dd058;
/* 80156C14 7C781B78 */  mr       r24, r3;
/* 80156C18 7C992378 */  mr       r25, r4;
/* 80156C1C 7CBE2B78 */  mr       r30, r5;
/* 80156C20 7CDF3378 */  mr       r31, r6;
/* 80156C24 4BFFFDED */  bl       UNDEF_80156a10;
/* 80156C28 C3E2AB28 */  lfs      f31, UNDEF_8042de88@sda21;
/* 80156C2C 7C7D1B78 */  mr       r29, r3;
/* 80156C30 C3C2AA84 */  lfs      f30, UNDEF_8042dde4@sda21;
/* 80156C34 3B600000 */  li       r27, 0;
/* 80156C38 3B800000 */  li       r28, 0;
/* 80156C3C 3B400000 */  li       r26, 0;
UNDEF_80156c40:;
/* 80156C40 7F03C378 */  mr       r3, r24;
/* 80156C44 7F44D378 */  mr       r4, r26;
/* 80156C48 4BFFFD19 */  bl       UNDEF_80156960;
/* 80156C4C 2C030000 */  cmpwi    r3, 0;
/* 80156C50 4182005C */  beq-     UNDEF_80156cac;
/* 80156C54 C0431530 */  lfs      f2, 5424(r3);
/* 80156C58 C0190018 */  lfs      f0, 24(r25);
/* 80156C5C C063152C */  lfs      f3, 5420(r3);
/* 80156C60 C0231534 */  lfs      f1, 5428(r3);
/* 80156C64 FC020040 */  fcmpo    cr0, f2, f0;
/* 80156C68 D0610008 */  stfs     f3, 8(r1);
/* 80156C6C D041000C */  stfs     f2, 12(r1);
/* 80156C70 D0210010 */  stfs     f1, 16(r1);
/* 80156C74 4C401382 */  cror     2, 0, 2;
/* 80156C78 40820034 */  bne-     UNDEF_80156cac;
/* 80156C7C C019001C */  lfs      f0, 28(r25);
/* 80156C80 FC020040 */  fcmpo    cr0, f2, f0;
/* 80156C84 4C411382 */  cror     2, 1, 2;
/* 80156C88 40820024 */  bne-     UNDEF_80156cac;
/* 80156C8C FC03F840 */  fcmpo    cr0, f3, f31;
/* 80156C90 3B9C0001 */  addi     r28, r28, 1;
/* 80156C94 40800008 */  bge-     UNDEF_80156c9c;
/* 80156C98 FFE01890 */  fmr      f31, f3;
UNDEF_80156c9c:;
/* 80156C9C C0010008 */  lfs      f0, 8(r1);
/* 80156CA0 FC00F040 */  fcmpo    cr0, f0, f30;
/* 80156CA4 40810008 */  ble-     UNDEF_80156cac;
/* 80156CA8 FFC00090 */  fmr      f30, f0;
UNDEF_80156cac:;
/* 80156CAC 3B5A0001 */  addi     r26, r26, 1;
/* 80156CB0 2C1A0004 */  cmpwi    r26, PLAYER_COUNT;
/* 80156CB4 4180FF8C */  blt+     UNDEF_80156c40;
/* 80156CB8 A0790040 */  lhz      r3, 64(r25);
/* 80156CBC 546004E7 */  rlwinm.  r0, r3, 0, 19, 19;
/* 80156CC0 41820014 */  beq-     UNDEF_80156cd4;
/* 80156CC4 2C1C0000 */  cmpwi    r28, 0;
/* 80156CC8 41820068 */  beq-     UNDEF_80156d30;
/* 80156CCC 3B600001 */  li       r27, 1;
/* 80156CD0 48000060 */  b        UNDEF_80156d30;
UNDEF_80156cd4:;
/* 80156CD4 546004A5 */  rlwinm.  r0, r3, 0, 18, 18;
/* 80156CD8 41820028 */  beq-     UNDEF_80156d00;
/* 80156CDC 7C1CE800 */  cmpw     r28, r29;
/* 80156CE0 40820050 */  bne-     UNDEF_80156d30;
/* 80156CE4 4BF0903D */  bl       UNDEF_8005fd20;
/* 80156CE8 3803FFFF */  subi     r0, r3, 1;
/* 80156CEC 7C000034 */  cntlzw   r0, r0;
/* 80156CF0 5400D97F */  srwi.    r0, r0, 5;
/* 80156CF4 4182003C */  beq-     UNDEF_80156d30;
/* 80156CF8 3B600001 */  li       r27, 1;
/* 80156CFC 48000034 */  b        UNDEF_80156d30;
UNDEF_80156d00:;
/* 80156D00 54600463 */  rlwinm.  r0, r3, 0, 17, 17;
/* 80156D04 4182002C */  beq-     UNDEF_80156d30;
/* 80156D08 7C1CE800 */  cmpw     r28, r29;
/* 80156D0C 40820024 */  bne-     UNDEF_80156d30;
/* 80156D10 4BF09011 */  bl       UNDEF_8005fd20;
/* 80156D14 68600001 */  xori     r0, r3, 1;
/* 80156D18 7C040E70 */  srawi    r4, r0, 1;
/* 80156D1C 7C001838 */  and      r0, r0, r3;
/* 80156D20 7C002050 */  sub      r0, r4, r0;
/* 80156D24 54000FFF */  srwi.    r0, r0, 31;
/* 80156D28 41820008 */  beq-     UNDEF_80156d30;
/* 80156D2C 3B600001 */  li       r27, 1;
UNDEF_80156d30:;
/* 80156D30 D3FE0000 */  stfs     f31, 0(r30);
/* 80156D34 7F63DB78 */  mr       r3, r27;
/* 80156D38 D3DF0000 */  stfs     f30, 0(r31);
/* 80156D3C E3E10058 */  .long    0xE3E10058; // psq_l    f31, 88(r1), 0, 0;
/* 80156D40 CBE10050 */  lfd      f31, 80(r1);
/* 80156D44 E3C10048 */  .long    0xE3C10048; // psq_l    f30, 72(r1), 0, 0;
/* 80156D48 CBC10040 */  lfd      f30, 64(r1);
/* 80156D4C 39610040 */  addi     r11, r1, 64;
/* 80156D50 48186355 */  bl       UNDEF_802dd0a4;
/* 80156D54 80010064 */  lwz      r0, 100(r1);
/* 80156D58 7C0803A6 */  mtlr     r0;
/* 80156D5C 38210060 */  addi     r1, r1, 96;
/* 80156D60 4E800020 */  blr;
  // clang-format on
);

[[nsmbw(0x80156D70)]]
bool dBgGm_c::isManualZoomActive(void* param1) ASM_METHOD(
  // clang-format off
/* 80156D70 9421FFD0 */  stwu     r1, -48(r1);
/* 80156D74 7C0802A6 */  mflr     r0;
/* 80156D78 90010034 */  stw      r0, 52(r1);
/* 80156D7C 39610030 */  addi     r11, r1, 48;
/* 80156D80 481862E1 */  bl       UNDEF_802dd060;
/* 80156D84 7C7A1B78 */  mr       r26, r3;
/* 80156D88 7C9B2378 */  mr       r27, r4;
/* 80156D8C 4BFFFC85 */  bl       getActScrPlayerNum__7dBgGm_cFv;
/* 80156D90 7C7F1B78 */  mr       r31, r3;
/* 80156D94 3BA00000 */  li       r29, 0;
/* 80156D98 3BC00000 */  li       r30, 0;
/* 80156D9C 3B800000 */  li       r28, 0;
UNDEF_80156da0:;
/* 80156DA0 7F43D378 */  mr       r3, r26;
/* 80156DA4 7F84E378 */  mr       r4, r28;
/* 80156DA8 4BFFFBB9 */  bl       getNumberPlayerP__7dBgGm_cFi;
/* 80156DAC 2C030000 */  cmpwi    r3, 0;
/* 80156DB0 41820060 */  beq-     UNDEF_80156e10;
/* 80156DB4 C063152C */  lfs      f3, 5420(r3);
/* 80156DB8 C01B0000 */  lfs      f0, 0(r27);
/* 80156DBC C0431530 */  lfs      f2, 5424(r3);
/* 80156DC0 C0231534 */  lfs      f1, 5428(r3);
/* 80156DC4 FC030040 */  fcmpo    cr0, f3, f0;
/* 80156DC8 D0610008 */  stfs     f3, 8(r1);
/* 80156DCC D041000C */  stfs     f2, 12(r1);
/* 80156DD0 D0210010 */  stfs     f1, 16(r1);
/* 80156DD4 4C411382 */  cror     2, 1, 2;
/* 80156DD8 40820038 */  bne-     UNDEF_80156e10;
/* 80156DDC C01B0004 */  lfs      f0, 4(r27);
/* 80156DE0 FC030040 */  fcmpo    cr0, f3, f0;
/* 80156DE4 4C401382 */  cror     2, 0, 2;
/* 80156DE8 40820028 */  bne-     UNDEF_80156e10;
/* 80156DEC C01B0008 */  lfs      f0, 8(r27);
/* 80156DF0 FC020040 */  fcmpo    cr0, f2, f0;
/* 80156DF4 4C401382 */  cror     2, 0, 2;
/* 80156DF8 40820018 */  bne-     UNDEF_80156e10;
/* 80156DFC C01B000C */  lfs      f0, 12(r27);
/* 80156E00 FC020040 */  fcmpo    cr0, f2, f0;
/* 80156E04 4C411382 */  cror     2, 1, 2;
/* 80156E08 40820008 */  bne-     UNDEF_80156e10;
/* 80156E0C 3BDE0001 */  addi     r30, r30, 1;
UNDEF_80156e10:;
/* 80156E10 3B9C0001 */  addi     r28, r28, 1;
/* 80156E14          */  cmpwi    r28, PLAYER_COUNT;
/* 80156E18 4180FF88 */  blt+     UNDEF_80156da0;
/* 80156E1C 881B0010 */  lbz      r0, 16(r27);
/* 80156E20 2C000000 */  cmpwi    r0, 0;
/* 80156E24 40820014 */  bne-     UNDEF_80156e38;
/* 80156E28 2C1E0000 */  cmpwi    r30, 0;
/* 80156E2C 41820060 */  beq-     UNDEF_80156e8c;
/* 80156E30 3BA00001 */  li       r29, 1;
/* 80156E34 48000058 */  b        UNDEF_80156e8c;
UNDEF_80156e38:;
/* 80156E38 28000001 */  cmplwi   r0, 1;
/* 80156E3C 40820028 */  bne-     UNDEF_80156e64;
/* 80156E40 7C1EF800 */  cmpw     r30, r31;
/* 80156E44 40820048 */  bne-     UNDEF_80156e8c;
/* 80156E48 4BF08ED9 */  bl       getScrollNum__9daPyMng_cFv;
/* 80156E4C 3803FFFF */  subi     r0, r3, 1;
/* 80156E50 7C000034 */  cntlzw   r0, r0;
/* 80156E54 5400D97F */  srwi.    r0, r0, 5;
/* 80156E58 41820034 */  beq-     UNDEF_80156e8c;
/* 80156E5C 3BA00001 */  li       r29, 1;
/* 80156E60 4800002C */  b        UNDEF_80156e8c;
UNDEF_80156e64:;
/* 80156E64 2C1E0000 */  cmpwi    r30, 0;
/* 80156E68 41820024 */  beq-     UNDEF_80156e8c;
/* 80156E6C 4BF08EB5 */  bl       getScrollNum__9daPyMng_cFv;
/* 80156E70 68600001 */  xori     r0, r3, 1;
/* 80156E74 7C040E70 */  srawi    r4, r0, 1;
/* 80156E78 7C001838 */  and      r0, r0, r3;
/* 80156E7C 7C002050 */  sub      r0, r4, r0;
/* 80156E80 54000FFF */  srwi.    r0, r0, 31;
/* 80156E84 41820008 */  beq-     UNDEF_80156e8c;
/* 80156E88 3BA00001 */  li       r29, 1;
UNDEF_80156e8c:;
/* 80156E8C 39610030 */  addi     r11, r1, 48;
/* 80156E90 7FA3EB78 */  mr       r3, r29;
/* 80156E94 48186219 */  bl       UNDEF_802dd0ac;
/* 80156E98 80010034 */  lwz      r0, 52(r1);
/* 80156E9C 7C0803A6 */  mtlr     r0;
/* 80156EA0 38210030 */  addi     r1, r1, 48;
/* 80156EA4 4E800020 */  blr;
  // clang-format on
);